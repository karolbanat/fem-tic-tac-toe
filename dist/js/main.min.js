"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var r,n,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Game=_createClass(function e(){var a=this;_classCallCheck(this,e),this.ties=0,this.gameCount=0,this.turnCount=0,this.onFieldClick=function(e){var e=e.target,t=parseInt(e.dataset.row),e=parseInt(e.dataset.column);a.makeMove(t,e)},this.onGameContinue=function(){a.gameCount++,a.turnCount=0,a.gameBoard.clear(),a.updateScoreBoard(),a.makeMoveCPU()},this.onGameQuit=function(){a.gameContainer.classList.add("hidden"),a.gameBoard.clear(),a.gameMenu.show()},this.onRestartButtonClick=function(e){a.restartGameModal.show()},this.init=function(e,t){var r,n="x"===t?"o":"x",e="singleplayer"===e?(r="you",new CPUPlayer("cpu",n)):(r="p1",new Player("p2",n)),n=new Player(r,t);"x"===t?(a.xPlayer=n,a.oPlayer=e):(a.xPlayer=e,a.oPlayer=n),a.playerQueue=[a.xPlayer,a.oPlayer],a.gameContainer.classList.remove("hidden"),a.startGame()},this.startGame=function(){a.scoreBoard.init(a.xPlayer,a.oPlayer,a.ties),a.gameBoard.init(),a.updateTurnIndicator(),a.makeMoveCPU()},this.restartGame=function(){a.ties=0,a.turnCount=0,a.gameCount=0,a.gameBoard.clear(),a.xPlayer.resetScore(),a.oPlayer.resetScore(),a.updateScoreBoard(),a.updateTurnIndicator(),a.makeMoveCPU(),a.restartGameButton.focus()},this.getCurrentPlayerMark=function(){return a.getCurrentPlayer().getMark()},this.getCurrentPlayer=function(){return a.playerQueue[(a.gameCount+a.turnCount)%2]},this.makeMove=function(e,t){a.gameBoard.isFieldChecked(e,t)||(a.gameBoard.checkField(a.getCurrentPlayer().getMark(),e,t),a.afterMove())},this.afterMove=function(){null!==a.gameBoard.getWinningFields()?(a.gameResultModal.show(a.getCurrentPlayer()),a.getCurrentPlayer().updateScore()):a.gameBoard.isFull()?(a.gameResultModal.show(),a.ties++):(a.increaseTurnCount(),a.updateTurnIndicator(),a.makeMoveCPU())},this.makeMoveCPU=function(){a.getCurrentPlayer()instanceof CPUPlayer&&a.makeMove.apply(a,_toConsumableArray(a.getCurrentPlayer().makeMove(a.gameBoard)))},this.updateTurnIndicator=function(){a.turnIndicator.update(a.getCurrentPlayerMark())},this.updateScoreBoard=function(){a.scoreBoard.updateScore(a.xPlayer,a.oPlayer,a.ties)},this.increaseTurnCount=function(){return++a.turnCount},this.gameMenu=new GameMenu("#game-menu",this.init),this.gameMenu.init(),this.gameContainer=document.querySelector("#tic-tac-toe-game"),this.scoreBoard=new ScoreBoard("#score-board"),this.gameBoard=new GameBoard("#game-board",this.onFieldClick,this.getCurrentPlayerMark),this.turnIndicator=new TurnIndicator,this.gameResultModal=new ResultModal(this.onGameQuit,this.onGameContinue),this.restartGameModal=new RestartModal(this.restartGame),this.restartGameButton=this.gameContainer.querySelector("#restart-game-button"),this.restartGameButton.addEventListener("click",this.onRestartButtonClick)}),GameMenu=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameInit=r,this.init=function(){n.formSubmitButtons.forEach(function(e){return e.addEventListener("click",n.handleMenuSubmitButton)})},this.handleMenuSubmitButton=function(e){var t;e.preventDefault(),n.isAnyOptionSelected()?(n.errorMsg.classList.remove("visible"),n.errorMsg.innerText="",e=e.target.dataset.mode,t=n.getCheckedOptionMark(),n.hide(),n.gameInit(e,t)):(n.errorMsg.classList.add("visible"),n.errorMsg.innerText="Please select mark for player 1")},this.show=function(){n.gameMenu.classList.remove("hidden")},this.hide=function(){n.gameMenu.classList.add("hidden")},this.isAnyOptionSelected=function(){return Array.from(n.formOptions).some(function(e){return e.checked})},this.getCheckedOptionMark=function(){var e,t=_createForOfIteratorHelper(n.formOptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.checked)return r.dataset.mark}}catch(e){t.e(e)}finally{t.f()}return""},this.gameMenu=document.querySelector(t),this.menuForm=this.gameMenu.querySelector("form"),this.formOptions=this.menuForm.querySelectorAll('input[type="radio"]'),this.errorMsg=this.menuForm.querySelector('[role="alert"]'),this.formSubmitButtons=this.menuForm.querySelectorAll('button[type="submit"]')}),TurnIndicator=_createClass(function e(){var t=this;_classCallCheck(this,e),this.update=function(e){t.currentPlayerMarkElement.innerText=e,t.currentPlayerMarkIcon.src="./dist/assets/icon-".concat(e,".svg")},this.currentPlayerMarkElement=document.querySelector("#current-player-mark"),this.currentPlayerMarkIcon=document.querySelector("#current-player-mark-icon")}),ScoreBoard=_createClass(function e(t){var n=this;_classCallCheck(this,e),this.init=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n.p1Label.innerText=e.toString(),n.p2Label.innerText=t.toString(),n.updateScore(e,t,r)},this.updateScore=function(e,t,r){n.p1Score.innerText=e.getScore().toString(),n.p2Score.innerText=t.getScore().toString(),n.tiesScore.innerText=r.toString()},this.scoreBoardContainer=document.querySelector(t),this.p1Label=this.scoreBoardContainer.querySelector("#p1-game-name"),this.p1Score=this.scoreBoardContainer.querySelector("#p1-game-score"),this.p2Label=this.scoreBoardContainer.querySelector("#p2-game-name"),this.p2Score=this.scoreBoardContainer.querySelector("#p2-game-score"),this.tiesScore=this.scoreBoardContainer.querySelector("#game-ties")}),ResultModal=_createClass(function e(t,r){var a=this;_classCallCheck(this,e),this.gameQuitHandling=t,this.gameContinueHandling=r,this.handleContinue=function(e){a.gameContinueHandling(),a.hide()},this.handleQuit=function(){a.hide(),a.gameQuitHandling()},this.show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;a.modal.classList.add("active"),a.updateResult(e)},this.hide=function(){a.modal.classList.remove("active")},this.updateResult=function(e){null===e?a.displayTieResult():a.displayWinnerResult(e),a.quitButton.focus()},this.displayTieResult=function(){a.modal.setAttribute("data-winner","tie"),a.modalHeading.innerHTML="",a.modalHeading.innerText="Round tied"},this.displayWinnerResult=function(e){a.modal.setAttribute("data-winner",e.getMark());var t=a.getRoundMessage(e.getName());a.modalMessage.innerText=t,a.setResultHeading(e)},this.setResultHeading=function(e){a.modalHeading.innerHTML="";var e=e.getMark(),t=document.createElement("img"),r=(t.setAttribute("src","./dist/assets/icon-".concat(e,".svg")),t.setAttribute("alt",""),document.createElement("span")),e=(r.classList.add("visually-hidden"),r.innerText=e,document.createTextNode("takes the round")),n=document.createElement("span");n.appendChild(r),n.appendChild(e),a.modalHeading.appendChild(t),a.modalHeading.appendChild(n)},this.getRoundMessage=function(e){var t;switch(e){case"p1":t="Player 1 wins!";break;case"p2":t="Player 2 wins!";break;case"you":t="You won!";break;case"cpu":t="Oh no, you lost...";break;default:t=""}return t},this.modal=document.querySelector("#game-result-modal"),this.modalMessage=this.modal.querySelector(".modal__message"),this.modalHeading=this.modal.querySelector(".modal__heading"),this.quitButton=this.modal.querySelector('button[data-action="quit"]'),this.quitButton.addEventListener("click",this.handleQuit),this.continueButton=this.modal.querySelector('button[data-action="continue"]'),this.continueButton.addEventListener("click",this.handleContinue)}),RestartModal=_createClass(function e(t){var r=this;_classCallCheck(this,e),this.gameRestartHandling=t,this.handleCancel=function(){r.hide()},this.handleRestart=function(){r.gameRestartHandling(),r.hide()},this.show=function(){r.modal.classList.add("active")},this.hide=function(){r.modal.classList.remove("active")},this.modal=document.querySelector("#game-reset-modal"),this.cancelButton=this.modal.querySelector('button[data-action="cancel"]'),this.cancelButton.addEventListener("click",this.handleCancel),this.restartButton=this.modal.querySelector('button[data-action="restart"]'),this.restartButton.addEventListener("click",this.handleRestart)}),GameBoard=_createClass(function e(t,r,n){var a=this;_classCallCheck(this,e),this.onFieldClick=r,this.getCurrentMark=n,this.BOARD_SIZE=3,this.init=function(){a.board=[[],[],[]];for(var e=a.boardElement.querySelectorAll(".game-board__field"),t=0;t<a.board.length;t++)for(var r=0;r<a.BOARD_SIZE;r++)a.board[t].push(new Field(t,r,e[r+t*a.BOARD_SIZE],a.onFieldClick,a.getCurrentMark))},this.checkField=function(e,t,r){t<a.board.length&&r<a.board[0].length&&a.board[t][r].check(e)},this.isFieldChecked=function(e,t){return a.board[e][t].isChecked()},this.isFull=function(){return a.board.flat().every(function(e){return e.isChecked()})},this.getWinningFields=function(){return a.checkRows()||a.checkColumns()||a.checkDiagonal()},this.checkRows=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[e][0].getMark()&&a.board[e][0].getMark()===a.board[e][1].getMark()&&a.board[e][1].getMark()===a.board[e][2].getMark())return[a.board[e][0].setAsGameWinning(),a.board[e][1].setAsGameWinning(),a.board[e][2].setAsGameWinning()];return null},this.checkColumns=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[0][e].getMark()&&a.board[0][e].getMark()===a.board[1][e].getMark()&&a.board[1][e].getMark()===a.board[2][e].getMark())return[a.board[0][e].setAsGameWinning(),a.board[1][e].setAsGameWinning(),a.board[2][e].setAsGameWinning()];return null},this.checkDiagonal=function(){return null!==a.board[1][1].getMark()&&a.board[0][0].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][2].getMark()?[a.board[0][0].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][2].setAsGameWinning()]:null!==a.board[1][1].getMark()&&a.board[0][2].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][0].getMark()?[a.board[0][2].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][0].setAsGameWinning()]:null},this.clear=function(){for(var e=0;e<a.board.length;e++)for(var t=0;t<a.BOARD_SIZE;t++)a.board[e][t].clear()},this.boardElement=document.querySelector(t)}),Field=_createClass(function e(t,r,n,a,o){var i=this;_classCallCheck(this,e),this.row=t,this.column=r,this.fieldElement=n,this.gameOnClickHandler=a,this.getCurrentMark=o,this.mark=null,this.handleHover=function(){var e=i.getCurrentMark();i.fieldElement.setAttribute("data-current-player",e)},this.handleBlur=function(){i.fieldElement.removeAttribute("data-current-player")},this.clear=function(){i.mark=null,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", empty field")),i.fieldElement.removeAttribute("data-game-winning"),i.fieldElement.removeAttribute("data-current-player"),i.fieldElement.removeAttribute("data-mark")},this.check=function(e){i.mark=e,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", ").concat(i.mark," mark")),i.fieldElement.setAttribute("data-mark",e)},this.isChecked=function(){return null!==i.mark},this.setAsGameWinning=function(){return i.fieldElement.setAttribute("data-game-winning",""),i},this.getMark=function(){return i.mark},this.fieldElement&&(this.fieldElement.addEventListener("click",this.gameOnClickHandler),this.fieldElement.addEventListener("mouseover",this.handleHover),this.fieldElement.addEventListener("focusin",this.handleHover),this.fieldElement.addEventListener("mouseout",this.handleBlur),this.fieldElement.addEventListener("focusout",this.handleBlur),this.fieldElement.dataset.row=this.row.toString(),this.fieldElement.dataset.column=this.column.toString(),this.clear())}),Player=_createClass(function e(t,r){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.name=t,this.mark=r,this.score=a,this.toString=function(){return"".concat(n.mark," (").concat(n.name,")")},this.getName=function(){return n.name},this.getMark=function(){return n.mark},this.getScore=function(){return n.score},this.updateScore=function(){return++n.score},this.resetScore=function(){n.score=0}}),CPUPlayer=function(){_inherits(r,Player);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).makeMove=function(e){for(var t,r,n=e.BOARD_SIZE;t=Math.floor(Math.random()*n),r=Math.floor(Math.random()*n),e.isFieldChecked(t,r););return[t,r]},e}return _createClass(r)}(),ticTacToeGame=new Game;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsiR2FtZSIsIl9jcmVhdGVDbGFzcyIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInRpZXMiLCJnYW1lQ291bnQiLCJ0dXJuQ291bnQiLCJvbkZpZWxkQ2xpY2siLCJldiIsImZpZWxkQnV0dG9uIiwidGFyZ2V0Iiwicm93IiwicGFyc2VJbnQiLCJkYXRhc2V0IiwiY29sdW1uIiwibWFrZU1vdmUiLCJvbkdhbWVDb250aW51ZSIsImdhbWVCb2FyZCIsImNsZWFyIiwidXBkYXRlU2NvcmVCb2FyZCIsIm1ha2VNb3ZlQ1BVIiwib25HYW1lUXVpdCIsImdhbWVDb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJnYW1lTWVudSIsInNob3ciLCJvblJlc3RhcnRCdXR0b25DbGljayIsInJlc3RhcnRHYW1lTW9kYWwiLCJpbml0IiwibW9kZSIsInAxTWFyayIsInAxTGFiZWwiLCJwMk1hcmsiLCJwbGF5ZXIyIiwiQ1BVUGxheWVyIiwiUGxheWVyIiwicGxheWVyMSIsInhQbGF5ZXIiLCJvUGxheWVyIiwicGxheWVyUXVldWUiLCJyZW1vdmUiLCJzdGFydEdhbWUiLCJzY29yZUJvYXJkIiwidXBkYXRlVHVybkluZGljYXRvciIsInJlc3RhcnRHYW1lIiwicmVzZXRTY29yZSIsInJlc3RhcnRHYW1lQnV0dG9uIiwiZm9jdXMiLCJnZXRDdXJyZW50UGxheWVyTWFyayIsImdldEN1cnJlbnRQbGF5ZXIiLCJnZXRNYXJrIiwiaXNGaWVsZENoZWNrZWQiLCJjaGVja0ZpZWxkIiwiYWZ0ZXJNb3ZlIiwiZ2V0V2lubmluZ0ZpZWxkcyIsImdhbWVSZXN1bHRNb2RhbCIsInVwZGF0ZVNjb3JlIiwiaXNGdWxsIiwiaW5jcmVhc2VUdXJuQ291bnQiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsInR1cm5JbmRpY2F0b3IiLCJ1cGRhdGUiLCJHYW1lTWVudSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlNjb3JlQm9hcmQiLCJHYW1lQm9hcmQiLCJUdXJuSW5kaWNhdG9yIiwiUmVzdWx0TW9kYWwiLCJSZXN0YXJ0TW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2FtZU1lbnVJZCIsImdhbWVJbml0IiwiX3RoaXMyIiwiZm9ybVN1Ym1pdEJ1dHRvbnMiLCJmb3JFYWNoIiwiYnRuIiwiaGFuZGxlTWVudVN1Ym1pdEJ1dHRvbiIsInByZXZlbnREZWZhdWx0IiwiaXNBbnlPcHRpb25TZWxlY3RlZCIsImVycm9yTXNnIiwiaW5uZXJUZXh0IiwiZ2FtZU1vZGUiLCJnZXRDaGVja2VkT3B0aW9uTWFyayIsImhpZGUiLCJBcnJheSIsImZyb20iLCJmb3JtT3B0aW9ucyIsInNvbWUiLCJvcHRpb24iLCJjaGVja2VkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwibWFyayIsImVyciIsImUiLCJmIiwibWVudUZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RoaXMzIiwiY3VycmVudFBsYXllck1hcmtFbGVtZW50IiwiY3VycmVudFBsYXllck1hcmtJY29uIiwic3JjIiwiY29uY2F0Iiwic2NvcmVCb2FyZElkIiwiX3RoaXM0IiwicDEiLCJwMiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRvU3RyaW5nIiwicDJMYWJlbCIsInAxU2NvcmUiLCJnZXRTY29yZSIsInAyU2NvcmUiLCJ0aWVzU2NvcmUiLCJzY29yZUJvYXJkQ29udGFpbmVyIiwiZ2FtZVF1aXRIYW5kbGluZyIsImdhbWVDb250aW51ZUhhbmRsaW5nIiwiX3RoaXM1IiwiaGFuZGxlQ29udGludWUiLCJoYW5kbGVRdWl0Iiwid2lubmVyIiwibW9kYWwiLCJ1cGRhdGVSZXN1bHQiLCJkaXNwbGF5VGllUmVzdWx0IiwiZGlzcGxheVdpbm5lclJlc3VsdCIsInF1aXRCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJtb2RhbEhlYWRpbmciLCJpbm5lckhUTUwiLCJtZXNzYWdlIiwiZ2V0Um91bmRNZXNzYWdlIiwiZ2V0TmFtZSIsIm1vZGFsTWVzc2FnZSIsInNldFJlc3VsdEhlYWRpbmciLCJpbWdFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImhpZGRlbk1hcmsiLCJtZXNzYWdlVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiaGVhZGluZ1NwYW4iLCJhcHBlbmRDaGlsZCIsInBsYXllck5hbWUiLCJjb250aW51ZUJ1dHRvbiIsImdhbWVSZXN0YXJ0SGFuZGxpbmciLCJfdGhpczYiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVSZXN0YXJ0IiwiY2FuY2VsQnV0dG9uIiwicmVzdGFydEJ1dHRvbiIsImdhbWVCb2FyZElkIiwiZ2V0Q3VycmVudE1hcmsiLCJfdGhpczciLCJCT0FSRF9TSVpFIiwiYm9hcmQiLCJib2FyZEZpZWxkRWxlbWVudHMiLCJib2FyZEVsZW1lbnQiLCJwdXNoIiwiRmllbGQiLCJjaGVjayIsImlzQ2hlY2tlZCIsImZsYXQiLCJldmVyeSIsImZpZWxkIiwiY2hlY2tSb3dzIiwiY2hlY2tDb2x1bW5zIiwiY2hlY2tEaWFnb25hbCIsInNldEFzR2FtZVdpbm5pbmciLCJmaWVsZEVsZW1lbnQiLCJnYW1lT25DbGlja0hhbmRsZXIiLCJfdGhpczgiLCJoYW5kbGVIb3ZlciIsImN1cnJlbnRQbGF5ZXJNYXJrIiwiaGFuZGxlQmx1ciIsInJlbW92ZUF0dHJpYnV0ZSIsIm5hbWUiLCJfdGhpczkiLCJzY29yZSIsIl9pbmhlcml0cyIsIl9zdXBlciIsIl9jcmVhdGVTdXBlciIsIl90aGlzMTAiLCJib2FyZFNpemUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0aWNUYWNUb2VHYW1lIl0sIm1hcHBpbmdzIjoiZ3lIQUtBLElBQ01BLEtBQUlDLGFBbUJULFNBQUFELElBQUEsSUFBQUUsRUFBQUMsS0FBQUMsZ0JBQUFELEtBQUFILENBQUEsRUFKUUcsS0FBQUUsS0FBZSxFQUNmRixLQUFBRyxVQUFvQixFQUNwQkgsS0FBQUksVUFBb0IsRUFlNUJKLEtBQUFLLGFBQWUsU0FBQ0Ms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TUFBQUEsRUFFaEV4TCxLQUFBb0gsU0FBVyxXQUFBLE1BQUEsR0FBQVIsT0FBaUIyRSxFQUFLckYsS0FBSSxJQUFBLEVBQUFVLE9BQUsyRSxFQUFLRCxLQUFJLEdBQUEsQ0FBQSxFQUVuRHRMLEtBQUEySSxRQUFVLFdBQUEsT0FBYzRDLEVBQUtELElBQUksRUFFakN0TCxLQUFBaUQsUUFBVSxXQUFBLE9BQWNzSSxFQUFLckYsSUFBSSxFQUVqQ2xHLEtBQUF1SCxTQUFXLFdBQUEsT0FBY2dFLEVBQUtDLEtBQUssRUFFbkN4TCxLQUFBdUQsWUFBYyxXQUFBLE1BQWMsRUFBRWdJLEVBQUtDLEtBQUssRUFFeEN4TCxLQUFBNEMsV0FBYSxXQUNaMkksRUFBS0MsTUFBUSxDQUNkLENBZG9GLENBQUMsRUFpQmhGdkosVUFBVSxXQUFBd0osVUFBQXhKLEVBQVFDLE1BQVIsRUFBQSxJQUFBd0osRUFBQUMsYUFBQTFKLENBQUEsRUFBaEIsU0FBQUEsSUFBQSxJQUFBMkosRUFTRyxPQVRIM0wsZ0JBQUFELEtBQUFpQyxDQUFBLEdBWGtDMkosRUFBQUYsRUFBQWhJLE1BQUExRCxLQUFBaUgsU0FBQSxHQVlqQ3BHLFNBQVcsU0FBQ29KLEdBR1gsSUFGQSxJQUNJeEosRUFBS0csRUFESGlMLEVBQVk1QixFQUFNRCxXQUd2QnZKLEVBQU1xTCxLQUFLQyxNQUFNRCxLQUFLRSxPQUFNLEVBQUtILENBQVMsRUFDMUNqTCxFQUFTa0wsS0FBS0MsTUFBTUQsS0FBS0UsT0FBTSxFQUFLSCxDQUFTLEVBQ3JDNUIsRUFBTS9HLGVBQWV6QyxFQUFLRyxDQUFNLElBQ3pDLE1BQU8sQ0FBQ0gsRUFBS0csRUFDZCxFQUFFZ0wsQ0FDSCxDQUFDLE9BQUE5TCxhQUFBbUMsQ0FBQSxDQUFBLEVBVjZCLEVBZXhCZ0ssY0FBc0IsSUFBSXBNIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogdHlwZXMgKi9cclxudHlwZSBUcmlwbGVGaWVsZCA9IFtGaWVsZCwgRmllbGQsIEZpZWxkXTtcclxuLyogdHlwZXMgZW5kICovXHJcblxyXG4vKiBjbGFzc2VzICovXHJcbi8qIEdhbWUgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZSB7XHJcblx0LyogZ2FtZSBlbGVtZW50cyAqL1xyXG5cdHByaXZhdGUgZ2FtZU1lbnU6IEdhbWVNZW51O1xyXG5cdHByaXZhdGUgZ2FtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBnYW1lQm9hcmQ6IEdhbWVCb2FyZDtcclxuXHRwcml2YXRlIHNjb3JlQm9hcmQ6IFNjb3JlQm9hcmQ7XHJcblx0cHJpdmF0ZSB0dXJuSW5kaWNhdG9yOiBUdXJuSW5kaWNhdG9yO1xyXG5cdHByaXZhdGUgZ2FtZVJlc3VsdE1vZGFsOiBSZXN1bHRNb2RhbDtcclxuXHRwcml2YXRlIHJlc3RhcnRHYW1lQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRwcml2YXRlIHJlc3RhcnRHYW1lTW9kYWw6IFJlc3RhcnRNb2RhbDtcclxuXHQvKiBwbGF5ZXJzICovXHJcblx0cHJpdmF0ZSB4UGxheWVyOiBQbGF5ZXI7XHJcblx0cHJpdmF0ZSBvUGxheWVyOiBQbGF5ZXI7XHJcblx0cHJpdmF0ZSBwbGF5ZXJRdWV1ZTogW1BsYXllciwgUGxheWVyXTtcclxuXHQvKiBnYW1lIHN0YXRlcyAqL1xyXG5cdHByaXZhdGUgdGllczogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIGdhbWVDb3VudDogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIHR1cm5Db3VudDogbnVtYmVyID0gMDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmdhbWVNZW51ID0gbmV3IEdhbWVNZW51KCcjZ2FtZS1tZW51JywgdGhpcy5pbml0KTtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuaW5pdCgpO1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RpYy10YWMtdG9lLWdhbWUnKTtcclxuXHRcdHRoaXMuc2NvcmVCb2FyZCA9IG5ldyBTY29yZUJvYXJkKCcjc2NvcmUtYm9hcmQnKTtcclxuXHRcdHRoaXMuZ2FtZUJvYXJkID0gbmV3IEdhbWVCb2FyZCgnI2dhbWUtYm9hcmQnLCB0aGlzLm9uRmllbGRDbGljaywgdGhpcy5nZXRDdXJyZW50UGxheWVyTWFyayk7XHJcblx0XHR0aGlzLnR1cm5JbmRpY2F0b3IgPSBuZXcgVHVybkluZGljYXRvcigpO1xyXG5cdFx0dGhpcy5nYW1lUmVzdWx0TW9kYWwgPSBuZXcgUmVzdWx0TW9kYWwodGhpcy5vbkdhbWVRdWl0LCB0aGlzLm9uR2FtZUNvbnRpbnVlKTtcclxuXHRcdHRoaXMucmVzdGFydEdhbWVNb2RhbCA9IG5ldyBSZXN0YXJ0TW9kYWwodGhpcy5yZXN0YXJ0R2FtZSk7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lQnV0dG9uID0gdGhpcy5nYW1lQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNyZXN0YXJ0LWdhbWUtYnV0dG9uJyk7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblJlc3RhcnRCdXR0b25DbGljayk7XHJcblx0fVxyXG5cclxuXHRvbkZpZWxkQ2xpY2sgPSAoZXY6IEV2ZW50KTogdm9pZCA9PiB7XHJcblx0XHQvKiByZXRyaWV2ZSByb3cgYW5kIGNvbHVtbiBmcm9tIGNsaWNrZWQgYnV0dG9uIGFuZCBtYWtlIG1vdmUgKi9cclxuXHRcdGNvbnN0IGZpZWxkQnV0dG9uID0gZXYudGFyZ2V0IGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0Y29uc3Qgcm93OiBudW1iZXIgPSBwYXJzZUludChmaWVsZEJ1dHRvbi5kYXRhc2V0LnJvdyk7XHJcblx0XHRjb25zdCBjb2x1bW46IG51bWJlciA9IHBhcnNlSW50KGZpZWxkQnV0dG9uLmRhdGFzZXQuY29sdW1uKTtcclxuXHRcdHRoaXMubWFrZU1vdmUocm93LCBjb2x1bW4pO1xyXG5cdH07XHJcblxyXG5cdG9uR2FtZUNvbnRpbnVlID0gKCkgPT4ge1xyXG5cdFx0dGhpcy5nYW1lQ291bnQrKztcclxuXHRcdHRoaXMudHVybkNvdW50ID0gMDtcclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmNsZWFyKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHR9O1xyXG5cclxuXHRvbkdhbWVRdWl0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuc2hvdygpO1xyXG5cdH07XHJcblxyXG5cdG9uUmVzdGFydEJ1dHRvbkNsaWNrID0gKGV2OiBFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZU1vZGFsLnNob3coKTtcclxuXHR9O1xyXG5cclxuXHRpbml0ID0gKG1vZGU6IHN0cmluZywgcDFNYXJrOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuXHRcdGNvbnN0IHAyTWFyazogc3RyaW5nID0gcDFNYXJrID09PSAneCcgPyAnbycgOiAneCc7XHJcblx0XHRsZXQgcDFMYWJlbDogc3RyaW5nLCBwbGF5ZXIxOiBQbGF5ZXI7XHJcblx0XHRsZXQgcDJMYWJlbDogc3RyaW5nLCBwbGF5ZXIyOiBQbGF5ZXI7XHJcblxyXG5cdFx0LyogY3JlYXRlcyBsYWJlbHMgYW5kIHBsYXllcnMgZGVwZW5kaW5nIG9uIGdhbWUgbW9kZSAqL1xyXG5cdFx0aWYgKG1vZGUgPT09ICdzaW5nbGVwbGF5ZXInKSB7XHJcblx0XHRcdHAxTGFiZWwgPSAneW91JztcclxuXHRcdFx0cDJMYWJlbCA9ICdjcHUnO1xyXG5cdFx0XHRwbGF5ZXIyID0gbmV3IENQVVBsYXllcihwMkxhYmVsLCBwMk1hcmspO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cDFMYWJlbCA9ICdwMSc7XHJcblx0XHRcdHAyTGFiZWwgPSAncDInO1xyXG5cdFx0XHRwbGF5ZXIyID0gbmV3IFBsYXllcihwMkxhYmVsLCBwMk1hcmspO1xyXG5cdFx0fVxyXG5cdFx0cGxheWVyMSA9IG5ldyBQbGF5ZXIocDFMYWJlbCwgcDFNYXJrKTtcclxuXHJcblx0XHQvKiBhc3NpZ25zIGNyZWF0ZWQgcGxheWVycyB0byByaWdodCBzcG90cyAqL1xyXG5cdFx0aWYgKHAxTWFyayA9PT0gJ3gnKSB7XHJcblx0XHRcdHRoaXMueFBsYXllciA9IHBsYXllcjE7XHJcblx0XHRcdHRoaXMub1BsYXllciA9IHBsYXllcjI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnhQbGF5ZXIgPSBwbGF5ZXIyO1xyXG5cdFx0XHR0aGlzLm9QbGF5ZXIgPSBwbGF5ZXIxO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qIGNyZWF0ZXMgdHVwbGUgb2YgcGxheWVycywgdG8gY2hvb3NlIGN1cnJlbnQgcGxheWVyIGRlcGVuZGluZyBvbiB0dXJuIGNvdW50ZXIgKi9cclxuXHRcdHRoaXMucGxheWVyUXVldWUgPSBbdGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXJdO1xyXG5cclxuXHRcdC8qIHNob3dzIGdhbWUgY29udGFpbmVyICovXHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblxyXG5cdFx0dGhpcy5zdGFydEdhbWUoKTtcclxuXHR9O1xyXG5cclxuXHRzdGFydEdhbWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiBpbml0aWFsaXplIHNjb3JlIGJvYXJkIHdpdGggY3JlYXRlZCBwbGF5ZXJzICovXHJcblx0XHR0aGlzLnNjb3JlQm9hcmQuaW5pdCh0aGlzLnhQbGF5ZXIsIHRoaXMub1BsYXllciwgdGhpcy50aWVzKTtcclxuXHJcblx0XHQvKiBpbml0aWFsaXplIGdhbWUgYm9hcmQgKi9cclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmluaXQoKTtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZVR1cm5JbmRpY2F0b3IoKTtcclxuXHJcblx0XHQvKiBpZiBzdGFydGluZyBwbGF5ZXIgaXMgQ1BVIHRoZW4gbWFrZSBhdXRvIG1vdmUgKi9cclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHR9O1xyXG5cclxuXHRyZXN0YXJ0R2FtZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdC8qIHJlc2V0IGNvdW50ZXJzICovXHJcblx0XHR0aGlzLnRpZXMgPSAwO1xyXG5cdFx0dGhpcy50dXJuQ291bnQgPSAwO1xyXG5cdFx0dGhpcy5nYW1lQ291bnQgPSAwO1xyXG5cclxuXHRcdC8qIHJlc2V0IGJvYXJkICovXHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jbGVhcigpO1xyXG5cclxuXHRcdC8qIHJlc2V0IHBsYXllcnMgKi9cclxuXHRcdHRoaXMueFBsYXllci5yZXNldFNjb3JlKCk7XHJcblx0XHR0aGlzLm9QbGF5ZXIucmVzZXRTY29yZSgpO1xyXG5cclxuXHRcdC8qIHVwZGF0ZSBzY29yZSBib2FyZCAqL1xyXG5cdFx0dGhpcy51cGRhdGVTY29yZUJvYXJkKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVR1cm5JbmRpY2F0b3IoKTtcclxuXHJcblx0XHQvKiB0byBtYWtlIG1vdmUgaWYgZmlyc3QgcGxheWVyIGlzIENQVSAqL1xyXG5cdFx0dGhpcy5tYWtlTW92ZUNQVSgpO1xyXG5cclxuXHRcdC8qIHNldCBmb2N1cyB0byByZXN0YXJ0IGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZUJ1dHRvbi5mb2N1cygpO1xyXG5cdH07XHJcblxyXG5cdGdldEN1cnJlbnRQbGF5ZXJNYXJrID0gKCk6IHN0cmluZyA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDdXJyZW50UGxheWVyKCkuZ2V0TWFyaygpO1xyXG5cdH07XHJcblxyXG5cdGdldEN1cnJlbnRQbGF5ZXIgPSAoKTogUGxheWVyID0+IHtcclxuXHRcdHJldHVybiB0aGlzLnBsYXllclF1ZXVlWyh0aGlzLmdhbWVDb3VudCArIHRoaXMudHVybkNvdW50KSAlIDJdO1xyXG5cdH07XHJcblxyXG5cdG1ha2VNb3ZlID0gKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0Lyogb24gZmllbGQgY2xpY2ssIGlmIGZpZWxkIGlzIGNoZWNrZWQgdGhlbiByZXR1cm4gZG9pbmcgbm90aGluZyAqL1xyXG5cdFx0aWYgKHRoaXMuZ2FtZUJvYXJkLmlzRmllbGRDaGVja2VkKHJvdywgY29sdW1uKSkgcmV0dXJuO1xyXG5cclxuXHRcdC8qIGNoZWNrcyBzZWxlY3RlZCBmaWVsZCAqL1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2hlY2tGaWVsZCh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS5nZXRNYXJrKCksIHJvdywgY29sdW1uKTtcclxuXHRcdHRoaXMuYWZ0ZXJNb3ZlKCk7XHJcblx0fTtcclxuXHJcblx0YWZ0ZXJNb3ZlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3Qgd2lubmluZ0ZpZWxkcyA9IHRoaXMuZ2FtZUJvYXJkLmdldFdpbm5pbmdGaWVsZHMoKTtcclxuXHRcdGlmICh3aW5uaW5nRmllbGRzICE9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMuZ2FtZVJlc3VsdE1vZGFsLnNob3codGhpcy5nZXRDdXJyZW50UGxheWVyKCkpO1xyXG5cdFx0XHR0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS51cGRhdGVTY29yZSgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZ2FtZUJvYXJkLmlzRnVsbCgpKSB7XHJcblx0XHRcdHRoaXMuZ2FtZVJlc3VsdE1vZGFsLnNob3coKTtcclxuXHRcdFx0dGhpcy50aWVzKys7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmluY3JlYXNlVHVybkNvdW50KCk7XHJcblx0XHR0aGlzLnVwZGF0ZVR1cm5JbmRpY2F0b3IoKTtcclxuXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblx0fTtcclxuXHJcblx0bWFrZU1vdmVDUFUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiBhZnRlciBmaWVsZCBpcyBjaGVja2VkLCBjaGVja3MgaWYgY3VycmVudCBwbGF5ZXIgaXMgQ1BVIGFuZCBpZiBpcywgdGhlbiBtYWtlcyBhIG1vdmUgKi9cclxuXHRcdGlmICh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSBpbnN0YW5jZW9mIENQVVBsYXllcikge1xyXG5cdFx0XHR0aGlzLm1ha2VNb3ZlKC4uLih0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSBhcyBDUFVQbGF5ZXIpLm1ha2VNb3ZlKHRoaXMuZ2FtZUJvYXJkKSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dXBkYXRlVHVybkluZGljYXRvciA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMudHVybkluZGljYXRvci51cGRhdGUodGhpcy5nZXRDdXJyZW50UGxheWVyTWFyaygpKTtcclxuXHR9O1xyXG5cclxuXHR1cGRhdGVTY29yZUJvYXJkID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkLnVwZGF0ZVNjb3JlKHRoaXMueFBsYXllciwgdGhpcy5vUGxheWVyLCB0aGlzLnRpZXMpO1xyXG5cdH07XHJcblxyXG5cdGluY3JlYXNlVHVybkNvdW50ID0gKCk6IG51bWJlciA9PiB7XHJcblx0XHRyZXR1cm4gKyt0aGlzLnR1cm5Db3VudDtcclxuXHR9O1xyXG59XHJcbi8qIEdhbWUgY2xhc3MgZW5kICovXHJcblxyXG4vKiBHYW1lTWVudSBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBHYW1lTWVudSB7XHJcblx0cHJpdmF0ZSBnYW1lTWVudTogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBtZW51Rm9ybTogSFRNTEZvcm1FbGVtZW50O1xyXG5cdHByaXZhdGUgZm9ybU9wdGlvbnM6IE5vZGVMaXN0T2Y8SFRNTElucHV0RWxlbWVudD47XHJcblx0cHJpdmF0ZSBlcnJvck1zZzogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBmb3JtU3VibWl0QnV0dG9uczogTm9kZUxpc3RPZjxIVE1MQnV0dG9uRWxlbWVudD47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGdhbWVNZW51SWQ6IHN0cmluZywgcHJpdmF0ZSBnYW1lSW5pdDogKG1vZGU6IHN0cmluZywgcDFNYXJrOiBzdHJpbmcpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbWVNZW51SWQpO1xyXG5cdFx0dGhpcy5tZW51Rm9ybSA9IHRoaXMuZ2FtZU1lbnUucXVlcnlTZWxlY3RvcignZm9ybScpO1xyXG5cdFx0dGhpcy5mb3JtT3B0aW9ucyA9IHRoaXMubWVudUZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XHJcblx0XHR0aGlzLmVycm9yTXNnID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cImFsZXJ0XCJdJyk7XHJcblx0XHR0aGlzLmZvcm1TdWJtaXRCdXR0b25zID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG5cdH1cclxuXHJcblx0aW5pdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZm9ybVN1Ym1pdEJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVNZW51U3VibWl0QnV0dG9uKSk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlTWVudVN1Ym1pdEJ1dHRvbiA9IChldjogRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQvKiBzaG93cyBlcnJvciBpZiBhbnkgZmllbGQgd2Fzbid0IHNlbGVjdGVkICovXHJcblx0XHRpZiAoIXRoaXMuaXNBbnlPcHRpb25TZWxlY3RlZCgpKSB7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmlubmVyVGV4dCA9ICdQbGVhc2Ugc2VsZWN0IG1hcmsgZm9yIHBsYXllciAxJztcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuaW5uZXJUZXh0ID0gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyogcmV0cmlldmUgZ2FtZSBtb2RlIGZyb20gc3VibWl0IGJ1dHRvbiBjbGlja2VkIGFuZCBzZWxlY3RlZCBtYXJrIGZyb20gb3B0aW9ucyAqL1xyXG5cdFx0Y29uc3Qgc3VibWl0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCA9IGV2LnRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGNvbnN0IGdhbWVNb2RlOiBzdHJpbmcgPSBzdWJtaXRCdG4uZGF0YXNldC5tb2RlO1xyXG5cdFx0Y29uc3QgcDFNYXJrOiBzdHJpbmcgPSB0aGlzLmdldENoZWNrZWRPcHRpb25NYXJrKCk7XHJcblxyXG5cdFx0LyogaGlkZXMgZ2FtZSBtZW51ICovXHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHJcblx0XHQvKiBhbmQgcnVucyBnYW1lIGluaXRpYWxpemF0aW9uICovXHJcblx0XHR0aGlzLmdhbWVJbml0KGdhbWVNb2RlLCBwMU1hcmspOyAvLyBtZXRob2QgZnJvbSB0aGUgcGFyZW50IEdhbWUgY2xhc3NcclxuXHR9O1xyXG5cclxuXHRzaG93ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuXHR9O1xyXG5cclxuXHRoaWRlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lTWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHR9O1xyXG5cclxuXHRpc0FueU9wdGlvblNlbGVjdGVkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIEFycmF5LmZyb20odGhpcy5mb3JtT3B0aW9ucykuc29tZShvcHRpb24gPT4gb3B0aW9uLmNoZWNrZWQpO1xyXG5cdH07XHJcblxyXG5cdGdldENoZWNrZWRPcHRpb25NYXJrID0gKCk6IHN0cmluZyA9PiB7XHJcblx0XHRmb3IgKGNvbnN0IG9wdGlvbiBvZiB0aGlzLmZvcm1PcHRpb25zKSB7XHJcblx0XHRcdGlmIChvcHRpb24uY2hlY2tlZCkgcmV0dXJuIG9wdGlvbi5kYXRhc2V0Lm1hcms7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fTtcclxufVxyXG4vKiBHYW1lTWVudSBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFR1cm5JbmRpY2F0b3IgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgVHVybkluZGljYXRvciB7XHJcblx0cHJpdmF0ZSBjdXJyZW50UGxheWVyTWFya0VsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgY3VycmVudFBsYXllck1hcmtJY29uOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnJlbnQtcGxheWVyLW1hcmsnKTtcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnJlbnQtcGxheWVyLW1hcmstaWNvbicpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlID0gKG1hcms6IHN0cmluZykgPT4ge1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0VsZW1lbnQuaW5uZXJUZXh0ID0gbWFyaztcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtJY29uLnNyYyA9IGAuL2Rpc3QvYXNzZXRzL2ljb24tJHttYXJrfS5zdmdgO1xyXG5cdH07XHJcbn1cclxuLyogVHVybkluZGljYXRvciBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFNjb3JlQm9hcmQgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgU2NvcmVCb2FyZCB7XHJcblx0cHJpdmF0ZSBzY29yZUJvYXJkQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAxTGFiZWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDFTY29yZTogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMkxhYmVsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAyU2NvcmU6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgdGllc1Njb3JlOiBIVE1MRWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3Ioc2NvcmVCb2FyZElkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2NvcmVCb2FyZElkKTtcclxuXHRcdHRoaXMucDFMYWJlbCA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDEtZ2FtZS1uYW1lJyk7XHJcblx0XHR0aGlzLnAxU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AxLWdhbWUtc2NvcmUnKTtcclxuXHRcdHRoaXMucDJMYWJlbCA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDItZ2FtZS1uYW1lJyk7XHJcblx0XHR0aGlzLnAyU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AyLWdhbWUtc2NvcmUnKTtcclxuXHRcdHRoaXMudGllc1Njb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXRpZXMnKTtcclxuXHR9XHJcblxyXG5cdGluaXQgPSAocDE6IFBsYXllciwgcDI6IFBsYXllciwgdGllczogbnVtYmVyID0gMCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5wMUxhYmVsLmlubmVyVGV4dCA9IHAxLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnAyTGFiZWwuaW5uZXJUZXh0ID0gcDIudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMudXBkYXRlU2NvcmUocDEsIHAyLCB0aWVzKTtcclxuXHR9O1xyXG5cclxuXHR1cGRhdGVTY29yZSA9IChwMTogUGxheWVyLCBwMjogUGxheWVyLCB0aWVzOiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMucDFTY29yZS5pbm5lclRleHQgPSBwMS5nZXRTY29yZSgpLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnAyU2NvcmUuaW5uZXJUZXh0ID0gcDIuZ2V0U2NvcmUoKS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy50aWVzU2NvcmUuaW5uZXJUZXh0ID0gdGllcy50b1N0cmluZygpO1xyXG5cdH07XHJcbn1cclxuLyogU2NvcmVCb2FyZCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFJlc3VsdE1vZGFsIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIFJlc3VsdE1vZGFsIHtcclxuXHRwcml2YXRlIG1vZGFsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIG1vZGFsTWVzc2FnZTogSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBtb2RhbEhlYWRpbmc6IEhUTUxIZWFkaW5nRWxlbWVudDtcclxuXHRwcml2YXRlIHF1aXRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdHByaXZhdGUgY29udGludWVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGdhbWVRdWl0SGFuZGxpbmc6ICgpID0+IHZvaWQsIHByaXZhdGUgZ2FtZUNvbnRpbnVlSGFuZGxpbmc6ICgpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZS1yZXN1bHQtbW9kYWwnKTtcclxuXHRcdHRoaXMubW9kYWxNZXNzYWdlID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX21lc3NhZ2UnKTtcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2hlYWRpbmcnKTtcclxuXHJcblx0XHQvKiBxdWl0IGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5xdWl0QnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJxdWl0XCJdJyk7XHJcblx0XHR0aGlzLnF1aXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVF1aXQpO1xyXG5cclxuXHRcdC8qIGNvbnRpbnVlIGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5jb250aW51ZUJ1dHRvbiA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYWN0aW9uPVwiY29udGludWVcIl0nKTtcclxuXHRcdHRoaXMuY29udGludWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvbnRpbnVlKTtcclxuXHR9XHJcblxyXG5cdGhhbmRsZUNvbnRpbnVlID0gKGV2OiBFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lQ29udGludWVIYW5kbGluZygpO1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlUXVpdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cdFx0dGhpcy5nYW1lUXVpdEhhbmRsaW5nKCk7XHJcblx0fTtcclxuXHJcblx0c2hvdyA9ICh3aW5uZXI6IFBsYXllciB8IG51bGwgPSBudWxsKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0dGhpcy51cGRhdGVSZXN1bHQod2lubmVyKTtcclxuXHR9O1xyXG5cclxuXHRoaWRlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHR9O1xyXG5cclxuXHR1cGRhdGVSZXN1bHQgPSAod2lubmVyOiBQbGF5ZXIgfCBudWxsKTogdm9pZCA9PiB7XHJcblx0XHRpZiAod2lubmVyID09PSBudWxsKSB0aGlzLmRpc3BsYXlUaWVSZXN1bHQoKTtcclxuXHRcdGVsc2UgdGhpcy5kaXNwbGF5V2lubmVyUmVzdWx0KHdpbm5lcik7XHJcblxyXG5cdFx0dGhpcy5xdWl0QnV0dG9uLmZvY3VzKCk7XHJcblx0fTtcclxuXHJcblx0ZGlzcGxheVRpZVJlc3VsdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLXdpbm5lcicsICd0aWUnKTtcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuaW5uZXJUZXh0ID0gJ1JvdW5kIHRpZWQnO1xyXG5cdH07XHJcblxyXG5cdGRpc3BsYXlXaW5uZXJSZXN1bHQgPSAod2lubmVyOiBQbGF5ZXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLXdpbm5lcicsIHdpbm5lci5nZXRNYXJrKCkpO1xyXG5cclxuXHRcdGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmdldFJvdW5kTWVzc2FnZSh3aW5uZXIuZ2V0TmFtZSgpKTtcclxuXHRcdHRoaXMubW9kYWxNZXNzYWdlLmlubmVyVGV4dCA9IG1lc3NhZ2U7XHJcblx0XHR0aGlzLnNldFJlc3VsdEhlYWRpbmcod2lubmVyKTtcclxuXHR9O1xyXG5cclxuXHRzZXRSZXN1bHRIZWFkaW5nID0gKHdpbm5lcjogUGxheWVyKTogdm9pZCA9PiB7XHJcblx0XHQvKiBjbGVhciBoZWFkaW5nIGJlZm9yZSBzZXR0aW5nIG1lc3NhZ2UgKi9cclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0Y29uc3QgbWFyayA9IHdpbm5lci5nZXRNYXJrKCk7XHJcblxyXG5cdFx0Lyogd2lubmluZyBtYXJrIGljb24gKi9cclxuXHRcdGNvbnN0IGltZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGltZ0VsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCBgLi9kaXN0L2Fzc2V0cy9pY29uLSR7bWFya30uc3ZnYCk7XHJcblx0XHRpbWdFbGVtZW50LnNldEF0dHJpYnV0ZSgnYWx0JywgJycpO1xyXG5cclxuXHRcdC8qIGhpZGRlbiBtYXJrIGZvciBzY3JlZW4gcmVhZGVycyAqL1xyXG5cdFx0Y29uc3QgaGlkZGVuTWFyayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdGhpZGRlbk1hcmsuY2xhc3NMaXN0LmFkZCgndmlzdWFsbHktaGlkZGVuJyk7XHJcblx0XHRoaWRkZW5NYXJrLmlubmVyVGV4dCA9IG1hcms7XHJcblxyXG5cdFx0LyogbWVzc2FnZSBhZnRlciBpbWFnZSAqL1xyXG5cdFx0Y29uc3QgbWVzc2FnZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgndGFrZXMgdGhlIHJvdW5kJyk7XHJcblxyXG5cdFx0Lyogc3BhbiBjb250YWluZXIgZm9yIGhpZGRlbiBtYXJrIGFuZCBtZXNzYWdlIHRleHQgKi9cclxuXHRcdGNvbnN0IGhlYWRpbmdTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0aGVhZGluZ1NwYW4uYXBwZW5kQ2hpbGQoaGlkZGVuTWFyayk7XHJcblx0XHRoZWFkaW5nU3Bhbi5hcHBlbmRDaGlsZChtZXNzYWdlVGV4dCk7XHJcblxyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuYXBwZW5kQ2hpbGQoaW1nRWxlbWVudCk7XHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5hcHBlbmRDaGlsZChoZWFkaW5nU3Bhbik7XHJcblx0fTtcclxuXHJcblx0Z2V0Um91bmRNZXNzYWdlID0gKHBsYXllck5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcblx0XHRsZXQgbWVzc2FnZTtcclxuXHRcdHN3aXRjaCAocGxheWVyTmFtZSkge1xyXG5cdFx0XHRjYXNlICdwMSc6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdQbGF5ZXIgMSB3aW5zISc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3AyJzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ1BsYXllciAyIHdpbnMhJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAneW91JzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ1lvdSB3b24hJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnY3B1JzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ09oIG5vLCB5b3UgbG9zdC4uLic7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICcnO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0fTtcclxufVxyXG4vKiBSZXN1bHRNb2RhbCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFJlc3RhcnRNb2RhbCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBSZXN0YXJ0TW9kYWwge1xyXG5cdHByaXZhdGUgbW9kYWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgY2FuY2VsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRwcml2YXRlIHJlc3RhcnRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGdhbWVSZXN0YXJ0SGFuZGxpbmc6ICgpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZS1yZXNldC1tb2RhbCcpO1xyXG5cclxuXHRcdC8qIGNhbmNlbCBidXR0b24gKi9cclxuXHRcdHRoaXMuY2FuY2VsQnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJjYW5jZWxcIl0nKTtcclxuXHRcdHRoaXMuY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDYW5jZWwpO1xyXG5cclxuXHRcdC8qIHJlc3RhcnQgYnV0dG9uICovXHJcblx0XHR0aGlzLnJlc3RhcnRCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cInJlc3RhcnRcIl0nKTtcclxuXHRcdHRoaXMucmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUmVzdGFydCk7XHJcblx0fVxyXG5cclxuXHRoYW5kbGVDYW5jZWwgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHR9O1xyXG5cclxuXHRoYW5kbGVSZXN0YXJ0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lUmVzdGFydEhhbmRsaW5nKCk7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHR9O1xyXG5cclxuXHRzaG93ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHR9O1xyXG5cclxuXHRoaWRlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHR9O1xyXG59XHJcbi8qIFJlc3RhcnRNb2RhbCBjbGFzcyBzdGFydCAqL1xyXG5cclxuLyogR2FtZUJvYXJkIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIEdhbWVCb2FyZCB7XHJcblx0Qk9BUkRfU0laRTogbnVtYmVyID0gMztcclxuXHRwcml2YXRlIGJvYXJkRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBib2FyZDogRmllbGRbXVtdO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihnYW1lQm9hcmRJZDogc3RyaW5nLCBwcml2YXRlIG9uRmllbGRDbGljazogKGV2OiBFdmVudCkgPT4gdm9pZCwgcHJpdmF0ZSBnZXRDdXJyZW50TWFyazogKCkgPT4gc3RyaW5nKSB7XHJcblx0XHR0aGlzLmJvYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2FtZUJvYXJkSWQpO1xyXG5cdH1cclxuXHJcblx0aW5pdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuYm9hcmQgPSBbW10sIFtdLCBbXV07XHJcblx0XHQvKiBnZXRzIGFsbCBib2FyZCBmaWVsZHMgKi9cclxuXHRcdGNvbnN0IGJvYXJkRmllbGRFbGVtZW50czogTm9kZUxpc3RPZjxIVE1MQnV0dG9uRWxlbWVudD4gPSB0aGlzLmJvYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FtZS1ib2FyZF9fZmllbGQnKTtcclxuXHJcblx0XHQvKiBjcmVhdGluZyBmaWVsZHMgKi9cclxuXHRcdGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuYm9hcmQubGVuZ3RoOyByb3crKykge1xyXG5cdFx0XHRmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCB0aGlzLkJPQVJEX1NJWkU7IGNvbHVtbisrKSB7XHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddLnB1c2goXHJcblx0XHRcdFx0XHRuZXcgRmllbGQoXHJcblx0XHRcdFx0XHRcdHJvdyxcclxuXHRcdFx0XHRcdFx0Y29sdW1uLFxyXG5cdFx0XHRcdFx0XHRib2FyZEZpZWxkRWxlbWVudHNbY29sdW1uICsgcm93ICogdGhpcy5CT0FSRF9TSVpFXSxcclxuXHRcdFx0XHRcdFx0Ly8gaGFuZGxlcyBmb3IgZmllbGQoYnV0dG9ucykgZXZlbnRzXHJcblx0XHRcdFx0XHRcdHRoaXMub25GaWVsZENsaWNrLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmdldEN1cnJlbnRNYXJrXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qIGNoZWNrcy9tYXJrcyBmaWVsZCBvbiBwYXNzZWQgcG9zaXRpb24gKi9cclxuXHRjaGVja0ZpZWxkID0gKG1hcms6IHN0cmluZywgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSA9PiB7XHJcblx0XHRpZiAocm93IDwgdGhpcy5ib2FyZC5sZW5ndGggJiYgY29sdW1uIDwgdGhpcy5ib2FyZFswXS5sZW5ndGgpIHtcclxuXHRcdFx0dGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0uY2hlY2sobWFyayk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0aXNGaWVsZENoZWNrZWQgPSAocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0uaXNDaGVja2VkKCk7XHJcblx0fTtcclxuXHJcblx0aXNGdWxsID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuYm9hcmQuZmxhdCgpLmV2ZXJ5KGZpZWxkID0+IGZpZWxkLmlzQ2hlY2tlZCgpKTtcclxuXHR9O1xyXG5cclxuXHRnZXRXaW5uaW5nRmllbGRzID0gKCk6IFRyaXBsZUZpZWxkIHwgbnVsbCA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jaGVja1Jvd3MoKSB8fCB0aGlzLmNoZWNrQ29sdW1ucygpIHx8IHRoaXMuY2hlY2tEaWFnb25hbCgpO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrUm93cyA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5CT0FSRF9TSVpFOyByb3crKykge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzBdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVswXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbcm93XVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMV0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkW3Jvd11bMl0uZ2V0TWFyaygpXHJcblx0XHRcdClcclxuXHRcdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzBdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbcm93XVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMl0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdF07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRjaGVja0NvbHVtbnMgPSAoKTogVHJpcGxlRmllbGQgfCBudWxsID0+IHtcclxuXHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5nZXRNYXJrKCkgIT09IG51bGwgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzBdW2NvbHVtbl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdW2NvbHVtbl0uZ2V0TWFyaygpICYmXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsxXVtjb2x1bW5dLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsyXVtjb2x1bW5dLmdldE1hcmsoKVxyXG5cdFx0XHQpXHJcblx0XHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkWzFdW2NvbHVtbl0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFsyXVtjb2x1bW5dLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRdO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0Y2hlY2tEaWFnb25hbCA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0LyogdG9wIGxlZnQsIG1pZGRsZSwgYW5kIGJvdHRvbSByaWdodCAqL1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzBdWzBdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMl0uZ2V0TWFyaygpXHJcblx0XHQpXHJcblx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVswXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsyXVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdF07XHJcblxyXG5cdFx0LyogdG9wIHJpZ2h0LCBtaWRkbGUsIGFuZCBib3R0b20gbGVmdCAqL1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzBdWzJdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMF0uZ2V0TWFyaygpXHJcblx0XHQpXHJcblx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsyXVswXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdF07XHJcblxyXG5cdFx0Lyogbm8gZmllbGRzIG1hdGNoZWQgKi9cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdGNsZWFyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5ib2FyZC5sZW5ndGg7IHJvdysrKSB7XHJcblx0XHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5jbGVhcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG4vKiBHYW1lQm9hcmQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBGaWVsZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBGaWVsZCB7XHJcblx0cHJpdmF0ZSBtYXJrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcm93OiBudW1iZXIsXHJcblx0XHRwcml2YXRlIGNvbHVtbjogbnVtYmVyLFxyXG5cdFx0cHJpdmF0ZSBmaWVsZEVsZW1lbnQ6IEhUTUxCdXR0b25FbGVtZW50LFxyXG5cdFx0cHJpdmF0ZSBnYW1lT25DbGlja0hhbmRsZXI6IChldjogRXZlbnQpID0+IHZvaWQsXHJcblx0XHRwcml2YXRlIGdldEN1cnJlbnRNYXJrOiAoKSA9PiBzdHJpbmdcclxuXHQpIHtcclxuXHRcdGlmICh0aGlzLmZpZWxkRWxlbWVudCkge1xyXG5cdFx0XHQvKiBjbGljayBoYW5kbGluZyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ2FtZU9uQ2xpY2tIYW5kbGVyKTtcclxuXHJcblx0XHRcdC8qIGhvdmVyL2ZvY3VzIGluIGhhbmRsaW5nICovXHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuaGFuZGxlSG92ZXIpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5oYW5kbGVIb3Zlcik7XHJcblxyXG5cdFx0XHQvKiBob3Zlci9mb2N1cyBvdXQgaGFuZGxpbmcgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZUJsdXIpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuaGFuZGxlQmx1cik7XHJcblxyXG5cdFx0XHQvKiBzZXR0aW5nIGF0dHJpYnV0ZXMgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuZGF0YXNldC5yb3cgPSB0aGlzLnJvdy50b1N0cmluZygpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LmNvbHVtbiA9IHRoaXMuY29sdW1uLnRvU3RyaW5nKCk7XHJcblx0XHRcdHRoaXMuY2xlYXIoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qIGhvdmVyL2ZvY3VzIGluIGZpZWxkIGhhbmRsZSAqL1xyXG5cdGhhbmRsZUhvdmVyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3QgY3VycmVudFBsYXllck1hcmsgPSB0aGlzLmdldEN1cnJlbnRNYXJrKCk7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1wbGF5ZXInLCBjdXJyZW50UGxheWVyTWFyayk7XHJcblx0fTtcclxuXHJcblx0LyogaG92ZXIvZm9jdXMgb3V0IGZpZWxkIGhhbmRsZSAqL1xyXG5cdGhhbmRsZUJsdXIgPSAoKSA9PiB7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1wbGF5ZXInKTtcclxuXHR9O1xyXG5cclxuXHRjbGVhciA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubWFyayA9IG51bGw7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUm93ICR7dGhpcy5yb3cgKyAxfSwgY29sdW1uICR7dGhpcy5jb2x1bW4gKyAxfSwgZW1wdHkgZmllbGRgKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1nYW1lLXdpbm5pbmcnKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicpO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1hcmsnKTtcclxuXHR9O1xyXG5cclxuXHRjaGVjayA9IChtYXJrOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubWFyayA9IG1hcms7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUm93ICR7dGhpcy5yb3cgKyAxfSwgY29sdW1uICR7dGhpcy5jb2x1bW4gKyAxfSwgJHt0aGlzLm1hcmt9IG1hcmtgKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1tYXJrJywgbWFyayk7XHJcblx0fTtcclxuXHJcblx0aXNDaGVja2VkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFyayAhPT0gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRzZXRBc0dhbWVXaW5uaW5nID0gKCk6IEZpZWxkID0+IHtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1nYW1lLXdpbm5pbmcnLCAnJyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHRnZXRNYXJrID0gKCk6IHN0cmluZyA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXJrO1xyXG5cdH07XHJcbn1cclxuLyogRmllbGQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBQbGF5ZXIgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUGxheWVyIHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBtYXJrOiBzdHJpbmcsIHByaXZhdGUgc2NvcmU6IG51bWJlciA9IDApIHt9XHJcblxyXG5cdHRvU3RyaW5nID0gKCk6IHN0cmluZyA9PiBgJHt0aGlzLm1hcmt9ICgke3RoaXMubmFtZX0pYDtcclxuXHJcblx0Z2V0TmFtZSA9ICgpOiBzdHJpbmcgPT4gdGhpcy5uYW1lO1xyXG5cclxuXHRnZXRNYXJrID0gKCk6IHN0cmluZyA9PiB0aGlzLm1hcms7XHJcblxyXG5cdGdldFNjb3JlID0gKCk6IG51bWJlciA9PiB0aGlzLnNjb3JlO1xyXG5cclxuXHR1cGRhdGVTY29yZSA9ICgpOiBudW1iZXIgPT4gKyt0aGlzLnNjb3JlO1xyXG5cclxuXHRyZXNldFNjb3JlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zY29yZSA9IDA7XHJcblx0fTtcclxufVxyXG5cclxuY2xhc3MgQ1BVUGxheWVyIGV4dGVuZHMgUGxheWVyIHtcclxuXHRtYWtlTW92ZSA9IChib2FyZDogR2FtZUJvYXJkKTogW251bWJlciwgbnVtYmVyXSA9PiB7XHJcblx0XHRjb25zdCBib2FyZFNpemUgPSBib2FyZC5CT0FSRF9TSVpFO1xyXG5cdFx0bGV0IHJvdywgY29sdW1uO1xyXG5cdFx0ZG8ge1xyXG5cdFx0XHRyb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZFNpemUpO1xyXG5cdFx0XHRjb2x1bW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZFNpemUpO1xyXG5cdFx0fSB3aGlsZSAoYm9hcmQuaXNGaWVsZENoZWNrZWQocm93LCBjb2x1bW4pKTtcclxuXHRcdHJldHVybiBbcm93LCBjb2x1bW5dO1xyXG5cdH07XHJcbn1cclxuLyogUGxheWVyIGNsYXNzIGVuZCAqL1xyXG4vKiBjbGFzc2VzIGVuZCAqL1xyXG5cclxuLyogZ2FtZSBvYmplY3RzICovXHJcbmNvbnN0IHRpY1RhY1RvZUdhbWU6IEdhbWUgPSBuZXcgR2FtZSgpO1xyXG4vKiBnYW1lIG9iamVjdHMgZW5kICovXHJcbiJdfQ==
