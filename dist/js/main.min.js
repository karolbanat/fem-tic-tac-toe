"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var r,n,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Game=_createClass(function e(){var a=this;_classCallCheck(this,e),this.ties=0,this.gameCount=0,this.turnCount=0,this.onFieldClick=function(e){var e=e.target,t=parseInt(e.dataset.row),e=parseInt(e.dataset.column);a.makeMove(t,e)},this.onGameContinue=function(){a.gameCount++,a.turnCount=0,a.gameBoard.clear(),a.setResetButtonFocus(),a.updateScoreBoard(),a.makeMoveCPU()},this.onGameQuit=function(){a.gameContainer.classList.add("hidden"),a.gameBoard.clear(),a.gameMenu.show(),a.gameMenu.setFocus()},this.onRestartButtonClick=function(){a.restartGameModal.show()},this.setResetButtonFocus=function(){a.restartGameButton.focus()},this.init=function(e,t){var r,n="x"===t?"o":"x",e="singleplayer"===e?(r="you",new CPUPlayer("cpu",n)):(r="p1",new Player("p2",n)),n=new Player(r,t);"x"===t?(a.xPlayer=n,a.oPlayer=e):(a.xPlayer=e,a.oPlayer=n),a.playerQueue=[a.xPlayer,a.oPlayer],a.resetCounters(),a.gameContainer.classList.remove("hidden"),a.startGame()},this.startGame=function(){a.scoreBoard.init(a.xPlayer,a.oPlayer,a.ties),a.gameBoard.init(),a.updateTurnIndicator(),a.makeMoveCPU()},this.restartGame=function(){a.resetCounters(),a.gameBoard.clear(),a.xPlayer.resetScore(),a.oPlayer.resetScore(),a.updateScoreBoard(),a.updateTurnIndicator(),a.makeMoveCPU(),a.setResetButtonFocus()},this.makeMove=function(e,t){a.gameBoard.isFieldChecked(e,t)||(a.gameBoard.checkField(a.getCurrentPlayer().getMark(),e,t),a.afterMove())},this.afterMove=function(){null!==a.gameBoard.getWinningFields()?(a.gameResultModal.show(a.getCurrentPlayer()),a.getCurrentPlayer().updateScore()):a.gameBoard.isFull()?(a.gameResultModal.show(),a.ties++):(a.increaseTurnCount(),a.updateTurnIndicator(),a.makeMoveCPU())},this.makeMoveCPU=function(){a.getCurrentPlayer()instanceof CPUPlayer&&a.makeMove.apply(a,_toConsumableArray(a.getCurrentPlayer().makeMove(a.gameBoard)))},this.getCurrentPlayerMark=function(){return a.getCurrentPlayer().getMark()},this.getCurrentPlayer=function(){return a.playerQueue[(a.gameCount+a.turnCount)%2]},this.resetCounters=function(){a.ties=0,a.turnCount=0,a.gameCount=0},this.increaseTurnCount=function(){return++a.turnCount},this.updateTurnIndicator=function(){a.turnIndicator.update(a.getCurrentPlayerMark())},this.updateScoreBoard=function(){a.scoreBoard.updateScore(a.xPlayer,a.oPlayer,a.ties)},this.gameMenu=new GameMenu("#game-menu",this.init),this.gameMenu.init(),this.gameContainer=document.querySelector("#tic-tac-toe-game"),this.gameBoard=new GameBoard("#game-board",this.onFieldClick,this.getCurrentPlayerMark),this.scoreBoard=new ScoreBoard("#score-board"),this.turnIndicator=new TurnIndicator,this.restartGameButton=this.gameContainer.querySelector("#restart-game-button"),this.restartGameButton.addEventListener("click",this.onRestartButtonClick),this.gameResultModal=new ResultModal(this.onGameQuit,this.onGameContinue),this.restartGameModal=new RestartModal(this.restartGame,this.setResetButtonFocus)}),Player=_createClass(function e(t,r){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.name=t,this.mark=r,this.score=a,this.toString=function(){return"".concat(n.mark," (").concat(n.name,")")},this.getName=function(){return n.name},this.getMark=function(){return n.mark},this.getScore=function(){return n.score},this.updateScore=function(){return++n.score},this.resetScore=function(){n.score=0}}),CPUPlayer=function(){_inherits(r,Player);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).makeMove=function(e){for(var t,r,n=e.BOARD_SIZE;t=Math.floor(Math.random()*n),r=Math.floor(Math.random()*n),e.isFieldChecked(t,r););return[t,r]},e}return _createClass(r)}(),GameBoard=_createClass(function e(t,r,n){var a=this;_classCallCheck(this,e),this.onFieldClick=r,this.getCurrentMark=n,this.BOARD_SIZE=3,this.init=function(){a.board=[[],[],[]];for(var e=a.boardElement.querySelectorAll(".game-board__field"),t=0;t<a.board.length;t++)for(var r=0;r<a.BOARD_SIZE;r++)a.board[t].push(new Field(t,r,e[r+t*a.BOARD_SIZE],a.onFieldClick,a.getCurrentMark))},this.clear=function(){for(var e=0;e<a.board.length;e++)for(var t=0;t<a.BOARD_SIZE;t++)a.board[e][t].clear()},this.checkField=function(e,t,r){t<a.board.length&&r<a.board[0].length&&a.board[t][r].check(e)},this.isFieldChecked=function(e,t){return a.board[e][t].isChecked()},this.isFull=function(){return a.board.flat().every(function(e){return e.isChecked()})},this.getWinningFields=function(){return a.checkRows()||a.checkColumns()||a.checkDiagonal()},this.checkRows=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[e][0].getMark()&&a.board[e][0].getMark()===a.board[e][1].getMark()&&a.board[e][1].getMark()===a.board[e][2].getMark())return[a.board[e][0].setAsGameWinning(),a.board[e][1].setAsGameWinning(),a.board[e][2].setAsGameWinning()];return null},this.checkColumns=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[0][e].getMark()&&a.board[0][e].getMark()===a.board[1][e].getMark()&&a.board[1][e].getMark()===a.board[2][e].getMark())return[a.board[0][e].setAsGameWinning(),a.board[1][e].setAsGameWinning(),a.board[2][e].setAsGameWinning()];return null},this.checkDiagonal=function(){return null!==a.board[1][1].getMark()&&a.board[0][0].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][2].getMark()?[a.board[0][0].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][2].setAsGameWinning()]:null!==a.board[1][1].getMark()&&a.board[0][2].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][0].getMark()?[a.board[0][2].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][0].setAsGameWinning()]:null},this.boardElement=document.querySelector(t)}),Field=_createClass(function e(t,r,n,a,o){var i=this;_classCallCheck(this,e),this.row=t,this.column=r,this.fieldElement=n,this.gameOnClickHandler=a,this.getCurrentMark=o,this.mark=null,this.handleHover=function(){var e=i.getCurrentMark();i.fieldElement.setAttribute("data-current-player",e)},this.handleBlur=function(){i.fieldElement.removeAttribute("data-current-player")},this.clear=function(){i.mark=null,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", empty field")),i.fieldElement.removeAttribute("data-game-winning"),i.fieldElement.removeAttribute("data-current-player"),i.fieldElement.removeAttribute("data-mark")},this.check=function(e){i.mark=e,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", ").concat(i.mark," mark")),i.fieldElement.setAttribute("data-mark",e)},this.isChecked=function(){return null!==i.mark},this.setAsGameWinning=function(){return i.fieldElement.setAttribute("data-game-winning",""),i},this.getMark=function(){return i.mark},this.fieldElement&&(this.fieldElement.addEventListener("click",this.gameOnClickHandler),this.fieldElement.addEventListener("mouseover",this.handleHover),this.fieldElement.addEventListener("focusin",this.handleHover),this.fieldElement.addEventListener("mouseout",this.handleBlur),this.fieldElement.addEventListener("focusout",this.handleBlur),this.fieldElement.dataset.row=this.row.toString(),this.fieldElement.dataset.column=this.column.toString(),this.clear())}),GameMenu=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameInit=r,this.init=function(){n.formSubmitButtons.forEach(function(e){return e.addEventListener("click",n.handleMenuSubmitButton)})},this.handleMenuSubmitButton=function(e){var t;e.preventDefault(),n.isAnyOptionSelected()?(n.errorMsg.classList.remove("visible"),n.errorMsg.innerText="",e=e.target.dataset.mode,t=n.getCheckedOptionMark(),n.hide(),n.gameInit(e,t)):(n.errorMsg.classList.add("visible"),n.errorMsg.innerText="Please select mark for player 1")},this.isAnyOptionSelected=function(){return Array.from(n.formOptions).some(function(e){return e.checked})},this.getCheckedOptionMark=function(){var e,t=_createForOfIteratorHelper(n.formOptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.checked)return r.dataset.mark}}catch(e){t.e(e)}finally{t.f()}return""},this.show=function(){n.gameMenu.classList.remove("hidden")},this.hide=function(){n.gameMenu.classList.add("hidden")},this.setFocus=function(){var e;null!=(e=n.formOptions[0])&&e.focus()},this.gameMenu=document.querySelector(t),this.menuForm=this.gameMenu.querySelector("form"),this.formOptions=this.menuForm.querySelectorAll('input[type="radio"]'),this.errorMsg=this.menuForm.querySelector('[role="alert"]'),this.formSubmitButtons=this.menuForm.querySelectorAll('button[type="submit"]')}),TurnIndicator=_createClass(function e(){var t=this;_classCallCheck(this,e),this.update=function(e){t.currentPlayerMarkElement.innerText=e,t.currentPlayerMarkIcon.src="./dist/assets/icon-".concat(e,".svg")},this.currentPlayerMarkElement=document.querySelector("#current-player-mark"),this.currentPlayerMarkIcon=document.querySelector("#current-player-mark-icon")}),ScoreBoard=_createClass(function e(t){var n=this;_classCallCheck(this,e),this.init=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n.p1Label.innerText=e.toString(),n.p2Label.innerText=t.toString(),n.updateScore(e,t,r)},this.updateScore=function(e,t,r){n.p1Score.innerText=e.getScore().toString(),n.p2Score.innerText=t.getScore().toString(),n.tiesScore.innerText=r.toString()},this.scoreBoardContainer=document.querySelector(t),this.p1Label=this.scoreBoardContainer.querySelector("#p1-game-name"),this.p1Score=this.scoreBoardContainer.querySelector("#p1-game-score"),this.p2Label=this.scoreBoardContainer.querySelector("#p2-game-name"),this.p2Score=this.scoreBoardContainer.querySelector("#p2-game-score"),this.tiesScore=this.scoreBoardContainer.querySelector("#game-ties")}),ResultModal=_createClass(function e(t,r){var a=this;_classCallCheck(this,e),this.gameQuitHandling=t,this.gameContinueHandling=r,this.handleContinue=function(){a.gameContinueHandling(),a.hide()},this.handleQuit=function(){a.hide(),a.gameQuitHandling()},this.show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;a.modal.classList.add("active"),a.updateResult(e)},this.hide=function(){a.modal.classList.remove("active")},this.updateResult=function(e){null===e?a.displayTieResult():a.displayWinnerResult(e),a.quitButton.focus()},this.displayTieResult=function(){a.modal.setAttribute("data-winner","tie"),a.modalHeading.innerHTML="",a.modalHeading.innerText="Round tied"},this.displayWinnerResult=function(e){a.modal.setAttribute("data-winner",e.getMark());var t=a.getRoundMessage(e.getName());a.modalMessage.innerText=t,a.setResultHeading(e)},this.setResultHeading=function(e){a.modalHeading.innerHTML="";var e=e.getMark(),t=document.createElement("img"),r=(t.setAttribute("src","./dist/assets/icon-".concat(e,".svg")),t.setAttribute("alt",""),document.createElement("span")),e=(r.classList.add("visually-hidden"),r.innerText=e,document.createTextNode("takes the round")),n=document.createElement("span");n.appendChild(r),n.appendChild(e),a.modalHeading.appendChild(t),a.modalHeading.appendChild(n)},this.getRoundMessage=function(e){var t;switch(e){case"p1":t="Player 1 wins!";break;case"p2":t="Player 2 wins!";break;case"you":t="You won!";break;case"cpu":t="Oh no, you lost...";break;default:t=""}return t},this.modal=document.querySelector("#game-result-modal"),this.modalMessage=this.modal.querySelector(".modal__message"),this.modalHeading=this.modal.querySelector(".modal__heading"),this.quitButton=this.modal.querySelector('button[data-action="quit"]'),this.quitButton.addEventListener("click",this.handleQuit),this.continueButton=this.modal.querySelector('button[data-action="continue"]'),this.continueButton.addEventListener("click",this.handleContinue)}),RestartModal=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameRestartHandling=t,this.cancelSupport=r,this.handleCancel=function(){n.hide(),n.cancelSupport()},this.handleRestart=function(){n.gameRestartHandling(),n.hide()},this.show=function(){n.modal.classList.add("active"),n.cancelButton.focus()},this.hide=function(){n.modal.classList.remove("active")},this.modal=document.querySelector("#game-reset-modal"),this.cancelButton=this.modal.querySelector('button[data-action="cancel"]'),this.cancelButton.addEventListener("click",this.handleCancel),this.restartButton=this.modal.querySelector('button[data-action="restart"]'),this.restartButton.addEventListener("click",this.handleRestart)}),ticTacToeGame=new Game;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsiR2FtZSIsIl9jcmVhdGVDbGFzcyIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInRpZXMiLCJnYW1lQ291bnQiLCJ0dXJuQ291bnQiLCJvbkZpZWxkQ2xpY2siLCJldiIsImZpZWxkQnV0dG9uIiwidGFyZ2V0Iiwicm93IiwicGFyc2VJbnQiLCJkYXRhc2V0IiwiY29sdW1uIiwibWFrZU1vdmUiLCJvbkdhbWVDb250aW51ZSIsImdhbWVCb2FyZCIsImNsZWFyIiwic2V0UmVzZXRCdXR0b25Gb2N1cyIsInVwZGF0ZVNjb3JlQm9hcmQiLCJtYWtlTW92ZUNQVSIsIm9uR2FtZVF1aXQiLCJnYW1lQ29udGFpbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2FtZU1lbnUiLCJzaG93Iiwic2V0Rm9jdXMiLCJvblJlc3RhcnRCdXR0b25DbGljayIsInJlc3RhcnRHYW1lTW9kYWwiLCJyZXN0YXJ0R2FtZUJ1dHRvbiIsImZvY3VzIiwiaW5pdCIsIm1vZGUiLCJwMU1hcmsiLCJwMUxhYmVsIiwicDJNYXJrIiwicGxheWVyMiIsIkNQVVBsYXllciIsIlBsYXllciIsInBsYXllcjEiLCJ4UGxheWVyIiwib1BsYXllciIsInBsYXllclF1ZXVlIiwicmVzZXRDb3VudGVycyIsInJlbW92ZSIsInN0YXJ0R2FtZSIsInNjb3JlQm9hcmQiLCJ1cGRhdGVUdXJuSW5kaWNhdG9yIiwicmVzdGFydEdhbWUiLCJyZXNldFNjb3JlIiwiaXNGaWVsZENoZWNrZWQiLCJjaGVja0ZpZWxkIiwiZ2V0Q3VycmVudFBsYXllciIsImdldE1hcmsiLCJhZnRlck1vdmUiLCJnZXRXaW5uaW5nRmllbGRzIiwiZ2FtZVJlc3VsdE1vZGFsIiwidXBkYXRlU2NvcmUiLCJpc0Z1bGwiLCJpbmNyZWFzZVR1cm5Db3VudCIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiZ2V0Q3VycmVudFBsYXllck1hcmsiLCJ0dXJuSW5kaWNhdG9yIiwidXBkYXRlIiwiR2FtZU1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJHYW1lQm9hcmQiLCJTY29yZUJvYXJkIiwiVHVybkluZGljYXRvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJSZXN1bHRNb2RhbCIsIlJlc3RhcnRNb2RhbCIsIm5hbWUiLCJtYXJrIiwiX3RoaXMyIiwic2NvcmUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsImNvbmNhdCIsImdldE5hbWUiLCJnZXRTY29yZSIsIl9pbmhlcml0cyIsIl9zdXBlciIsIl9jcmVhdGVTdXBlciIsIl90aGlzMyIsImJvYXJkIiwiYm9hcmRTaXplIiwiQk9BUkRfU0laRSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdhbWVCb2FyZElkIiwiZ2V0Q3VycmVudE1hcmsiLCJfdGhpczQiLCJib2FyZEZpZWxkRWxlbWVudHMiLCJib2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHVzaCIsIkZpZWxkIiwiY2hlY2siLCJpc0NoZWNrZWQiLCJmbGF0IiwiZXZlcnkiLCJmaWVsZCIsImNoZWNrUm93cyIsImNoZWNrQ29sdW1ucyIsImNoZWNrRGlhZ29uYWwiLCJzZXRBc0dhbWVXaW5uaW5nIiwiZmllbGRFbGVtZW50IiwiZ2FtZU9uQ2xpY2tIYW5kbGVyIiwiX3RoaXM1IiwiaGFuZGxlSG92ZXIiLCJjdXJyZW50UGxheWVyTWFyayIsInNldEF0dHJpYnV0ZSIsImhhbmRsZUJsdXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJnYW1lTWVudUlkIiwiZ2FtZUluaXQiLCJfdGhpczYiLCJmb3JtU3VibWl0QnV0dG9ucyIsImZvckVhY2giLCJidG4iLCJoYW5kbGVNZW51U3VibWl0QnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJpc0FueU9wdGlvblNlbGVjdGVkIiwiZXJyb3JNc2ciLCJpbm5lclRleHQiLCJnYW1lTW9kZSIsImdldENoZWNrZWRPcHRpb25NYXJrIiwiaGlkZSIsIkFycmF5IiwiZnJvbSIsImZvcm1PcHRpb25zIiwic29tZSIsIm9wdGlvbiIsImNoZWNrZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsIm4iLCJkb25lIiwidmFsdWUiLCJlcnIiLCJlIiwiZiIsIl9hIiwibWVudUZvcm0iLCJfdGhpczciLCJjdXJyZW50UGxheWVyTWFya0VsZW1lbnQiLCJjdXJyZW50UGxheWVyTWFya0ljb24iLCJzcmMiLCJzY29yZUJvYXJkSWQiLCJfdGhpczgiLCJwMSIsInAyIiwicDJMYWJlbCIsInAxU2NvcmUiLCJwMlNjb3JlIiwidGllc1Njb3JlIiwic2NvcmVCb2FyZENvbnRhaW5lciIsImdhbWVRdWl0SGFuZGxpbmciLCJnYW1lQ29udGludWVIYW5kbGluZyIsIl90aGlzOSIsImhhbmRsZUNvbnRpbnVlIiwiaGFuZGxlUXVpdCIsIndpbm5lciIsIm1vZGFsIiwidXBkYXRlUmVzdWx0IiwiZGlzcGxheVRpZVJlc3VsdCIsImRpc3BsYXlXaW5uZXJSZXN1bHQiLCJxdWl0QnV0dG9uIiwibW9kYWxIZWFkaW5nIiwiaW5uZXJIVE1MIiwibWVzc2FnZSIsImdldFJvdW5kTWVzc2FnZSIsIm1vZGFsTWVzc2FnZSIsInNldFJlc3VsdEhlYWRpbmciLCJpbWdFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImhpZGRlbk1hcmsiLCJtZXNzYWdlVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiaGVhZGluZ1NwYW4iLCJhcHBlbmRDaGlsZCIsInBsYXllck5hbWUiLCJjb250aW51ZUJ1dHRvbiIsImdhbWVSZXN0YXJ0SGFuZGxpbmciLCJjYW5jZWxTdXBwb3J0IiwiX3RoaXMxMCIsImhhbmRsZUNhbmNlbCIsImhhbmRsZVJlc3RhcnQiLCJjYW5jZWxCdXR0b24iLCJyZXN0YXJ0QnV0dG9uIiwidGljVGFjVG9lR2FtZSJdLCJtYXBwaW5ncyI6Imd5SEFLQSxJQUNNQSxLQUFJQyxhQW9CVCxTQUFBRCxJQUFBLElBQUFFLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBSCxDQUFBLEVBSlFHLEtB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QUFVc0IsT0FBTyxRQUFRLENBQ3JDLEVBL0JDNUMsS0FBSzJLLE1BQVF6RyxTQUFTQyxjQUFjLG1CQUFtQixFQUd2RG5FLEtBQUtvTSxhQUFlcE0sS0FBSzJLLE1BQU14RyxjQUFjLDhCQUE4QixFQUMzRW5FLEtBQUtvTSxhQUFhN0gsaUJBQWlCLFFBQVN2RSxLQUFLa00sWUFBWSxFQUc3RGxNLEtBQUtxTSxjQUFnQnJNLEtBQUsySyxNQUFNeEcsY0FBYywrQkFBK0IsRUFDN0VuRSxLQUFLcU0sY0FBYzlILGlCQUFpQixRQUFTdkUsS0FBS21NLGFBQWEsQ0FDaEUsQ0FBQyxFQTZCSUcsY0FBc0IsSUFBSXpNIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogdHlwZXMgKi9cclxudHlwZSBUcmlwbGVGaWVsZCA9IFtGaWVsZCwgRmllbGQsIEZpZWxkXTtcclxuLyogdHlwZXMgZW5kICovXHJcblxyXG4vKiBjbGFzc2VzICovXHJcbi8qIEdhbWUgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZSB7XHJcblx0LyogZ2FtZSBlbGVtZW50cyAqL1xyXG5cdHByaXZhdGUgZ2FtZU1lbnU6IEdhbWVNZW51O1xyXG5cdHByaXZhdGUgZ2FtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBnYW1lQm9hcmQ6IEdhbWVCb2FyZDtcclxuXHRwcml2YXRlIHNjb3JlQm9hcmQ6IFNjb3JlQm9hcmQ7XHJcblx0cHJpdmF0ZSB0dXJuSW5kaWNhdG9yOiBUdXJuSW5kaWNhdG9yO1xyXG5cdHByaXZhdGUgcmVzdGFydEdhbWVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdC8qIGdhbWUgbW9kYWxzICovXHJcblx0cHJpdmF0ZSBnYW1lUmVzdWx0TW9kYWw6IFJlc3VsdE1vZGFsO1xyXG5cdHByaXZhdGUgcmVzdGFydEdhbWVNb2RhbDogUmVzdGFydE1vZGFsO1xyXG5cdC8qIHBsYXllcnMgKi9cclxuXHRwcml2YXRlIHhQbGF5ZXI6IFBsYXllcjtcclxuXHRwcml2YXRlIG9QbGF5ZXI6IFBsYXllcjtcclxuXHRwcml2YXRlIHBsYXllclF1ZXVlOiBbUGxheWVyLCBQbGF5ZXJdO1xyXG5cdC8qIGdhbWUgc3RhdGVzICovXHJcblx0cHJpdmF0ZSB0aWVzOiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgZ2FtZUNvdW50OiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgdHVybkNvdW50OiBudW1iZXIgPSAwO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8qIGdhbWUgbWVudSAqL1xyXG5cdFx0dGhpcy5nYW1lTWVudSA9IG5ldyBHYW1lTWVudSgnI2dhbWUtbWVudScsIHRoaXMuaW5pdCk7XHJcblx0XHR0aGlzLmdhbWVNZW51LmluaXQoKTtcclxuXHJcblx0XHQvKiBjb250YWluZXIgKi9cclxuXHRcdHRoaXMuZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aWMtdGFjLXRvZS1nYW1lJyk7XHJcblxyXG5cdFx0LyogZ2FtZSBib2FyZCAqL1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQgPSBuZXcgR2FtZUJvYXJkKCcjZ2FtZS1ib2FyZCcsIHRoaXMub25GaWVsZENsaWNrLCB0aGlzLmdldEN1cnJlbnRQbGF5ZXJNYXJrKTtcclxuXHJcblx0XHQvKiBzY29yZSBib2FyZCBhbmQgY3VycmVudCdzIHBsYXllciB0dXJuICovXHJcblx0XHR0aGlzLnNjb3JlQm9hcmQgPSBuZXcgU2NvcmVCb2FyZCgnI3Njb3JlLWJvYXJkJyk7XHJcblx0XHR0aGlzLnR1cm5JbmRpY2F0b3IgPSBuZXcgVHVybkluZGljYXRvcigpO1xyXG5cclxuXHRcdC8qIHJlc3RhcnQgYnV0dG9uICovXHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lQnV0dG9uID0gdGhpcy5nYW1lQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNyZXN0YXJ0LWdhbWUtYnV0dG9uJyk7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblJlc3RhcnRCdXR0b25DbGljayk7XHJcblxyXG5cdFx0LyogbW9kYWxzICovXHJcblx0XHR0aGlzLmdhbWVSZXN1bHRNb2RhbCA9IG5ldyBSZXN1bHRNb2RhbCh0aGlzLm9uR2FtZVF1aXQsIHRoaXMub25HYW1lQ29udGludWUpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZU1vZGFsID0gbmV3IFJlc3RhcnRNb2RhbCh0aGlzLnJlc3RhcnRHYW1lLCB0aGlzLnNldFJlc2V0QnV0dG9uRm9jdXMpO1xyXG5cdH1cclxuXHJcblx0LyogaGFuZGxlcnMgKi9cclxuXHRvbkZpZWxkQ2xpY2sgPSAoZXY6IEV2ZW50KTogdm9pZCA9PiB7XHJcblx0XHQvKiByZXRyaWV2ZSByb3cgYW5kIGNvbHVtbiBmcm9tIGNsaWNrZWQgYnV0dG9uIGFuZCBtYWtlIG1vdmUgKi9cclxuXHRcdGNvbnN0IGZpZWxkQnV0dG9uID0gZXYudGFyZ2V0IGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0Y29uc3Qgcm93OiBudW1iZXIgPSBwYXJzZUludChmaWVsZEJ1dHRvbi5kYXRhc2V0LnJvdyk7XHJcblx0XHRjb25zdCBjb2x1bW46IG51bWJlciA9IHBhcnNlSW50KGZpZWxkQnV0dG9uLmRhdGFzZXQuY29sdW1uKTtcclxuXHRcdHRoaXMubWFrZU1vdmUocm93LCBjb2x1bW4pO1xyXG5cdH07XHJcblxyXG5cdG9uR2FtZUNvbnRpbnVlID0gKCkgPT4ge1xyXG5cdFx0dGhpcy5nYW1lQ291bnQrKztcclxuXHRcdHRoaXMudHVybkNvdW50ID0gMDtcclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmNsZWFyKCk7XHJcblx0XHR0aGlzLnNldFJlc2V0QnV0dG9uRm9jdXMoKTtcclxuXHRcdHRoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xyXG5cdFx0dGhpcy5tYWtlTW92ZUNQVSgpO1xyXG5cdH07XHJcblxyXG5cdG9uR2FtZVF1aXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jbGVhcigpO1xyXG5cdFx0dGhpcy5nYW1lTWVudS5zaG93KCk7XHJcblx0XHR0aGlzLmdhbWVNZW51LnNldEZvY3VzKCk7XHJcblx0fTtcclxuXHJcblx0b25SZXN0YXJ0QnV0dG9uQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lTW9kYWwuc2hvdygpO1xyXG5cdH07XHJcblxyXG5cdHNldFJlc2V0QnV0dG9uRm9jdXMgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lQnV0dG9uLmZvY3VzKCk7XHJcblx0fTtcclxuXHQvKiBoYW5kbGVycyBlbmQgKi9cclxuXHJcblx0LyogZ2FtZSBtYW5hZ2VtZW50ICovXHJcblx0aW5pdCA9IChtb2RlOiBzdHJpbmcsIHAxTWFyazogc3RyaW5nKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCBwMk1hcms6IHN0cmluZyA9IHAxTWFyayA9PT0gJ3gnID8gJ28nIDogJ3gnO1xyXG5cdFx0bGV0IHAxTGFiZWw6IHN0cmluZywgcGxheWVyMTogUGxheWVyO1xyXG5cdFx0bGV0IHAyTGFiZWw6IHN0cmluZywgcGxheWVyMjogUGxheWVyO1xyXG5cclxuXHRcdC8qIGNyZWF0ZXMgbGFiZWxzIGFuZCBwbGF5ZXJzIGRlcGVuZGluZyBvbiBnYW1lIG1vZGUgKi9cclxuXHRcdGlmIChtb2RlID09PSAnc2luZ2xlcGxheWVyJykge1xyXG5cdFx0XHRwMUxhYmVsID0gJ3lvdSc7XHJcblx0XHRcdHAyTGFiZWwgPSAnY3B1JztcclxuXHRcdFx0cGxheWVyMiA9IG5ldyBDUFVQbGF5ZXIocDJMYWJlbCwgcDJNYXJrKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHAxTGFiZWwgPSAncDEnO1xyXG5cdFx0XHRwMkxhYmVsID0gJ3AyJztcclxuXHRcdFx0cGxheWVyMiA9IG5ldyBQbGF5ZXIocDJMYWJlbCwgcDJNYXJrKTtcclxuXHRcdH1cclxuXHRcdHBsYXllcjEgPSBuZXcgUGxheWVyKHAxTGFiZWwsIHAxTWFyayk7XHJcblxyXG5cdFx0LyogYXNzaWducyBjcmVhdGVkIHBsYXllcnMgdG8gcmlnaHQgc3BvdHMgKi9cclxuXHRcdGlmIChwMU1hcmsgPT09ICd4Jykge1xyXG5cdFx0XHR0aGlzLnhQbGF5ZXIgPSBwbGF5ZXIxO1xyXG5cdFx0XHR0aGlzLm9QbGF5ZXIgPSBwbGF5ZXIyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy54UGxheWVyID0gcGxheWVyMjtcclxuXHRcdFx0dGhpcy5vUGxheWVyID0gcGxheWVyMTtcclxuXHRcdH1cclxuXHJcblx0XHQvKiBjcmVhdGVzIHR1cGxlIG9mIHBsYXllcnMsIHRvIGNob29zZSBjdXJyZW50IHBsYXllciBkZXBlbmRpbmcgb24gdHVybiBjb3VudGVyICovXHJcblx0XHR0aGlzLnBsYXllclF1ZXVlID0gW3RoaXMueFBsYXllciwgdGhpcy5vUGxheWVyXTtcclxuXHRcdHRoaXMucmVzZXRDb3VudGVycygpO1xyXG5cclxuXHRcdC8qIHNob3dzIGdhbWUgY29udGFpbmVyICovXHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblxyXG5cdFx0dGhpcy5zdGFydEdhbWUoKTtcclxuXHR9O1xyXG5cclxuXHRzdGFydEdhbWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiBpbml0aWFsaXplIHNjb3JlIGJvYXJkIHdpdGggY3JlYXRlZCBwbGF5ZXJzICovXHJcblx0XHR0aGlzLnNjb3JlQm9hcmQuaW5pdCh0aGlzLnhQbGF5ZXIsIHRoaXMub1BsYXllciwgdGhpcy50aWVzKTtcclxuXHJcblx0XHQvKiBpbml0aWFsaXplIGdhbWUgYm9hcmQgKi9cclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmluaXQoKTtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZVR1cm5JbmRpY2F0b3IoKTtcclxuXHJcblx0XHQvKiBpZiBzdGFydGluZyBwbGF5ZXIgaXMgQ1BVIHRoZW4gbWFrZSBhdXRvIG1vdmUgKi9cclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHR9O1xyXG5cclxuXHRyZXN0YXJ0R2FtZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdC8qIHJlc2V0IGNvdW50ZXJzICovXHJcblx0XHR0aGlzLnJlc2V0Q291bnRlcnMoKTtcclxuXHJcblx0XHQvKiByZXNldCBib2FyZCAqL1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcclxuXHJcblx0XHQvKiByZXNldCBwbGF5ZXJzICovXHJcblx0XHR0aGlzLnhQbGF5ZXIucmVzZXRTY29yZSgpO1xyXG5cdFx0dGhpcy5vUGxheWVyLnJlc2V0U2NvcmUoKTtcclxuXHJcblx0XHQvKiB1cGRhdGUgc2NvcmUgYm9hcmQgKi9cclxuXHRcdHRoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xyXG5cdFx0dGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XHJcblxyXG5cdFx0LyogdG8gbWFrZSBtb3ZlIGlmIGZpcnN0IHBsYXllciBpcyBDUFUgKi9cclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHJcblx0XHQvKiBzZXQgZm9jdXMgdG8gcmVzdGFydCBidXR0b24gKi9cclxuXHRcdHRoaXMuc2V0UmVzZXRCdXR0b25Gb2N1cygpO1xyXG5cdH07XHJcblx0LyogZ2FtZSBtYW5hZ2VtZW50IGVuZCAqL1xyXG5cclxuXHQvKiBtYWtpbmcgbW92ZSByZWxhdGVkICovXHJcblx0bWFrZU1vdmUgPSAocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHQvKiBvbiBmaWVsZCBjbGljaywgaWYgZmllbGQgaXMgY2hlY2tlZCB0aGVuIHJldHVybiBkb2luZyBub3RoaW5nICovXHJcblx0XHRpZiAodGhpcy5nYW1lQm9hcmQuaXNGaWVsZENoZWNrZWQocm93LCBjb2x1bW4pKSByZXR1cm47XHJcblxyXG5cdFx0LyogY2hlY2tzIHNlbGVjdGVkIGZpZWxkICovXHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jaGVja0ZpZWxkKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLmdldE1hcmsoKSwgcm93LCBjb2x1bW4pO1xyXG5cdFx0dGhpcy5hZnRlck1vdmUoKTtcclxuXHR9O1xyXG5cclxuXHRhZnRlck1vdmUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCB3aW5uaW5nRmllbGRzID0gdGhpcy5nYW1lQm9hcmQuZ2V0V2lubmluZ0ZpZWxkcygpO1xyXG5cdFx0aWYgKHdpbm5pbmdGaWVsZHMgIT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5nYW1lUmVzdWx0TW9kYWwuc2hvdyh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSk7XHJcblx0XHRcdHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLnVwZGF0ZVNjb3JlKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5nYW1lQm9hcmQuaXNGdWxsKCkpIHtcclxuXHRcdFx0dGhpcy5nYW1lUmVzdWx0TW9kYWwuc2hvdygpO1xyXG5cdFx0XHR0aGlzLnRpZXMrKztcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaW5jcmVhc2VUdXJuQ291bnQoKTtcclxuXHRcdHRoaXMudXBkYXRlVHVybkluZGljYXRvcigpO1xyXG5cclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHR9O1xyXG5cclxuXHRtYWtlTW92ZUNQVSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdC8qIGFmdGVyIGZpZWxkIGlzIGNoZWNrZWQsIGNoZWNrcyBpZiBjdXJyZW50IHBsYXllciBpcyBDUFUgYW5kIGlmIGlzLCB0aGVuIG1ha2VzIGEgbW92ZSAqL1xyXG5cdFx0aWYgKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpIGluc3RhbmNlb2YgQ1BVUGxheWVyKSB7XHJcblx0XHRcdHRoaXMubWFrZU1vdmUoLi4uKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpIGFzIENQVVBsYXllcikubWFrZU1vdmUodGhpcy5nYW1lQm9hcmQpKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdC8qIG1ha2luZyBtb3ZlIHJlbGF0ZWQgZW5kICovXHJcblxyXG5cdC8qIHBsYXllciBzdGF0ZXMgKi9cclxuXHRnZXRDdXJyZW50UGxheWVyTWFyayA9ICgpOiBzdHJpbmcgPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLmdldE1hcmsoKTtcclxuXHR9O1xyXG5cclxuXHRnZXRDdXJyZW50UGxheWVyID0gKCk6IFBsYXllciA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5wbGF5ZXJRdWV1ZVsodGhpcy5nYW1lQ291bnQgKyB0aGlzLnR1cm5Db3VudCkgJSAyXTtcclxuXHR9O1xyXG5cdC8qIHBsYXllciBzdGF0ZXMgZW5kICovXHJcblxyXG5cdC8qIGNvdW50ZXJzIG1hbmFnZW1lbnQgKi9cclxuXHRyZXNldENvdW50ZXJzID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy50aWVzID0gMDtcclxuXHRcdHRoaXMudHVybkNvdW50ID0gMDtcclxuXHRcdHRoaXMuZ2FtZUNvdW50ID0gMDtcclxuXHR9O1xyXG5cclxuXHRpbmNyZWFzZVR1cm5Db3VudCA9ICgpOiBudW1iZXIgPT4ge1xyXG5cdFx0cmV0dXJuICsrdGhpcy50dXJuQ291bnQ7XHJcblx0fTtcclxuXHQvKiBjb3VudGVycyBtYW5hZ2VtZW50IGVuZCAqL1xyXG5cclxuXHQvKiB2aWV3IHVwZGF0ZXMgKi9cclxuXHR1cGRhdGVUdXJuSW5kaWNhdG9yID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy50dXJuSW5kaWNhdG9yLnVwZGF0ZSh0aGlzLmdldEN1cnJlbnRQbGF5ZXJNYXJrKCkpO1xyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVNjb3JlQm9hcmQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnNjb3JlQm9hcmQudXBkYXRlU2NvcmUodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XHJcblx0fTtcclxuXHQvKiB2aWV3IHVwZGF0ZXMgZW5kICovXHJcbn1cclxuLyogR2FtZSBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFBsYXllciBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBQbGF5ZXIge1xyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgbmFtZTogc3RyaW5nLCBwcml2YXRlIG1hcms6IHN0cmluZywgcHJpdmF0ZSBzY29yZTogbnVtYmVyID0gMCkge31cclxuXHJcblx0dG9TdHJpbmcgPSAoKTogc3RyaW5nID0+IGAke3RoaXMubWFya30gKCR7dGhpcy5uYW1lfSlgO1xyXG5cclxuXHRnZXROYW1lID0gKCk6IHN0cmluZyA9PiB0aGlzLm5hbWU7XHJcblxyXG5cdGdldE1hcmsgPSAoKTogc3RyaW5nID0+IHRoaXMubWFyaztcclxuXHJcblx0Z2V0U2NvcmUgPSAoKTogbnVtYmVyID0+IHRoaXMuc2NvcmU7XHJcblxyXG5cdHVwZGF0ZVNjb3JlID0gKCk6IG51bWJlciA9PiArK3RoaXMuc2NvcmU7XHJcblxyXG5cdHJlc2V0U2NvcmUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnNjb3JlID0gMDtcclxuXHR9O1xyXG59XHJcblxyXG5jbGFzcyBDUFVQbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xyXG5cdG1ha2VNb3ZlID0gKGJvYXJkOiBHYW1lQm9hcmQpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcclxuXHRcdGNvbnN0IGJvYXJkU2l6ZSA9IGJvYXJkLkJPQVJEX1NJWkU7XHJcblx0XHRsZXQgcm93LCBjb2x1bW47XHJcblx0XHRkbyB7XHJcblx0XHRcdHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvYXJkU2l6ZSk7XHJcblx0XHRcdGNvbHVtbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvYXJkU2l6ZSk7XHJcblx0XHR9IHdoaWxlIChib2FyZC5pc0ZpZWxkQ2hlY2tlZChyb3csIGNvbHVtbikpO1xyXG5cdFx0cmV0dXJuIFtyb3csIGNvbHVtbl07XHJcblx0fTtcclxufVxyXG4vKiBQbGF5ZXIgY2xhc3MgZW5kICovXHJcblxyXG4vKiBHYW1lQm9hcmQgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZUJvYXJkIHtcclxuXHRCT0FSRF9TSVpFOiBudW1iZXIgPSAzO1xyXG5cdHByaXZhdGUgYm9hcmRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGJvYXJkOiBGaWVsZFtdW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKGdhbWVCb2FyZElkOiBzdHJpbmcsIHByaXZhdGUgb25GaWVsZENsaWNrOiAoZXY6IEV2ZW50KSA9PiB2b2lkLCBwcml2YXRlIGdldEN1cnJlbnRNYXJrOiAoKSA9PiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuYm9hcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYW1lQm9hcmRJZCk7XHJcblx0fVxyXG5cclxuXHQvKiBtYW5hZ2VtZW50ICovXHJcblx0aW5pdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuYm9hcmQgPSBbW10sIFtdLCBbXV07XHJcblx0XHQvKiBnZXRzIGFsbCBib2FyZCBmaWVsZHMgKi9cclxuXHRcdGNvbnN0IGJvYXJkRmllbGRFbGVtZW50czogTm9kZUxpc3RPZjxIVE1MQnV0dG9uRWxlbWVudD4gPSB0aGlzLmJvYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FtZS1ib2FyZF9fZmllbGQnKTtcclxuXHJcblx0XHQvKiBjcmVhdGluZyBmaWVsZHMgKi9cclxuXHRcdGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuYm9hcmQubGVuZ3RoOyByb3crKykge1xyXG5cdFx0XHRmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCB0aGlzLkJPQVJEX1NJWkU7IGNvbHVtbisrKSB7XHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddLnB1c2goXHJcblx0XHRcdFx0XHRuZXcgRmllbGQoXHJcblx0XHRcdFx0XHRcdHJvdyxcclxuXHRcdFx0XHRcdFx0Y29sdW1uLFxyXG5cdFx0XHRcdFx0XHRib2FyZEZpZWxkRWxlbWVudHNbY29sdW1uICsgcm93ICogdGhpcy5CT0FSRF9TSVpFXSxcclxuXHRcdFx0XHRcdFx0Ly8gaGFuZGxlcyBmb3IgZmllbGQoYnV0dG9ucykgZXZlbnRzXHJcblx0XHRcdFx0XHRcdHRoaXMub25GaWVsZENsaWNrLFxyXG5cdFx0XHRcdFx0XHR0aGlzLmdldEN1cnJlbnRNYXJrXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNsZWFyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5ib2FyZC5sZW5ndGg7IHJvdysrKSB7XHJcblx0XHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5jbGVhcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHQvKiBtYW5hZ2VtZW50IGVuZCAqL1xyXG5cclxuXHQvKiBjaGVja2luZyBzdGF0ZSAqL1xyXG5cdC8qIGNoZWNrcy9tYXJrcyBmaWVsZCBvbiBwYXNzZWQgcG9zaXRpb24gKi9cclxuXHRjaGVja0ZpZWxkID0gKG1hcms6IHN0cmluZywgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSA9PiB7XHJcblx0XHRpZiAocm93IDwgdGhpcy5ib2FyZC5sZW5ndGggJiYgY29sdW1uIDwgdGhpcy5ib2FyZFswXS5sZW5ndGgpIHtcclxuXHRcdFx0dGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0uY2hlY2sobWFyayk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0aXNGaWVsZENoZWNrZWQgPSAocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0uaXNDaGVja2VkKCk7XHJcblx0fTtcclxuXHJcblx0aXNGdWxsID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuYm9hcmQuZmxhdCgpLmV2ZXJ5KGZpZWxkID0+IGZpZWxkLmlzQ2hlY2tlZCgpKTtcclxuXHR9O1xyXG5cdC8qIGNoZWNraW5nIHN0YXRlIGVuZCAqL1xyXG5cclxuXHQvKiB3aW5uaW5nIGZpZWxkcyBzZWFyY2ggKi9cclxuXHRnZXRXaW5uaW5nRmllbGRzID0gKCk6IFRyaXBsZUZpZWxkIHwgbnVsbCA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jaGVja1Jvd3MoKSB8fCB0aGlzLmNoZWNrQ29sdW1ucygpIHx8IHRoaXMuY2hlY2tEaWFnb25hbCgpO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrUm93cyA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5CT0FSRF9TSVpFOyByb3crKykge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzBdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVswXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbcm93XVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMV0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkW3Jvd11bMl0uZ2V0TWFyaygpXHJcblx0XHRcdClcclxuXHRcdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzBdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbcm93XVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMl0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdF07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRjaGVja0NvbHVtbnMgPSAoKTogVHJpcGxlRmllbGQgfCBudWxsID0+IHtcclxuXHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5nZXRNYXJrKCkgIT09IG51bGwgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzBdW2NvbHVtbl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdW2NvbHVtbl0uZ2V0TWFyaygpICYmXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsxXVtjb2x1bW5dLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsyXVtjb2x1bW5dLmdldE1hcmsoKVxyXG5cdFx0XHQpXHJcblx0XHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkWzFdW2NvbHVtbl0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFsyXVtjb2x1bW5dLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRdO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0Y2hlY2tEaWFnb25hbCA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0LyogdG9wIGxlZnQsIG1pZGRsZSwgYW5kIGJvdHRvbSByaWdodCAqL1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzBdWzBdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMl0uZ2V0TWFyaygpXHJcblx0XHQpXHJcblx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVswXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsyXVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdF07XHJcblxyXG5cdFx0LyogdG9wIHJpZ2h0LCBtaWRkbGUsIGFuZCBib3R0b20gbGVmdCAqL1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzBdWzJdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMF0uZ2V0TWFyaygpXHJcblx0XHQpXHJcblx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0dGhpcy5ib2FyZFsyXVswXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdF07XHJcblxyXG5cdFx0Lyogbm8gZmllbGRzIG1hdGNoZWQgKi9cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblx0Lyogd2lubmluZyBmaWVsZHMgc2VhcmNoIGVuZCAqL1xyXG59XHJcbi8qIEdhbWVCb2FyZCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIEZpZWxkIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIEZpZWxkIHtcclxuXHRwcml2YXRlIG1hcms6IHN0cmluZyA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByb3c6IG51bWJlcixcclxuXHRcdHByaXZhdGUgY29sdW1uOiBudW1iZXIsXHJcblx0XHRwcml2YXRlIGZpZWxkRWxlbWVudDogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcblx0XHRwcml2YXRlIGdhbWVPbkNsaWNrSGFuZGxlcjogKGV2OiBFdmVudCkgPT4gdm9pZCxcclxuXHRcdHByaXZhdGUgZ2V0Q3VycmVudE1hcms6ICgpID0+IHN0cmluZ1xyXG5cdCkge1xyXG5cdFx0aWYgKHRoaXMuZmllbGRFbGVtZW50KSB7XHJcblx0XHRcdC8qIGNsaWNrIGhhbmRsaW5nICovXHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nYW1lT25DbGlja0hhbmRsZXIpO1xyXG5cclxuXHRcdFx0LyogaG92ZXIvZm9jdXMgaW4gaGFuZGxpbmcgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5oYW5kbGVIb3Zlcik7XHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLmhhbmRsZUhvdmVyKTtcclxuXHJcblx0XHRcdC8qIGhvdmVyL2ZvY3VzIG91dCBoYW5kbGluZyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuaGFuZGxlQmx1cik7XHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5oYW5kbGVCbHVyKTtcclxuXHJcblx0XHRcdC8qIHNldHRpbmcgYXR0cmlidXRlcyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LnJvdyA9IHRoaXMucm93LnRvU3RyaW5nKCk7XHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmRhdGFzZXQuY29sdW1uID0gdGhpcy5jb2x1bW4udG9TdHJpbmcoKTtcclxuXHRcdFx0dGhpcy5jbGVhcigpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyogaGFuZGxlcnMgKi9cclxuXHQvKiBob3Zlci9mb2N1cyBpbiBmaWVsZCBoYW5kbGUgKi9cclxuXHRoYW5kbGVIb3ZlciA9ICgpOiB2b2lkID0+IHtcclxuXHRcdGNvbnN0IGN1cnJlbnRQbGF5ZXJNYXJrID0gdGhpcy5nZXRDdXJyZW50TWFyaygpO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtcGxheWVyJywgY3VycmVudFBsYXllck1hcmspO1xyXG5cdH07XHJcblxyXG5cdC8qIGhvdmVyL2ZvY3VzIG91dCBmaWVsZCBoYW5kbGUgKi9cclxuXHRoYW5kbGVCbHVyID0gKCkgPT4ge1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtcGxheWVyJyk7XHJcblx0fTtcclxuXHQvKiBoYW5kbGVycyBlbmQgKi9cclxuXHJcblx0LyogbWFuYWdlbWVudCAqL1xyXG5cdGNsZWFyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tYXJrID0gbnVsbDtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSb3cgJHt0aGlzLnJvdyArIDF9LCBjb2x1bW4gJHt0aGlzLmNvbHVtbiArIDF9LCBlbXB0eSBmaWVsZGApO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWdhbWUtd2lubmluZycpO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtcGxheWVyJyk7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWFyaycpO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrID0gKG1hcms6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tYXJrID0gbWFyaztcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSb3cgJHt0aGlzLnJvdyArIDF9LCBjb2x1bW4gJHt0aGlzLmNvbHVtbiArIDF9LCAke3RoaXMubWFya30gbWFya2ApO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW1hcmsnLCBtYXJrKTtcclxuXHR9O1xyXG5cdC8qIG1hbmFnZW1lbnQgZW5kICovXHJcblxyXG5cdC8qIGhlbHBlcnMgKi9cclxuXHRpc0NoZWNrZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXJrICE9PSBudWxsO1xyXG5cdH07XHJcblxyXG5cdHNldEFzR2FtZVdpbm5pbmcgPSAoKTogRmllbGQgPT4ge1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWdhbWUtd2lubmluZycsICcnKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0LyogaGVscGVycyBlbmQgKi9cclxuXHJcblx0LyogZ2V0dGVycyAqL1xyXG5cdGdldE1hcmsgPSAoKTogc3RyaW5nID0+IHtcclxuXHRcdHJldHVybiB0aGlzLm1hcms7XHJcblx0fTtcclxufVxyXG4vKiBGaWVsZCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIEdhbWVNZW51IGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIEdhbWVNZW51IHtcclxuXHRwcml2YXRlIGdhbWVNZW51OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIG1lbnVGb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBmb3JtT3B0aW9uczogTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PjtcclxuXHRwcml2YXRlIGVycm9yTXNnOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGZvcm1TdWJtaXRCdXR0b25zOiBOb2RlTGlzdE9mPEhUTUxCdXR0b25FbGVtZW50PjtcclxuXHJcblx0Y29uc3RydWN0b3IoZ2FtZU1lbnVJZDogc3RyaW5nLCBwcml2YXRlIGdhbWVJbml0OiAobW9kZTogc3RyaW5nLCBwMU1hcms6IHN0cmluZykgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5nYW1lTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2FtZU1lbnVJZCk7XHJcblx0XHR0aGlzLm1lbnVGb3JtID0gdGhpcy5nYW1lTWVudS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XHJcblx0XHR0aGlzLmZvcm1PcHRpb25zID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtcclxuXHRcdHRoaXMuZXJyb3JNc2cgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPVwiYWxlcnRcIl0nKTtcclxuXHRcdHRoaXMuZm9ybVN1Ym1pdEJ1dHRvbnMgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcblx0fVxyXG5cclxuXHRpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5mb3JtU3VibWl0QnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU1lbnVTdWJtaXRCdXR0b24pKTtcclxuXHR9O1xyXG5cclxuXHQvKiBoYW5kbGVycyAqL1xyXG5cdGhhbmRsZU1lbnVTdWJtaXRCdXR0b24gPSAoZXY6IEV2ZW50KTogdm9pZCA9PiB7XHJcblx0XHRldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Lyogc2hvd3MgZXJyb3IgaWYgYW55IGZpZWxkIHdhc24ndCBzZWxlY3RlZCAqL1xyXG5cdFx0aWYgKCF0aGlzLmlzQW55T3B0aW9uU2VsZWN0ZWQoKSkge1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5pbm5lclRleHQgPSAnUGxlYXNlIHNlbGVjdCBtYXJrIGZvciBwbGF5ZXIgMSc7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmlubmVyVGV4dCA9ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qIHJldHJpZXZlIGdhbWUgbW9kZSBmcm9tIHN1Ym1pdCBidXR0b24gY2xpY2tlZCBhbmQgc2VsZWN0ZWQgbWFyayBmcm9tIG9wdGlvbnMgKi9cclxuXHRcdGNvbnN0IHN1Ym1pdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBldi50YXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRjb25zdCBnYW1lTW9kZTogc3RyaW5nID0gc3VibWl0QnRuLmRhdGFzZXQubW9kZTtcclxuXHRcdGNvbnN0IHAxTWFyazogc3RyaW5nID0gdGhpcy5nZXRDaGVja2VkT3B0aW9uTWFyaygpO1xyXG5cclxuXHRcdC8qIGhpZGVzIGdhbWUgbWVudSAqL1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblxyXG5cdFx0LyogYW5kIHJ1bnMgZ2FtZSBpbml0aWFsaXphdGlvbiAqL1xyXG5cdFx0dGhpcy5nYW1lSW5pdChnYW1lTW9kZSwgcDFNYXJrKTsgLy8gbWV0aG9kIGZyb20gdGhlIHBhcmVudCBHYW1lIGNsYXNzXHJcblx0fTtcclxuXHQvKiBoYW5kbGVycyBlbmQgKi9cclxuXHRpc0FueU9wdGlvblNlbGVjdGVkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIEFycmF5LmZyb20odGhpcy5mb3JtT3B0aW9ucykuc29tZShvcHRpb24gPT4gb3B0aW9uLmNoZWNrZWQpO1xyXG5cdH07XHJcblxyXG5cdGdldENoZWNrZWRPcHRpb25NYXJrID0gKCk6IHN0cmluZyA9PiB7XHJcblx0XHRmb3IgKGNvbnN0IG9wdGlvbiBvZiB0aGlzLmZvcm1PcHRpb25zKSB7XHJcblx0XHRcdGlmIChvcHRpb24uY2hlY2tlZCkgcmV0dXJuIG9wdGlvbi5kYXRhc2V0Lm1hcms7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fTtcclxuXHQvKiBoZWxwZXJzICovXHJcblxyXG5cdC8qIHZpZXcgdXBkYXRlICovXHJcblx0c2hvdyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblx0fTtcclxuXHJcblx0aGlkZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblx0fTtcclxuXHQvKiB2aWV3IHVwZGF0ZSBlbmQgKi9cclxuXHJcblx0Lyogb3RoZXIgKi9cclxuXHRzZXRGb2N1cyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZm9ybU9wdGlvbnNbMF0/LmZvY3VzKCk7XHJcblx0fTtcclxufVxyXG4vKiBHYW1lTWVudSBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFR1cm5JbmRpY2F0b3IgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgVHVybkluZGljYXRvciB7XHJcblx0cHJpdmF0ZSBjdXJyZW50UGxheWVyTWFya0VsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgY3VycmVudFBsYXllck1hcmtJY29uOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnJlbnQtcGxheWVyLW1hcmsnKTtcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnJlbnQtcGxheWVyLW1hcmstaWNvbicpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlID0gKG1hcms6IHN0cmluZykgPT4ge1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0VsZW1lbnQuaW5uZXJUZXh0ID0gbWFyaztcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtJY29uLnNyYyA9IGAuL2Rpc3QvYXNzZXRzL2ljb24tJHttYXJrfS5zdmdgO1xyXG5cdH07XHJcbn1cclxuLyogVHVybkluZGljYXRvciBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFNjb3JlQm9hcmQgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgU2NvcmVCb2FyZCB7XHJcblx0cHJpdmF0ZSBzY29yZUJvYXJkQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAxTGFiZWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDFTY29yZTogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMkxhYmVsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAyU2NvcmU6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgdGllc1Njb3JlOiBIVE1MRWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3Ioc2NvcmVCb2FyZElkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2NvcmVCb2FyZElkKTtcclxuXHRcdHRoaXMucDFMYWJlbCA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDEtZ2FtZS1uYW1lJyk7XHJcblx0XHR0aGlzLnAxU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AxLWdhbWUtc2NvcmUnKTtcclxuXHRcdHRoaXMucDJMYWJlbCA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDItZ2FtZS1uYW1lJyk7XHJcblx0XHR0aGlzLnAyU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AyLWdhbWUtc2NvcmUnKTtcclxuXHRcdHRoaXMudGllc1Njb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXRpZXMnKTtcclxuXHR9XHJcblxyXG5cdGluaXQgPSAocDE6IFBsYXllciwgcDI6IFBsYXllciwgdGllczogbnVtYmVyID0gMCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5wMUxhYmVsLmlubmVyVGV4dCA9IHAxLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnAyTGFiZWwuaW5uZXJUZXh0ID0gcDIudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMudXBkYXRlU2NvcmUocDEsIHAyLCB0aWVzKTtcclxuXHR9O1xyXG5cclxuXHR1cGRhdGVTY29yZSA9IChwMTogUGxheWVyLCBwMjogUGxheWVyLCB0aWVzOiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMucDFTY29yZS5pbm5lclRleHQgPSBwMS5nZXRTY29yZSgpLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnAyU2NvcmUuaW5uZXJUZXh0ID0gcDIuZ2V0U2NvcmUoKS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy50aWVzU2NvcmUuaW5uZXJUZXh0ID0gdGllcy50b1N0cmluZygpO1xyXG5cdH07XHJcbn1cclxuLyogU2NvcmVCb2FyZCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFJlc3VsdE1vZGFsIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIFJlc3VsdE1vZGFsIHtcclxuXHRwcml2YXRlIG1vZGFsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIG1vZGFsTWVzc2FnZTogSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBtb2RhbEhlYWRpbmc6IEhUTUxIZWFkaW5nRWxlbWVudDtcclxuXHRwcml2YXRlIHF1aXRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdHByaXZhdGUgY29udGludWVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGdhbWVRdWl0SGFuZGxpbmc6ICgpID0+IHZvaWQsIHByaXZhdGUgZ2FtZUNvbnRpbnVlSGFuZGxpbmc6ICgpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZS1yZXN1bHQtbW9kYWwnKTtcclxuXHRcdHRoaXMubW9kYWxNZXNzYWdlID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX21lc3NhZ2UnKTtcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2hlYWRpbmcnKTtcclxuXHJcblx0XHQvKiBxdWl0IGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5xdWl0QnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJxdWl0XCJdJyk7XHJcblx0XHR0aGlzLnF1aXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVF1aXQpO1xyXG5cclxuXHRcdC8qIGNvbnRpbnVlIGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5jb250aW51ZUJ1dHRvbiA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYWN0aW9uPVwiY29udGludWVcIl0nKTtcclxuXHRcdHRoaXMuY29udGludWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvbnRpbnVlKTtcclxuXHR9XHJcblxyXG5cdC8qIGhhbmRsZXJzICovXHJcblx0aGFuZGxlQ29udGludWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVDb250aW51ZUhhbmRsaW5nKCk7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHR9O1xyXG5cclxuXHRoYW5kbGVRdWl0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0XHR0aGlzLmdhbWVRdWl0SGFuZGxpbmcoKTtcclxuXHR9O1xyXG5cdC8qIGhhbmRsZXJzIGVuZCAqL1xyXG5cclxuXHQvKiB2aWV3IHVwZGF0ZXMgKi9cclxuXHRzaG93ID0gKHdpbm5lcjogUGxheWVyIHwgbnVsbCA9IG51bGwpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHR0aGlzLnVwZGF0ZVJlc3VsdCh3aW5uZXIpO1xyXG5cdH07XHJcblxyXG5cdGhpZGUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVJlc3VsdCA9ICh3aW5uZXI6IFBsYXllciB8IG51bGwpOiB2b2lkID0+IHtcclxuXHRcdGlmICh3aW5uZXIgPT09IG51bGwpIHRoaXMuZGlzcGxheVRpZVJlc3VsdCgpO1xyXG5cdFx0ZWxzZSB0aGlzLmRpc3BsYXlXaW5uZXJSZXN1bHQod2lubmVyKTtcclxuXHJcblx0XHR0aGlzLnF1aXRCdXR0b24uZm9jdXMoKTtcclxuXHR9O1xyXG5cclxuXHRkaXNwbGF5VGllUmVzdWx0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lubmVyJywgJ3RpZScpO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuaW5uZXJIVE1MID0gJyc7XHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5pbm5lclRleHQgPSAnUm91bmQgdGllZCc7XHJcblx0fTtcclxuXHJcblx0ZGlzcGxheVdpbm5lclJlc3VsdCA9ICh3aW5uZXI6IFBsYXllcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lubmVyJywgd2lubmVyLmdldE1hcmsoKSk7XHJcblxyXG5cdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuZ2V0Um91bmRNZXNzYWdlKHdpbm5lci5nZXROYW1lKCkpO1xyXG5cdFx0dGhpcy5tb2RhbE1lc3NhZ2UuaW5uZXJUZXh0ID0gbWVzc2FnZTtcclxuXHRcdHRoaXMuc2V0UmVzdWx0SGVhZGluZyh3aW5uZXIpO1xyXG5cdH07XHJcblxyXG5cdHNldFJlc3VsdEhlYWRpbmcgPSAod2lubmVyOiBQbGF5ZXIpOiB2b2lkID0+IHtcclxuXHRcdC8qIGNsZWFyIGhlYWRpbmcgYmVmb3JlIHNldHRpbmcgbWVzc2FnZSAqL1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuaW5uZXJIVE1MID0gJyc7XHJcblx0XHRjb25zdCBtYXJrID0gd2lubmVyLmdldE1hcmsoKTtcclxuXHJcblx0XHQvKiB3aW5uaW5nIG1hcmsgaWNvbiAqL1xyXG5cdFx0Y29uc3QgaW1nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdFx0aW1nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAuL2Rpc3QvYXNzZXRzL2ljb24tJHttYXJrfS5zdmdgKTtcclxuXHRcdGltZ0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhbHQnLCAnJyk7XHJcblxyXG5cdFx0LyogaGlkZGVuIG1hcmsgZm9yIHNjcmVlbiByZWFkZXJzICovXHJcblx0XHRjb25zdCBoaWRkZW5NYXJrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0aGlkZGVuTWFyay5jbGFzc0xpc3QuYWRkKCd2aXN1YWxseS1oaWRkZW4nKTtcclxuXHRcdGhpZGRlbk1hcmsuaW5uZXJUZXh0ID0gbWFyaztcclxuXHJcblx0XHQvKiBtZXNzYWdlIGFmdGVyIGltYWdlICovXHJcblx0XHRjb25zdCBtZXNzYWdlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCd0YWtlcyB0aGUgcm91bmQnKTtcclxuXHJcblx0XHQvKiBzcGFuIGNvbnRhaW5lciBmb3IgaGlkZGVuIG1hcmsgYW5kIG1lc3NhZ2UgdGV4dCAqL1xyXG5cdFx0Y29uc3QgaGVhZGluZ1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRoZWFkaW5nU3Bhbi5hcHBlbmRDaGlsZChoaWRkZW5NYXJrKTtcclxuXHRcdGhlYWRpbmdTcGFuLmFwcGVuZENoaWxkKG1lc3NhZ2VUZXh0KTtcclxuXHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5hcHBlbmRDaGlsZChpbWdFbGVtZW50KTtcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmFwcGVuZENoaWxkKGhlYWRpbmdTcGFuKTtcclxuXHR9O1xyXG5cdC8qIHZpZXcgdXBkYXRlcyBlbmQgKi9cclxuXHJcblx0LyogaGVscGVycyAqL1xyXG5cdGdldFJvdW5kTWVzc2FnZSA9IChwbGF5ZXJOYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG5cdFx0bGV0IG1lc3NhZ2U7XHJcblx0XHRzd2l0Y2ggKHBsYXllck5hbWUpIHtcclxuXHRcdFx0Y2FzZSAncDEnOlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnUGxheWVyIDEgd2lucyEnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdwMic6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdQbGF5ZXIgMiB3aW5zISc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3lvdSc6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdZb3Ugd29uISc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2NwdSc6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdPaCBubywgeW91IGxvc3QuLi4nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnJztcclxuXHRcdH1cclxuXHRcdHJldHVybiBtZXNzYWdlO1xyXG5cdH07XHJcbn1cclxuLyogUmVzdWx0TW9kYWwgY2xhc3MgZW5kICovXHJcblxyXG4vKiBSZXN0YXJ0TW9kYWwgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUmVzdGFydE1vZGFsIHtcclxuXHRwcml2YXRlIG1vZGFsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGNhbmNlbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0cHJpdmF0ZSByZXN0YXJ0QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBnYW1lUmVzdGFydEhhbmRsaW5nOiAoKSA9PiB2b2lkLCBwcml2YXRlIGNhbmNlbFN1cHBvcnQ6ICgpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZS1yZXNldC1tb2RhbCcpO1xyXG5cclxuXHRcdC8qIGNhbmNlbCBidXR0b24gKi9cclxuXHRcdHRoaXMuY2FuY2VsQnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJjYW5jZWxcIl0nKTtcclxuXHRcdHRoaXMuY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDYW5jZWwpO1xyXG5cclxuXHRcdC8qIHJlc3RhcnQgYnV0dG9uICovXHJcblx0XHR0aGlzLnJlc3RhcnRCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cInJlc3RhcnRcIl0nKTtcclxuXHRcdHRoaXMucmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUmVzdGFydCk7XHJcblx0fVxyXG5cclxuXHQvKiBoYW5kbGVycyAqL1xyXG5cdGhhbmRsZUNhbmNlbCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cdFx0dGhpcy5jYW5jZWxTdXBwb3J0KCk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlUmVzdGFydCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZVJlc3RhcnRIYW5kbGluZygpO1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0fTtcclxuXHQvKiBoYW5kbGVycyBlbmQgKi9cclxuXHJcblx0LyogdmlldyB1cGRhdGVzICovXHJcblx0c2hvdyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHR0aGlzLmNhbmNlbEJ1dHRvbi5mb2N1cygpO1xyXG5cdH07XHJcblxyXG5cdGhpZGUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdH07XHJcblx0LyogdmlldyB1cGRhdGVzIGVuZCAqL1xyXG59XHJcbi8qIFJlc3RhcnRNb2RhbCBjbGFzcyBzdGFydCAqL1xyXG4vKiBjbGFzc2VzIGVuZCAqL1xyXG5cclxuLyogZ2FtZSBvYmplY3RzICovXHJcbmNvbnN0IHRpY1RhY1RvZUdhbWU6IEdhbWUgPSBuZXcgR2FtZSgpO1xyXG4vKiBnYW1lIG9iamVjdHMgZW5kICovXHJcbiJdfQ==
