"use strict";function _createForOfIteratorHelper(e,r){var t,n,o,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return n=!(t=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return t=e.done,e},e:function(e){n=!0,o=e},f:function(){try{t||null==a.return||a.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:r=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,r):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Game=_createClass(function e(r,t){var o=this;_classCallCheck(this,e),this.ties=0,this.init=function(e,r){var t="x"===r?"o":"x",n="singleplayer"===e?"you":"p1",e="singleplayer"===e?"cpu":"p2";"x"===r?(o.xPlayer=new Player(n,r),o.oPlayer=new Player(e,t)):(o.xPlayer=new Player(e,t),o.oPlayer=new Player(n,r)),o.gameContainer.classList.remove("hidden"),o.scoreBoard.init(o.xPlayer,o.oPlayer,o.ties)},this.gameMenu=new GameMenu(r,this.init),this.gameMenu.init(),this.gameContainer=document.querySelector(t),this.scoreBoard=new ScoreBoard("#score-board")}),GameMenu=_createClass(function e(r,t){var n=this;_classCallCheck(this,e),this.gameInit=t,this.init=function(){n.formSubmitButtons.forEach(function(e){return e.addEventListener("click",n.handleMenuSubmitButton)})},this.handleMenuSubmitButton=function(e){var r;e.preventDefault(),n.isAnyOptionSelected()?(n.errorMsg.classList.remove("visible"),n.errorMsg.innerText="",e=e.target.dataset.mode,r=n.getCheckedOptionMark(),n.gameMenu.classList.add("hidden"),n.gameInit(e,r)):(n.errorMsg.classList.add("visible"),n.errorMsg.innerText="Please select mark for player 1")},this.isAnyOptionSelected=function(){return Array.from(n.formOptions).some(function(e){return e.checked})},this.getCheckedOptionMark=function(){var e,r=_createForOfIteratorHelper(n.formOptions);try{for(r.s();!(e=r.n()).done;){var t=e.value;if(t.checked)return t.dataset.mark}}catch(e){r.e(e)}finally{r.f()}return""},this.gameMenu=document.querySelector(r),this.menuForm=this.gameMenu.querySelector("form"),this.formOptions=this.menuForm.querySelectorAll('input[type="radio"]'),this.errorMsg=this.menuForm.querySelector('[role="alert"]'),this.formSubmitButtons=this.menuForm.querySelectorAll('button[type="submit"]')}),ScoreBoard=_createClass(function e(r){var n=this;_classCallCheck(this,e),this.init=function(e,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n.p1Label.innerText=e.toString(),n.p2Label.innerText=r.toString(),n.updateScore(e,r,t)},this.updateScore=function(e,r,t){n.p1Score.innerText=e.getScore().toString(),n.p2Score.innerText=r.getScore().toString(),n.tiesScore.innerText=t.toString()},this.scoreBoardContainer=document.querySelector(r),this.p1Label=this.scoreBoardContainer.querySelector("#p1-game-name"),this.p1Score=this.scoreBoardContainer.querySelector("#p1-game-score"),this.p2Label=this.scoreBoardContainer.querySelector("#p2-game-name"),this.p2Score=this.scoreBoardContainer.querySelector("#p2-game-score"),this.tiesScore=this.scoreBoardContainer.querySelector("#game-ties")}),Player=_createClass(function e(r,t){var n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.name=r,this.mark=t,this.score=o,this.toString=function(){return"".concat(n.mark," (").concat(n.name,")")},this.getMark=function(){return n.mark},this.getScore=function(){return n.score},this.updateScore=function(){return++n.score}}),ticTacToeGame=new Game("#game-menu","#tic-tac-toe-game");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsiR2FtZSIsIl9jcmVhdGVDbGFzcyIsImdhbWVNZW51SWQiLCJnYW1lQ29udGFpbmVySWQiLCJfdGhpcyIsInRoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aWVzIiwiaW5pdCIsIm1vZGUiLCJwMU1hcmsiLCJwMk1hcmsiLCJwMUxhYmVsIiwicDJMYWJlbCIsInhQbGF5ZXIiLCJQbGF5ZXIiLCJvUGxheWVyIiwiZ2FtZUNvbnRhaW5lciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInNjb3JlQm9hcmQiLCJnYW1lTWVudSIsIkdhbWVNZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiU2NvcmVCb2FyZCIsImdhbWVJbml0IiwiX3RoaXMyIiwiZm9ybVN1Ym1pdEJ1dHRvbnMiLCJmb3JFYWNoIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZU1lbnVTdWJtaXRCdXR0b24iLCJldiIsInByZXZlbnREZWZhdWx0IiwiaXNBbnlPcHRpb25TZWxlY3RlZCIsImVycm9yTXNnIiwiaW5uZXJUZXh0IiwiZ2FtZU1vZGUiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiZ2V0Q2hlY2tlZE9wdGlvbk1hcmsiLCJhZGQiLCJBcnJheSIsImZyb20iLCJmb3JtT3B0aW9ucyIsInNvbWUiLCJvcHRpb24iLCJjaGVja2VkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwibWFyayIsImVyciIsImUiLCJmIiwibWVudUZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwic2NvcmVCb2FyZElkIiwiX3RoaXMzIiwicDEiLCJwMiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRvU3RyaW5nIiwidXBkYXRlU2NvcmUiLCJwMVNjb3JlIiwiZ2V0U2NvcmUiLCJwMlNjb3JlIiwidGllc1Njb3JlIiwic2NvcmVCb2FyZENvbnRhaW5lciIsIm5hbWUiLCJf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SVQsT0FBTWQsYUFDWCxTQUFBYyxFQUFvQjZELEVBQXNCcEIsR0FBdUMsSUFBQXFCLEVBQUF4RSxLQUFqQnlFLEVBQUEsRUFBQVosVUFBQUMsUUFBQUMsS0FBQUEsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQWdCLEVBQUM1RCxnQkFBQUQsS0FBQVUsQ0FBQSxFQUE3RFYsS0FBQXVFLEtBQUFBLEVBQXNCdkUsS0FBQW1ELEtBQUFBLEVBQXNCbkQsS0FBQXlFLE1BQUFBLEVBRWhFekUsS0FBQWdFLFNBQVcsV0FBQSxNQUFBLEdBQUFVLE9BQWlCRixFQUFLckIsS0FBSSxJQUFBLEVBQUF1QixPQUFLRixFQUFLRCxLQUFJLEdBQUEsQ0FBQSxFQUVuRHZFLEtBQUEyRSxRQUFVLFdBQUEsT0FBY0gsRUFBS3JCLElBQUksRUFFakNuRCxLQUFBbUUsU0FBVyxXQUFBLE9BQWNLLEVBQUtDLEtBQUssRUFFbkN6RSxLQUFBaUUsWUFBYyxXQUFBLE1BQWMsRUFBRU8sRUFBS0MsS0FBSyxDQVI0QyxDQUFDLEVBY2hGRyxjQUFzQixJQUFJakYsS0FBSyxhQUFjLG1CQUFtQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGNsYXNzZXMgKi9cclxuLyogR2FtZSBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBHYW1lIHtcclxuXHRwcml2YXRlIGdhbWVNZW51OiBHYW1lTWVudTtcclxuXHRwcml2YXRlIGdhbWVDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgc2NvcmVCb2FyZDogU2NvcmVCb2FyZDtcclxuXHRwcml2YXRlIHhQbGF5ZXI6IFBsYXllcjtcclxuXHRwcml2YXRlIG9QbGF5ZXI6IFBsYXllcjtcclxuXHRwcml2YXRlIHRpZXM6IG51bWJlciA9IDA7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGdhbWVNZW51SWQ6IHN0cmluZywgZ2FtZUNvbnRhaW5lcklkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUgPSBuZXcgR2FtZU1lbnUoZ2FtZU1lbnVJZCwgdGhpcy5pbml0KTtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuaW5pdCgpO1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYW1lQ29udGFpbmVySWQpO1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkID0gbmV3IFNjb3JlQm9hcmQoJyNzY29yZS1ib2FyZCcpO1xyXG5cdH1cclxuXHJcblx0aW5pdCA9IChtb2RlOiBzdHJpbmcsIHAxTWFyazogc3RyaW5nKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCBwMk1hcms6IHN0cmluZyA9IHAxTWFyayA9PT0gJ3gnID8gJ28nIDogJ3gnO1xyXG5cdFx0Y29uc3QgcDFMYWJlbDogc3RyaW5nID0gbW9kZSA9PT0gJ3NpbmdsZXBsYXllcicgPyAneW91JyA6ICdwMSc7XHJcblx0XHRjb25zdCBwMkxhYmVsOiBzdHJpbmcgPSBtb2RlID09PSAnc2luZ2xlcGxheWVyJyA/ICdjcHUnIDogJ3AyJztcclxuXHJcblx0XHRpZiAocDFNYXJrID09PSAneCcpIHtcclxuXHRcdFx0dGhpcy54UGxheWVyID0gbmV3IFBsYXllcihwMUxhYmVsLCBwMU1hcmspO1xyXG5cdFx0XHR0aGlzLm9QbGF5ZXIgPSBuZXcgUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnhQbGF5ZXIgPSBuZXcgUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XHJcblx0XHRcdHRoaXMub1BsYXllciA9IG5ldyBQbGF5ZXIocDFMYWJlbCwgcDFNYXJrKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblx0XHR0aGlzLnNjb3JlQm9hcmQuaW5pdCh0aGlzLnhQbGF5ZXIsIHRoaXMub1BsYXllciwgdGhpcy50aWVzKTtcclxuXHR9O1xyXG59XHJcbi8qIEdhbWUgY2xhc3MgZW5kICovXHJcblxyXG4vKiBHYW1lTWVudSBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBHYW1lTWVudSB7XHJcblx0cHJpdmF0ZSBnYW1lTWVudTogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBtZW51Rm9ybTogSFRNTEZvcm1FbGVtZW50O1xyXG5cdHByaXZhdGUgZm9ybU9wdGlvbnM6IE5vZGVMaXN0T2Y8SFRNTElucHV0RWxlbWVudD47XHJcblx0cHJpdmF0ZSBlcnJvck1zZzogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBmb3JtU3VibWl0QnV0dG9uczogTm9kZUxpc3RPZjxIVE1MQnV0dG9uRWxlbWVudD47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGdhbWVNZW51SWQ6IHN0cmluZywgcHJpdmF0ZSBnYW1lSW5pdDogKG1vZGU6IHN0cmluZywgcDFNYXJrOiBzdHJpbmcpID0+IHZvaWQpIHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbWVNZW51SWQpO1xyXG5cdFx0dGhpcy5tZW51Rm9ybSA9IHRoaXMuZ2FtZU1lbnUucXVlcnlTZWxlY3RvcignZm9ybScpO1xyXG5cdFx0dGhpcy5mb3JtT3B0aW9ucyA9IHRoaXMubWVudUZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XHJcblx0XHR0aGlzLmVycm9yTXNnID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cImFsZXJ0XCJdJyk7XHJcblx0XHR0aGlzLmZvcm1TdWJtaXRCdXR0b25zID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG5cdH1cclxuXHJcblx0aW5pdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZm9ybVN1Ym1pdEJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVNZW51U3VibWl0QnV0dG9uKSk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlTWVudVN1Ym1pdEJ1dHRvbiA9IChldjogRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRpZiAoIXRoaXMuaXNBbnlPcHRpb25TZWxlY3RlZCgpKSB7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmlubmVyVGV4dCA9ICdQbGVhc2Ugc2VsZWN0IG1hcmsgZm9yIHBsYXllciAxJztcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuaW5uZXJUZXh0ID0gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VibWl0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCA9IGV2LnRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGNvbnN0IGdhbWVNb2RlOiBzdHJpbmcgPSBzdWJtaXRCdG4uZGF0YXNldC5tb2RlO1xyXG5cdFx0Y29uc3QgcDFNYXJrOiBzdHJpbmcgPSB0aGlzLmdldENoZWNrZWRPcHRpb25NYXJrKCk7XHJcblx0XHR0aGlzLmdhbWVNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cdFx0dGhpcy5nYW1lSW5pdChnYW1lTW9kZSwgcDFNYXJrKTsgLy8gbWV0aG9kIGZyb20gdGhlIHBhcmVudCBHYW1lIGNsYXNzXHJcblx0fTtcclxuXHJcblx0aXNBbnlPcHRpb25TZWxlY3RlZCA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdHJldHVybiBBcnJheS5mcm9tKHRoaXMuZm9ybU9wdGlvbnMpLnNvbWUob3B0aW9uID0+IG9wdGlvbi5jaGVja2VkKTtcclxuXHR9O1xyXG5cclxuXHRnZXRDaGVja2VkT3B0aW9uTWFyayA9ICgpOiBzdHJpbmcgPT4ge1xyXG5cdFx0Zm9yIChjb25zdCBvcHRpb24gb2YgdGhpcy5mb3JtT3B0aW9ucykge1xyXG5cdFx0XHRpZiAob3B0aW9uLmNoZWNrZWQpIHJldHVybiBvcHRpb24uZGF0YXNldC5tYXJrO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH07XHJcbn1cclxuLyogR2FtZU1lbnUgY2xhc3MgZW5kICovXHJcblxyXG4vKiBTY29yZUJvYXJkIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIFNjb3JlQm9hcmQge1xyXG5cdHByaXZhdGUgc2NvcmVCb2FyZENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMUxhYmVsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAxU2NvcmU6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDJMYWJlbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMlNjb3JlOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHRpZXNTY29yZTogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNjb3JlQm9hcmRJZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNjb3JlQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNjb3JlQm9hcmRJZCk7XHJcblx0XHR0aGlzLnAxTGFiZWwgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AxLWdhbWUtbmFtZScpO1xyXG5cdFx0dGhpcy5wMVNjb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMS1nYW1lLXNjb3JlJyk7XHJcblx0XHR0aGlzLnAyTGFiZWwgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AyLWdhbWUtbmFtZScpO1xyXG5cdFx0dGhpcy5wMlNjb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMi1nYW1lLXNjb3JlJyk7XHJcblx0XHR0aGlzLnRpZXNTY29yZSA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjZ2FtZS10aWVzJyk7XHJcblx0fVxyXG5cclxuXHRpbml0ID0gKHAxOiBQbGF5ZXIsIHAyOiBQbGF5ZXIsIHRpZXM6IG51bWJlciA9IDApOiB2b2lkID0+IHtcclxuXHRcdHRoaXMucDFMYWJlbC5pbm5lclRleHQgPSBwMS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy5wMkxhYmVsLmlubmVyVGV4dCA9IHAyLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVNjb3JlKHAxLCBwMiwgdGllcyk7XHJcblx0fTtcclxuXHJcblx0dXBkYXRlU2NvcmUgPSAocDE6IFBsYXllciwgcDI6IFBsYXllciwgdGllczogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnAxU2NvcmUuaW5uZXJUZXh0ID0gcDEuZ2V0U2NvcmUoKS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy5wMlNjb3JlLmlubmVyVGV4dCA9IHAyLmdldFNjb3JlKCkudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMudGllc1Njb3JlLmlubmVyVGV4dCA9IHRpZXMudG9TdHJpbmcoKTtcclxuXHR9O1xyXG59XHJcbi8qIFNjb3JlQm9hcmQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBQbGF5ZXIgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUGxheWVyIHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBtYXJrOiBzdHJpbmcsIHByaXZhdGUgc2NvcmU6IG51bWJlciA9IDApIHt9XHJcblxyXG5cdHRvU3RyaW5nID0gKCk6IHN0cmluZyA9PiBgJHt0aGlzLm1hcmt9ICgke3RoaXMubmFtZX0pYDtcclxuXHJcblx0Z2V0TWFyayA9ICgpOiBzdHJpbmcgPT4gdGhpcy5tYXJrO1xyXG5cclxuXHRnZXRTY29yZSA9ICgpOiBudW1iZXIgPT4gdGhpcy5zY29yZTtcclxuXHJcblx0dXBkYXRlU2NvcmUgPSAoKTogbnVtYmVyID0+ICsrdGhpcy5zY29yZTtcclxufVxyXG4vKiBQbGF5ZXIgY2xhc3MgZW5kICovXHJcbi8qIGNsYXNzZXMgZW5kICovXHJcblxyXG4vKiBnYW1lIG9iamVjdHMgKi9cclxuY29uc3QgdGljVGFjVG9lR2FtZTogR2FtZSA9IG5ldyBHYW1lKCcjZ2FtZS1tZW51JywgJyN0aWMtdGFjLXRvZS1nYW1lJyk7XHJcbi8qIGdhbWUgb2JqZWN0cyBlbmQgKi9cclxuIl19
