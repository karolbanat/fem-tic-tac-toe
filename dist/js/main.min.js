"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var r,n,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Game=_createClass(function e(){var a=this;_classCallCheck(this,e),this.ties=0,this.gameCount=0,this.turnCount=0,this.onFieldClick=function(e){var e=e.target,t=parseInt(e.dataset.row),e=parseInt(e.dataset.column);a.makeMove(t,e)},this.onGameContinue=function(){a.gameCount++,a.turnCount=0,a.gameBoard.clear(),a.updateScoreBoard(),a.makeMoveCPU()},this.onGameQuit=function(){a.gameContainer.classList.add("hidden"),a.gameBoard.clear(),a.gameMenu.show()},this.onRestartButtonClick=function(e){a.restartGameModal.show()},this.init=function(e,t){var r,n="x"===t?"o":"x",e="singleplayer"===e?(r="you",new CPUPlayer("cpu",n)):(r="p1",new Player("p2",n)),n=new Player(r,t);"x"===t?(a.xPlayer=n,a.oPlayer=e):(a.xPlayer=e,a.oPlayer=n),a.playerQueue=[a.xPlayer,a.oPlayer],a.resetCounters(),a.gameContainer.classList.remove("hidden"),a.startGame()},this.startGame=function(){a.scoreBoard.init(a.xPlayer,a.oPlayer,a.ties),a.gameBoard.init(),a.updateTurnIndicator(),a.makeMoveCPU()},this.restartGame=function(){a.resetCounters(),a.gameBoard.clear(),a.xPlayer.resetScore(),a.oPlayer.resetScore(),a.updateScoreBoard(),a.updateTurnIndicator(),a.makeMoveCPU(),a.restartGameButton.focus()},this.resetCounters=function(){a.ties=0,a.turnCount=0,a.gameCount=0},this.getCurrentPlayerMark=function(){return a.getCurrentPlayer().getMark()},this.getCurrentPlayer=function(){return a.playerQueue[(a.gameCount+a.turnCount)%2]},this.makeMove=function(e,t){a.gameBoard.isFieldChecked(e,t)||(a.gameBoard.checkField(a.getCurrentPlayer().getMark(),e,t),a.afterMove())},this.afterMove=function(){null!==a.gameBoard.getWinningFields()?(a.gameResultModal.show(a.getCurrentPlayer()),a.getCurrentPlayer().updateScore()):a.gameBoard.isFull()?(a.gameResultModal.show(),a.ties++):(a.increaseTurnCount(),a.updateTurnIndicator(),a.makeMoveCPU())},this.makeMoveCPU=function(){a.getCurrentPlayer()instanceof CPUPlayer&&a.makeMove.apply(a,_toConsumableArray(a.getCurrentPlayer().makeMove(a.gameBoard)))},this.updateTurnIndicator=function(){a.turnIndicator.update(a.getCurrentPlayerMark())},this.updateScoreBoard=function(){a.scoreBoard.updateScore(a.xPlayer,a.oPlayer,a.ties)},this.increaseTurnCount=function(){return++a.turnCount},this.gameMenu=new GameMenu("#game-menu",this.init),this.gameMenu.init(),this.gameContainer=document.querySelector("#tic-tac-toe-game"),this.scoreBoard=new ScoreBoard("#score-board"),this.gameBoard=new GameBoard("#game-board",this.onFieldClick,this.getCurrentPlayerMark),this.turnIndicator=new TurnIndicator,this.gameResultModal=new ResultModal(this.onGameQuit,this.onGameContinue),this.restartGameModal=new RestartModal(this.restartGame),this.restartGameButton=this.gameContainer.querySelector("#restart-game-button"),this.restartGameButton.addEventListener("click",this.onRestartButtonClick)}),GameMenu=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameInit=r,this.init=function(){n.formSubmitButtons.forEach(function(e){return e.addEventListener("click",n.handleMenuSubmitButton)})},this.handleMenuSubmitButton=function(e){var t;e.preventDefault(),n.isAnyOptionSelected()?(n.errorMsg.classList.remove("visible"),n.errorMsg.innerText="",e=e.target.dataset.mode,t=n.getCheckedOptionMark(),n.hide(),n.gameInit(e,t)):(n.errorMsg.classList.add("visible"),n.errorMsg.innerText="Please select mark for player 1")},this.show=function(){n.gameMenu.classList.remove("hidden")},this.hide=function(){n.gameMenu.classList.add("hidden")},this.isAnyOptionSelected=function(){return Array.from(n.formOptions).some(function(e){return e.checked})},this.getCheckedOptionMark=function(){var e,t=_createForOfIteratorHelper(n.formOptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.checked)return r.dataset.mark}}catch(e){t.e(e)}finally{t.f()}return""},this.gameMenu=document.querySelector(t),this.menuForm=this.gameMenu.querySelector("form"),this.formOptions=this.menuForm.querySelectorAll('input[type="radio"]'),this.errorMsg=this.menuForm.querySelector('[role="alert"]'),this.formSubmitButtons=this.menuForm.querySelectorAll('button[type="submit"]')}),TurnIndicator=_createClass(function e(){var t=this;_classCallCheck(this,e),this.update=function(e){t.currentPlayerMarkElement.innerText=e,t.currentPlayerMarkIcon.src="./dist/assets/icon-".concat(e,".svg")},this.currentPlayerMarkElement=document.querySelector("#current-player-mark"),this.currentPlayerMarkIcon=document.querySelector("#current-player-mark-icon")}),ScoreBoard=_createClass(function e(t){var n=this;_classCallCheck(this,e),this.init=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n.p1Label.innerText=e.toString(),n.p2Label.innerText=t.toString(),n.updateScore(e,t,r)},this.updateScore=function(e,t,r){n.p1Score.innerText=e.getScore().toString(),n.p2Score.innerText=t.getScore().toString(),n.tiesScore.innerText=r.toString()},this.scoreBoardContainer=document.querySelector(t),this.p1Label=this.scoreBoardContainer.querySelector("#p1-game-name"),this.p1Score=this.scoreBoardContainer.querySelector("#p1-game-score"),this.p2Label=this.scoreBoardContainer.querySelector("#p2-game-name"),this.p2Score=this.scoreBoardContainer.querySelector("#p2-game-score"),this.tiesScore=this.scoreBoardContainer.querySelector("#game-ties")}),ResultModal=_createClass(function e(t,r){var a=this;_classCallCheck(this,e),this.gameQuitHandling=t,this.gameContinueHandling=r,this.handleContinue=function(){a.gameContinueHandling(),a.hide()},this.handleQuit=function(){a.hide(),a.gameQuitHandling()},this.show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;a.modal.classList.add("active"),a.updateResult(e)},this.hide=function(){a.modal.classList.remove("active")},this.updateResult=function(e){null===e?a.displayTieResult():a.displayWinnerResult(e),a.quitButton.focus()},this.displayTieResult=function(){a.modal.setAttribute("data-winner","tie"),a.modalHeading.innerHTML="",a.modalHeading.innerText="Round tied"},this.displayWinnerResult=function(e){a.modal.setAttribute("data-winner",e.getMark());var t=a.getRoundMessage(e.getName());a.modalMessage.innerText=t,a.setResultHeading(e)},this.setResultHeading=function(e){a.modalHeading.innerHTML="";var e=e.getMark(),t=document.createElement("img"),r=(t.setAttribute("src","./dist/assets/icon-".concat(e,".svg")),t.setAttribute("alt",""),document.createElement("span")),e=(r.classList.add("visually-hidden"),r.innerText=e,document.createTextNode("takes the round")),n=document.createElement("span");n.appendChild(r),n.appendChild(e),a.modalHeading.appendChild(t),a.modalHeading.appendChild(n)},this.getRoundMessage=function(e){var t;switch(e){case"p1":t="Player 1 wins!";break;case"p2":t="Player 2 wins!";break;case"you":t="You won!";break;case"cpu":t="Oh no, you lost...";break;default:t=""}return t},this.modal=document.querySelector("#game-result-modal"),this.modalMessage=this.modal.querySelector(".modal__message"),this.modalHeading=this.modal.querySelector(".modal__heading"),this.quitButton=this.modal.querySelector('button[data-action="quit"]'),this.quitButton.addEventListener("click",this.handleQuit),this.continueButton=this.modal.querySelector('button[data-action="continue"]'),this.continueButton.addEventListener("click",this.handleContinue)}),RestartModal=_createClass(function e(t){var r=this;_classCallCheck(this,e),this.gameRestartHandling=t,this.handleCancel=function(){r.hide()},this.handleRestart=function(){r.gameRestartHandling(),r.hide()},this.show=function(){r.modal.classList.add("active")},this.hide=function(){r.modal.classList.remove("active")},this.modal=document.querySelector("#game-reset-modal"),this.cancelButton=this.modal.querySelector('button[data-action="cancel"]'),this.cancelButton.addEventListener("click",this.handleCancel),this.restartButton=this.modal.querySelector('button[data-action="restart"]'),this.restartButton.addEventListener("click",this.handleRestart)}),GameBoard=_createClass(function e(t,r,n){var a=this;_classCallCheck(this,e),this.onFieldClick=r,this.getCurrentMark=n,this.BOARD_SIZE=3,this.init=function(){a.board=[[],[],[]];for(var e=a.boardElement.querySelectorAll(".game-board__field"),t=0;t<a.board.length;t++)for(var r=0;r<a.BOARD_SIZE;r++)a.board[t].push(new Field(t,r,e[r+t*a.BOARD_SIZE],a.onFieldClick,a.getCurrentMark))},this.checkField=function(e,t,r){t<a.board.length&&r<a.board[0].length&&a.board[t][r].check(e)},this.isFieldChecked=function(e,t){return a.board[e][t].isChecked()},this.isFull=function(){return a.board.flat().every(function(e){return e.isChecked()})},this.getWinningFields=function(){return a.checkRows()||a.checkColumns()||a.checkDiagonal()},this.checkRows=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[e][0].getMark()&&a.board[e][0].getMark()===a.board[e][1].getMark()&&a.board[e][1].getMark()===a.board[e][2].getMark())return[a.board[e][0].setAsGameWinning(),a.board[e][1].setAsGameWinning(),a.board[e][2].setAsGameWinning()];return null},this.checkColumns=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[0][e].getMark()&&a.board[0][e].getMark()===a.board[1][e].getMark()&&a.board[1][e].getMark()===a.board[2][e].getMark())return[a.board[0][e].setAsGameWinning(),a.board[1][e].setAsGameWinning(),a.board[2][e].setAsGameWinning()];return null},this.checkDiagonal=function(){return null!==a.board[1][1].getMark()&&a.board[0][0].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][2].getMark()?[a.board[0][0].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][2].setAsGameWinning()]:null!==a.board[1][1].getMark()&&a.board[0][2].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][0].getMark()?[a.board[0][2].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][0].setAsGameWinning()]:null},this.clear=function(){for(var e=0;e<a.board.length;e++)for(var t=0;t<a.BOARD_SIZE;t++)a.board[e][t].clear()},this.boardElement=document.querySelector(t)}),Field=_createClass(function e(t,r,n,a,o){var i=this;_classCallCheck(this,e),this.row=t,this.column=r,this.fieldElement=n,this.gameOnClickHandler=a,this.getCurrentMark=o,this.mark=null,this.handleHover=function(){var e=i.getCurrentMark();i.fieldElement.setAttribute("data-current-player",e)},this.handleBlur=function(){i.fieldElement.removeAttribute("data-current-player")},this.clear=function(){i.mark=null,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", empty field")),i.fieldElement.removeAttribute("data-game-winning"),i.fieldElement.removeAttribute("data-current-player"),i.fieldElement.removeAttribute("data-mark")},this.check=function(e){i.mark=e,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", ").concat(i.mark," mark")),i.fieldElement.setAttribute("data-mark",e)},this.isChecked=function(){return null!==i.mark},this.setAsGameWinning=function(){return i.fieldElement.setAttribute("data-game-winning",""),i},this.getMark=function(){return i.mark},this.fieldElement&&(this.fieldElement.addEventListener("click",this.gameOnClickHandler),this.fieldElement.addEventListener("mouseover",this.handleHover),this.fieldElement.addEventListener("focusin",this.handleHover),this.fieldElement.addEventListener("mouseout",this.handleBlur),this.fieldElement.addEventListener("focusout",this.handleBlur),this.fieldElement.dataset.row=this.row.toString(),this.fieldElement.dataset.column=this.column.toString(),this.clear())}),Player=_createClass(function e(t,r){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.name=t,this.mark=r,this.score=a,this.toString=function(){return"".concat(n.mark," (").concat(n.name,")")},this.getName=function(){return n.name},this.getMark=function(){return n.mark},this.getScore=function(){return n.score},this.updateScore=function(){return++n.score},this.resetScore=function(){n.score=0}}),CPUPlayer=function(){_inherits(r,Player);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).makeMove=function(e){for(var t,r,n=e.BOARD_SIZE;t=Math.floor(Math.random()*n),r=Math.floor(Math.random()*n),e.isFieldChecked(t,r););return[t,r]},e}return _createClass(r)}(),ticTacToeGame=new Game;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsiR2FtZSIsIl9jcmVhdGVDbGFzcyIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInRpZXMiLCJnYW1lQ291bnQiLCJ0dXJuQ291bnQiLCJvbkZpZWxkQ2xpY2siLCJldiIsImZpZWxkQnV0dG9uIiwidGFyZ2V0Iiwicm93IiwicGFyc2VJbnQiLCJkYXRhc2V0IiwiY29sdW1uIiwibWFrZU1vdmUiLCJvbkdhbWVDb250aW51ZSIsImdhbWVCb2FyZCIsImNsZWFyIiwidXBkYXRlU2NvcmVCb2FyZCIsIm1ha2VNb3ZlQ1BVIiwib25HYW1lUXVpdCIsImdhbWVDb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJnYW1lTWVudSIsInNob3ciLCJvblJlc3RhcnRCdXR0b25DbGljayIsInJlc3RhcnRHYW1lTW9kYWwiLCJpbml0IiwibW9kZSIsInAxTWFyayIsInAxTGFiZWwiLCJwMk1hcmsiLCJwbGF5ZXIyIiwiQ1BVUGxheWVyIiwiUGxheWVyIiwicGxheWVyMSIsInhQbGF5ZXIiLCJvUGxheWVyIiwicGxheWVyUXVldWUiLCJyZXNldENvdW50ZXJzIiwicmVtb3ZlIiwic3RhcnRHYW1lIiwic2NvcmVCb2FyZCIsInVwZGF0ZVR1cm5JbmRpY2F0b3IiLCJyZXN0YXJ0R2FtZSIsInJlc2V0U2NvcmUiLCJyZXN0YXJ0R2FtZUJ1dHRvbiIsImZvY3VzIiwiZ2V0Q3VycmVudFBsYXllck1hcmsiLCJnZXRDdXJyZW50UGxheWVyIiwiZ2V0TWFyayIsImlzRmllbGRDaGVja2VkIiwiY2hlY2tGaWVsZCIsImFmdGVyTW92ZSIsImdldFdpbm5pbmdGaWVsZHMiLCJnYW1lUmVzdWx0TW9kYWwiLCJ1cGRhdGVTY29yZSIsImlzRnVsbCIsImluY3JlYXNlVHVybkNvdW50IiwiYXBwbHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJ0dXJuSW5kaWNhdG9yIiwidXBkYXRlIiwiR2FtZU1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJTY29yZUJvYXJkIiwiR2FtZUJvYXJkIiwiVHVybkluZGljYXRvciIsIlJlc3VsdE1vZGFsIiwiUmVzdGFydE1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdhbWVNZW51SWQiLCJnYW1lSW5pdCIsIl90aGlzMiIsImZvcm1TdWJtaXRCdXR0b25zIiwiZm9yRWFjaCIsImJ0biIsImhhbmRsZU1lbnVTdWJtaXRCdXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsImlzQW55T3B0aW9uU2VsZWN0ZWQiLCJlcnJvck1zZyIsImlubmVyVGV4dCIsImdhbWVNb2RlIiwiZ2V0Q2hlY2tlZE9wdGlvbk1hcmsiLCJoaWRlIiwiQXJyYXkiLCJmcm9tIiwiZm9ybU9wdGlvbnMiLCJzb21lIiwib3B0aW9uIiwiY2hlY2tlZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsIm1hcmsiLCJlcnIiLCJlIiwiZiIsIm1lbnVGb3JtIiwicXVlcnlTZWxlY3RvckFsbCIsIl90aGlzMyIsImN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudCIsImN1cnJlbnRQbGF5ZXJNYXJrSWNvbiIsInNyYyIsImNvbmNhdCIsInNjb3JlQm9hcmRJZCIsIl90aGlzNCIsInAxIiwicDIiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsInAyTGFiZWwiLCJwMVNjb3JlIiwiZ2V0U2NvcmUiLCJwMlNjb3JlIiwidGllc1Njb3JlIiwic2NvcmVCb2FyZENvbnRhaW5lciIsImdhbWVRdWl0SGFuZGxpbmciLCJnYW1lQ29udGludWVIYW5kbGluZyIsIl90aGlzNSIsImhhbmRsZUNvbnRpbnVlIiwiaGFuZGxlUXVpdCIsIndpbm5lciIsIm1vZGFsIiwidXBkYXRlUmVzdWx0IiwiZGlzcGxheVRpZVJlc3VsdCIsImRpc3BsYXlXaW5uZXJSZXN1bHQiLCJxdWl0QnV0dG9uIiwic2V0QXR0cmlidXRlIiwibW9kYWxIZWFkaW5nIiwiaW5uZXJIVE1MIiwibWVzc2FnZSIsImdldFJvdW5kTWVzc2FnZSIsImdldE5hbWUiLCJtb2RhbE1lc3NhZ2UiLCJzZXRSZXN1bHRIZWFkaW5nIiwiaW1nRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoaWRkZW5NYXJrIiwibWVzc2FnZVRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhlYWRpbmdTcGFuIiwiYXBwZW5kQ2hpbGQiLCJwbGF5ZXJOYW1lIiwiY29udGludWVCdXR0b24iLCJnYW1lUmVzdGFydEhhbmRsaW5nIiwiX3RoaXM2IiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlUmVzdGFydCIsImNhbmNlbEJ1dHRvbiIsInJlc3RhcnRCdXR0b24iLCJnYW1lQm9hcmRJZCIsImdldEN1cnJlbnRNYXJrIiwiX3RoaXM3IiwiQk9BUkRfU0laRSIsImJvYXJkIiwiYm9hcmRGaWVsZEVsZW1lbnRzIiwiYm9hcmRFbGVtZW50IiwicHVzaCIsIkZpZWxkIiwiY2hlY2siLCJpc0NoZWNrZWQiLCJmbGF0IiwiZXZlcnkiLCJmaWVsZCIsImNoZWNrUm93cyIsImNoZWNrQ29sdW1ucyIsImNoZWNrRGlhZ29uYWwiLCJzZXRBc0dhbWVXaW5uaW5nIiwiZmllbGRFbGVtZW50IiwiZ2FtZU9uQ2xpY2tIYW5kbGVyIiwiX3RoaXM4IiwiaGFuZGxlSG92ZXIiLCJjdXJyZW50UGxheWVyTWFyayIsImhhbmRsZUJsdXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJuYW1lIiwiX3RoaXM5Iiwic2NvcmUiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJfY3JlYXRlU3VwZXIiLCJfdGhpczEwIiwiYm9hcmRTaXplIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidGljVGFjVG9lR2FtZSJdLCJtYXBwaW5ncyI6Imd5SEFLQSxJQUNNQSxLQUFJQyxhQW1CVCxTQUFBRCxJQUFBLElBQUFFLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBSCxDQUFBLEVBSlFHLEtBQUFFLEtBQWUsRUFDZkYsS0FBQUcsVUFBb0IsRUFDcEJILEtBQUFJLFVBQW9CLEVBZTVCSixL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WyIvKiB0eXBlcyAqL1xyXG50eXBlIFRyaXBsZUZpZWxkID0gW0ZpZWxkLCBGaWVsZCwgRmllbGRdO1xyXG4vKiB0eXBlcyBlbmQgKi9cclxuXHJcbi8qIGNsYXNzZXMgKi9cclxuLyogR2FtZSBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBHYW1lIHtcclxuXHQvKiBnYW1lIGVsZW1lbnRzICovXHJcblx0cHJpdmF0ZSBnYW1lTWVudTogR2FtZU1lbnU7XHJcblx0cHJpdmF0ZSBnYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGdhbWVCb2FyZDogR2FtZUJvYXJkO1xyXG5cdHByaXZhdGUgc2NvcmVCb2FyZDogU2NvcmVCb2FyZDtcclxuXHRwcml2YXRlIHR1cm5JbmRpY2F0b3I6IFR1cm5JbmRpY2F0b3I7XHJcblx0cHJpdmF0ZSBnYW1lUmVzdWx0TW9kYWw6IFJlc3VsdE1vZGFsO1xyXG5cdHByaXZhdGUgcmVzdGFydEdhbWVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdHByaXZhdGUgcmVzdGFydEdhbWVNb2RhbDogUmVzdGFydE1vZGFsO1xyXG5cdC8qIHBsYXllcnMgKi9cclxuXHRwcml2YXRlIHhQbGF5ZXI6IFBsYXllcjtcclxuXHRwcml2YXRlIG9QbGF5ZXI6IFBsYXllcjtcclxuXHRwcml2YXRlIHBsYXllclF1ZXVlOiBbUGxheWVyLCBQbGF5ZXJdO1xyXG5cdC8qIGdhbWUgc3RhdGVzICovXHJcblx0cHJpdmF0ZSB0aWVzOiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgZ2FtZUNvdW50OiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgdHVybkNvdW50OiBudW1iZXIgPSAwO1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUgPSBuZXcgR2FtZU1lbnUoJyNnYW1lLW1lbnUnLCB0aGlzLmluaXQpO1xyXG5cdFx0dGhpcy5nYW1lTWVudS5pbml0KCk7XHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGljLXRhYy10b2UtZ2FtZScpO1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkID0gbmV3IFNjb3JlQm9hcmQoJyNzY29yZS1ib2FyZCcpO1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQgPSBuZXcgR2FtZUJvYXJkKCcjZ2FtZS1ib2FyZCcsIHRoaXMub25GaWVsZENsaWNrLCB0aGlzLmdldEN1cnJlbnRQbGF5ZXJNYXJrKTtcclxuXHRcdHRoaXMudHVybkluZGljYXRvciA9IG5ldyBUdXJuSW5kaWNhdG9yKCk7XHJcblx0XHR0aGlzLmdhbWVSZXN1bHRNb2RhbCA9IG5ldyBSZXN1bHRNb2RhbCh0aGlzLm9uR2FtZVF1aXQsIHRoaXMub25HYW1lQ29udGludWUpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZU1vZGFsID0gbmV3IFJlc3RhcnRNb2RhbCh0aGlzLnJlc3RhcnRHYW1lKTtcclxuXHRcdHRoaXMucmVzdGFydEdhbWVCdXR0b24gPSB0aGlzLmdhbWVDb250YWluZXIucXVlcnlTZWxlY3RvcignI3Jlc3RhcnQtZ2FtZS1idXR0b24nKTtcclxuXHRcdHRoaXMucmVzdGFydEdhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uUmVzdGFydEJ1dHRvbkNsaWNrKTtcclxuXHR9XHJcblxyXG5cdG9uRmllbGRDbGljayA9IChldjogRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdC8qIHJldHJpZXZlIHJvdyBhbmQgY29sdW1uIGZyb20gY2xpY2tlZCBidXR0b24gYW5kIG1ha2UgbW92ZSAqL1xyXG5cdFx0Y29uc3QgZmllbGRCdXR0b24gPSBldi50YXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRjb25zdCByb3c6IG51bWJlciA9IHBhcnNlSW50KGZpZWxkQnV0dG9uLmRhdGFzZXQucm93KTtcclxuXHRcdGNvbnN0IGNvbHVtbjogbnVtYmVyID0gcGFyc2VJbnQoZmllbGRCdXR0b24uZGF0YXNldC5jb2x1bW4pO1xyXG5cdFx0dGhpcy5tYWtlTW92ZShyb3csIGNvbHVtbik7XHJcblx0fTtcclxuXHJcblx0b25HYW1lQ29udGludWUgPSAoKSA9PiB7XHJcblx0XHR0aGlzLmdhbWVDb3VudCsrO1xyXG5cdFx0dGhpcy50dXJuQ291bnQgPSAwO1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcclxuXHRcdHRoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xyXG5cdFx0dGhpcy5tYWtlTW92ZUNQVSgpO1xyXG5cdH07XHJcblxyXG5cdG9uR2FtZVF1aXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jbGVhcigpO1xyXG5cdFx0dGhpcy5nYW1lTWVudS5zaG93KCk7XHJcblx0fTtcclxuXHJcblx0b25SZXN0YXJ0QnV0dG9uQ2xpY2sgPSAoZXY6IEV2ZW50KTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lTW9kYWwuc2hvdygpO1xyXG5cdH07XHJcblxyXG5cdGluaXQgPSAobW9kZTogc3RyaW5nLCBwMU1hcms6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3QgcDJNYXJrOiBzdHJpbmcgPSBwMU1hcmsgPT09ICd4JyA/ICdvJyA6ICd4JztcclxuXHRcdGxldCBwMUxhYmVsOiBzdHJpbmcsIHBsYXllcjE6IFBsYXllcjtcclxuXHRcdGxldCBwMkxhYmVsOiBzdHJpbmcsIHBsYXllcjI6IFBsYXllcjtcclxuXHJcblx0XHQvKiBjcmVhdGVzIGxhYmVscyBhbmQgcGxheWVycyBkZXBlbmRpbmcgb24gZ2FtZSBtb2RlICovXHJcblx0XHRpZiAobW9kZSA9PT0gJ3NpbmdsZXBsYXllcicpIHtcclxuXHRcdFx0cDFMYWJlbCA9ICd5b3UnO1xyXG5cdFx0XHRwMkxhYmVsID0gJ2NwdSc7XHJcblx0XHRcdHBsYXllcjIgPSBuZXcgQ1BVUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwMUxhYmVsID0gJ3AxJztcclxuXHRcdFx0cDJMYWJlbCA9ICdwMic7XHJcblx0XHRcdHBsYXllcjIgPSBuZXcgUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XHJcblx0XHR9XHJcblx0XHRwbGF5ZXIxID0gbmV3IFBsYXllcihwMUxhYmVsLCBwMU1hcmspO1xyXG5cclxuXHRcdC8qIGFzc2lnbnMgY3JlYXRlZCBwbGF5ZXJzIHRvIHJpZ2h0IHNwb3RzICovXHJcblx0XHRpZiAocDFNYXJrID09PSAneCcpIHtcclxuXHRcdFx0dGhpcy54UGxheWVyID0gcGxheWVyMTtcclxuXHRcdFx0dGhpcy5vUGxheWVyID0gcGxheWVyMjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMueFBsYXllciA9IHBsYXllcjI7XHJcblx0XHRcdHRoaXMub1BsYXllciA9IHBsYXllcjE7XHJcblx0XHR9XHJcblxyXG5cdFx0LyogY3JlYXRlcyB0dXBsZSBvZiBwbGF5ZXJzLCB0byBjaG9vc2UgY3VycmVudCBwbGF5ZXIgZGVwZW5kaW5nIG9uIHR1cm4gY291bnRlciAqL1xyXG5cdFx0dGhpcy5wbGF5ZXJRdWV1ZSA9IFt0aGlzLnhQbGF5ZXIsIHRoaXMub1BsYXllcl07XHJcblx0XHR0aGlzLnJlc2V0Q291bnRlcnMoKTtcclxuXHJcblx0XHQvKiBzaG93cyBnYW1lIGNvbnRhaW5lciAqL1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cclxuXHRcdHRoaXMuc3RhcnRHYW1lKCk7XHJcblx0fTtcclxuXHJcblx0c3RhcnRHYW1lID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0LyogaW5pdGlhbGl6ZSBzY29yZSBib2FyZCB3aXRoIGNyZWF0ZWQgcGxheWVycyAqL1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkLmluaXQodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XHJcblxyXG5cdFx0LyogaW5pdGlhbGl6ZSBnYW1lIGJvYXJkICovXHJcblx0XHR0aGlzLmdhbWVCb2FyZC5pbml0KCk7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XHJcblxyXG5cdFx0LyogaWYgc3RhcnRpbmcgcGxheWVyIGlzIENQVSB0aGVuIG1ha2UgYXV0byBtb3ZlICovXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblx0fTtcclxuXHJcblx0cmVzdGFydEdhbWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiByZXNldCBjb3VudGVycyAqL1xyXG5cdFx0dGhpcy5yZXNldENvdW50ZXJzKCk7XHJcblxyXG5cdFx0LyogcmVzZXQgYm9hcmQgKi9cclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmNsZWFyKCk7XHJcblxyXG5cdFx0LyogcmVzZXQgcGxheWVycyAqL1xyXG5cdFx0dGhpcy54UGxheWVyLnJlc2V0U2NvcmUoKTtcclxuXHRcdHRoaXMub1BsYXllci5yZXNldFNjb3JlKCk7XHJcblxyXG5cdFx0LyogdXBkYXRlIHNjb3JlIGJvYXJkICovXHJcblx0XHR0aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcclxuXHRcdHRoaXMudXBkYXRlVHVybkluZGljYXRvcigpO1xyXG5cclxuXHRcdC8qIHRvIG1ha2UgbW92ZSBpZiBmaXJzdCBwbGF5ZXIgaXMgQ1BVICovXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblxyXG5cdFx0Lyogc2V0IGZvY3VzIHRvIHJlc3RhcnQgYnV0dG9uICovXHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lQnV0dG9uLmZvY3VzKCk7XHJcblx0fTtcclxuXHJcblx0cmVzZXRDb3VudGVycyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMudGllcyA9IDA7XHJcblx0XHR0aGlzLnR1cm5Db3VudCA9IDA7XHJcblx0XHR0aGlzLmdhbWVDb3VudCA9IDA7XHJcblx0fTtcclxuXHJcblx0Z2V0Q3VycmVudFBsYXllck1hcmsgPSAoKTogc3RyaW5nID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS5nZXRNYXJrKCk7XHJcblx0fTtcclxuXHJcblx0Z2V0Q3VycmVudFBsYXllciA9ICgpOiBQbGF5ZXIgPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMucGxheWVyUXVldWVbKHRoaXMuZ2FtZUNvdW50ICsgdGhpcy50dXJuQ291bnQpICUgMl07XHJcblx0fTtcclxuXHJcblx0bWFrZU1vdmUgPSAocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHQvKiBvbiBmaWVsZCBjbGljaywgaWYgZmllbGQgaXMgY2hlY2tlZCB0aGVuIHJldHVybiBkb2luZyBub3RoaW5nICovXHJcblx0XHRpZiAodGhpcy5nYW1lQm9hcmQuaXNGaWVsZENoZWNrZWQocm93LCBjb2x1bW4pKSByZXR1cm47XHJcblxyXG5cdFx0LyogY2hlY2tzIHNlbGVjdGVkIGZpZWxkICovXHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jaGVja0ZpZWxkKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLmdldE1hcmsoKSwgcm93LCBjb2x1bW4pO1xyXG5cdFx0dGhpcy5hZnRlck1vdmUoKTtcclxuXHR9O1xyXG5cclxuXHRhZnRlck1vdmUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCB3aW5uaW5nRmllbGRzID0gdGhpcy5nYW1lQm9hcmQuZ2V0V2lubmluZ0ZpZWxkcygpO1xyXG5cdFx0aWYgKHdpbm5pbmdGaWVsZHMgIT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5nYW1lUmVzdWx0TW9kYWwuc2hvdyh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSk7XHJcblx0XHRcdHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLnVwZGF0ZVNjb3JlKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5nYW1lQm9hcmQuaXNGdWxsKCkpIHtcclxuXHRcdFx0dGhpcy5nYW1lUmVzdWx0TW9kYWwuc2hvdygpO1xyXG5cdFx0XHR0aGlzLnRpZXMrKztcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaW5jcmVhc2VUdXJuQ291bnQoKTtcclxuXHRcdHRoaXMudXBkYXRlVHVybkluZGljYXRvcigpO1xyXG5cclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHR9O1xyXG5cclxuXHRtYWtlTW92ZUNQVSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdC8qIGFmdGVyIGZpZWxkIGlzIGNoZWNrZWQsIGNoZWNrcyBpZiBjdXJyZW50IHBsYXllciBpcyBDUFUgYW5kIGlmIGlzLCB0aGVuIG1ha2VzIGEgbW92ZSAqL1xyXG5cdFx0aWYgKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpIGluc3RhbmNlb2YgQ1BVUGxheWVyKSB7XHJcblx0XHRcdHRoaXMubWFrZU1vdmUoLi4uKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpIGFzIENQVVBsYXllcikubWFrZU1vdmUodGhpcy5nYW1lQm9hcmQpKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR1cGRhdGVUdXJuSW5kaWNhdG9yID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy50dXJuSW5kaWNhdG9yLnVwZGF0ZSh0aGlzLmdldEN1cnJlbnRQbGF5ZXJNYXJrKCkpO1xyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVNjb3JlQm9hcmQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnNjb3JlQm9hcmQudXBkYXRlU2NvcmUodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XHJcblx0fTtcclxuXHJcblx0aW5jcmVhc2VUdXJuQ291bnQgPSAoKTogbnVtYmVyID0+IHtcclxuXHRcdHJldHVybiArK3RoaXMudHVybkNvdW50O1xyXG5cdH07XHJcbn1cclxuLyogR2FtZSBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIEdhbWVNZW51IGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIEdhbWVNZW51IHtcclxuXHRwcml2YXRlIGdhbWVNZW51OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIG1lbnVGb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBmb3JtT3B0aW9uczogTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PjtcclxuXHRwcml2YXRlIGVycm9yTXNnOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGZvcm1TdWJtaXRCdXR0b25zOiBOb2RlTGlzdE9mPEhUTUxCdXR0b25FbGVtZW50PjtcclxuXHJcblx0Y29uc3RydWN0b3IoZ2FtZU1lbnVJZDogc3RyaW5nLCBwcml2YXRlIGdhbWVJbml0OiAobW9kZTogc3RyaW5nLCBwMU1hcms6IHN0cmluZykgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5nYW1lTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2FtZU1lbnVJZCk7XHJcblx0XHR0aGlzLm1lbnVGb3JtID0gdGhpcy5nYW1lTWVudS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XHJcblx0XHR0aGlzLmZvcm1PcHRpb25zID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtcclxuXHRcdHRoaXMuZXJyb3JNc2cgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPVwiYWxlcnRcIl0nKTtcclxuXHRcdHRoaXMuZm9ybVN1Ym1pdEJ1dHRvbnMgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcblx0fVxyXG5cclxuXHRpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5mb3JtU3VibWl0QnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU1lbnVTdWJtaXRCdXR0b24pKTtcclxuXHR9O1xyXG5cclxuXHRoYW5kbGVNZW51U3VibWl0QnV0dG9uID0gKGV2OiBFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0ZXYucHJldmVudERlZmF1bHQoKTtcclxuXHRcdC8qIHNob3dzIGVycm9yIGlmIGFueSBmaWVsZCB3YXNuJ3Qgc2VsZWN0ZWQgKi9cclxuXHRcdGlmICghdGhpcy5pc0FueU9wdGlvblNlbGVjdGVkKCkpIHtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuaW5uZXJUZXh0ID0gJ1BsZWFzZSBzZWxlY3QgbWFyayBmb3IgcGxheWVyIDEnO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5pbm5lclRleHQgPSAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvKiByZXRyaWV2ZSBnYW1lIG1vZGUgZnJvbSBzdWJtaXQgYnV0dG9uIGNsaWNrZWQgYW5kIHNlbGVjdGVkIG1hcmsgZnJvbSBvcHRpb25zICovXHJcblx0XHRjb25zdCBzdWJtaXRCdG46IEhUTUxCdXR0b25FbGVtZW50ID0gZXYudGFyZ2V0IGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdFx0Y29uc3QgZ2FtZU1vZGU6IHN0cmluZyA9IHN1Ym1pdEJ0bi5kYXRhc2V0Lm1vZGU7XHJcblx0XHRjb25zdCBwMU1hcms6IHN0cmluZyA9IHRoaXMuZ2V0Q2hlY2tlZE9wdGlvbk1hcmsoKTtcclxuXHJcblx0XHQvKiBoaWRlcyBnYW1lIG1lbnUgKi9cclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cclxuXHRcdC8qIGFuZCBydW5zIGdhbWUgaW5pdGlhbGl6YXRpb24gKi9cclxuXHRcdHRoaXMuZ2FtZUluaXQoZ2FtZU1vZGUsIHAxTWFyayk7IC8vIG1ldGhvZCBmcm9tIHRoZSBwYXJlbnQgR2FtZSBjbGFzc1xyXG5cdH07XHJcblxyXG5cdHNob3cgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cdH07XHJcblxyXG5cdGhpZGUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cdH07XHJcblxyXG5cdGlzQW55T3B0aW9uU2VsZWN0ZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmZvcm1PcHRpb25zKS5zb21lKG9wdGlvbiA9PiBvcHRpb24uY2hlY2tlZCk7XHJcblx0fTtcclxuXHJcblx0Z2V0Q2hlY2tlZE9wdGlvbk1hcmsgPSAoKTogc3RyaW5nID0+IHtcclxuXHRcdGZvciAoY29uc3Qgb3B0aW9uIG9mIHRoaXMuZm9ybU9wdGlvbnMpIHtcclxuXHRcdFx0aWYgKG9wdGlvbi5jaGVja2VkKSByZXR1cm4gb3B0aW9uLmRhdGFzZXQubWFyaztcclxuXHRcdH1cclxuXHRcdHJldHVybiAnJztcclxuXHR9O1xyXG59XHJcbi8qIEdhbWVNZW51IGNsYXNzIGVuZCAqL1xyXG5cclxuLyogVHVybkluZGljYXRvciBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBUdXJuSW5kaWNhdG9yIHtcclxuXHRwcml2YXRlIGN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBjdXJyZW50UGxheWVyTWFya0ljb246IEhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3VycmVudC1wbGF5ZXItbWFyaycpO1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0ljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3VycmVudC1wbGF5ZXItbWFyay1pY29uJyk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGUgPSAobWFyazogc3RyaW5nKSA9PiB7XHJcblx0XHR0aGlzLmN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudC5pbm5lclRleHQgPSBtYXJrO1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0ljb24uc3JjID0gYC4vZGlzdC9hc3NldHMvaWNvbi0ke21hcmt9LnN2Z2A7XHJcblx0fTtcclxufVxyXG4vKiBUdXJuSW5kaWNhdG9yIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogU2NvcmVCb2FyZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBTY29yZUJvYXJkIHtcclxuXHRwcml2YXRlIHNjb3JlQm9hcmRDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDFMYWJlbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMVNjb3JlOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAyTGFiZWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDJTY29yZTogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSB0aWVzU2NvcmU6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzY29yZUJvYXJkSWQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzY29yZUJvYXJkSWQpO1xyXG5cdFx0dGhpcy5wMUxhYmVsID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMS1nYW1lLW5hbWUnKTtcclxuXHRcdHRoaXMucDFTY29yZSA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDEtZ2FtZS1zY29yZScpO1xyXG5cdFx0dGhpcy5wMkxhYmVsID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMi1nYW1lLW5hbWUnKTtcclxuXHRcdHRoaXMucDJTY29yZSA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDItZ2FtZS1zY29yZScpO1xyXG5cdFx0dGhpcy50aWVzU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI2dhbWUtdGllcycpO1xyXG5cdH1cclxuXHJcblx0aW5pdCA9IChwMTogUGxheWVyLCBwMjogUGxheWVyLCB0aWVzOiBudW1iZXIgPSAwKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnAxTGFiZWwuaW5uZXJUZXh0ID0gcDEudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMucDJMYWJlbC5pbm5lclRleHQgPSBwMi50b1N0cmluZygpO1xyXG5cdFx0dGhpcy51cGRhdGVTY29yZShwMSwgcDIsIHRpZXMpO1xyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVNjb3JlID0gKHAxOiBQbGF5ZXIsIHAyOiBQbGF5ZXIsIHRpZXM6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5wMVNjb3JlLmlubmVyVGV4dCA9IHAxLmdldFNjb3JlKCkudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMucDJTY29yZS5pbm5lclRleHQgPSBwMi5nZXRTY29yZSgpLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnRpZXNTY29yZS5pbm5lclRleHQgPSB0aWVzLnRvU3RyaW5nKCk7XHJcblx0fTtcclxufVxyXG4vKiBTY29yZUJvYXJkIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogUmVzdWx0TW9kYWwgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUmVzdWx0TW9kYWwge1xyXG5cdHByaXZhdGUgbW9kYWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgbW9kYWxNZXNzYWdlOiBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHRwcml2YXRlIG1vZGFsSGVhZGluZzogSFRNTEhlYWRpbmdFbGVtZW50O1xyXG5cdHByaXZhdGUgcXVpdEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBjb250aW51ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZ2FtZVF1aXRIYW5kbGluZzogKCkgPT4gdm9pZCwgcHJpdmF0ZSBnYW1lQ29udGludWVIYW5kbGluZzogKCkgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXJlc3VsdC1tb2RhbCcpO1xyXG5cdFx0dGhpcy5tb2RhbE1lc3NhZ2UgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fbWVzc2FnZScpO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faGVhZGluZycpO1xyXG5cclxuXHRcdC8qIHF1aXQgYnV0dG9uICovXHJcblx0XHR0aGlzLnF1aXRCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cInF1aXRcIl0nKTtcclxuXHRcdHRoaXMucXVpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUXVpdCk7XHJcblxyXG5cdFx0LyogY29udGludWUgYnV0dG9uICovXHJcblx0XHR0aGlzLmNvbnRpbnVlQnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJjb250aW51ZVwiXScpO1xyXG5cdFx0dGhpcy5jb250aW51ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ29udGludWUpO1xyXG5cdH1cclxuXHJcblx0aGFuZGxlQ29udGludWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVDb250aW51ZUhhbmRsaW5nKCk7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHR9O1xyXG5cclxuXHRoYW5kbGVRdWl0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0XHR0aGlzLmdhbWVRdWl0SGFuZGxpbmcoKTtcclxuXHR9O1xyXG5cclxuXHRzaG93ID0gKHdpbm5lcjogUGxheWVyIHwgbnVsbCA9IG51bGwpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHR0aGlzLnVwZGF0ZVJlc3VsdCh3aW5uZXIpO1xyXG5cdH07XHJcblxyXG5cdGhpZGUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVJlc3VsdCA9ICh3aW5uZXI6IFBsYXllciB8IG51bGwpOiB2b2lkID0+IHtcclxuXHRcdGlmICh3aW5uZXIgPT09IG51bGwpIHRoaXMuZGlzcGxheVRpZVJlc3VsdCgpO1xyXG5cdFx0ZWxzZSB0aGlzLmRpc3BsYXlXaW5uZXJSZXN1bHQod2lubmVyKTtcclxuXHJcblx0XHR0aGlzLnF1aXRCdXR0b24uZm9jdXMoKTtcclxuXHR9O1xyXG5cclxuXHRkaXNwbGF5VGllUmVzdWx0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lubmVyJywgJ3RpZScpO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuaW5uZXJIVE1MID0gJyc7XHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5pbm5lclRleHQgPSAnUm91bmQgdGllZCc7XHJcblx0fTtcclxuXHJcblx0ZGlzcGxheVdpbm5lclJlc3VsdCA9ICh3aW5uZXI6IFBsYXllcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lubmVyJywgd2lubmVyLmdldE1hcmsoKSk7XHJcblxyXG5cdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuZ2V0Um91bmRNZXNzYWdlKHdpbm5lci5nZXROYW1lKCkpO1xyXG5cdFx0dGhpcy5tb2RhbE1lc3NhZ2UuaW5uZXJUZXh0ID0gbWVzc2FnZTtcclxuXHRcdHRoaXMuc2V0UmVzdWx0SGVhZGluZyh3aW5uZXIpO1xyXG5cdH07XHJcblxyXG5cdHNldFJlc3VsdEhlYWRpbmcgPSAod2lubmVyOiBQbGF5ZXIpOiB2b2lkID0+IHtcclxuXHRcdC8qIGNsZWFyIGhlYWRpbmcgYmVmb3JlIHNldHRpbmcgbWVzc2FnZSAqL1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuaW5uZXJIVE1MID0gJyc7XHJcblx0XHRjb25zdCBtYXJrID0gd2lubmVyLmdldE1hcmsoKTtcclxuXHJcblx0XHQvKiB3aW5uaW5nIG1hcmsgaWNvbiAqL1xyXG5cdFx0Y29uc3QgaW1nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdFx0aW1nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAuL2Rpc3QvYXNzZXRzL2ljb24tJHttYXJrfS5zdmdgKTtcclxuXHRcdGltZ0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhbHQnLCAnJyk7XHJcblxyXG5cdFx0LyogaGlkZGVuIG1hcmsgZm9yIHNjcmVlbiByZWFkZXJzICovXHJcblx0XHRjb25zdCBoaWRkZW5NYXJrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0aGlkZGVuTWFyay5jbGFzc0xpc3QuYWRkKCd2aXN1YWxseS1oaWRkZW4nKTtcclxuXHRcdGhpZGRlbk1hcmsuaW5uZXJUZXh0ID0gbWFyaztcclxuXHJcblx0XHQvKiBtZXNzYWdlIGFmdGVyIGltYWdlICovXHJcblx0XHRjb25zdCBtZXNzYWdlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCd0YWtlcyB0aGUgcm91bmQnKTtcclxuXHJcblx0XHQvKiBzcGFuIGNvbnRhaW5lciBmb3IgaGlkZGVuIG1hcmsgYW5kIG1lc3NhZ2UgdGV4dCAqL1xyXG5cdFx0Y29uc3QgaGVhZGluZ1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRoZWFkaW5nU3Bhbi5hcHBlbmRDaGlsZChoaWRkZW5NYXJrKTtcclxuXHRcdGhlYWRpbmdTcGFuLmFwcGVuZENoaWxkKG1lc3NhZ2VUZXh0KTtcclxuXHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5hcHBlbmRDaGlsZChpbWdFbGVtZW50KTtcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmFwcGVuZENoaWxkKGhlYWRpbmdTcGFuKTtcclxuXHR9O1xyXG5cclxuXHRnZXRSb3VuZE1lc3NhZ2UgPSAocGxheWVyTmFtZTogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuXHRcdGxldCBtZXNzYWdlO1xyXG5cdFx0c3dpdGNoIChwbGF5ZXJOYW1lKSB7XHJcblx0XHRcdGNhc2UgJ3AxJzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ1BsYXllciAxIHdpbnMhJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAncDInOlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnUGxheWVyIDIgd2lucyEnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICd5b3UnOlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnWW91IHdvbiEnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdjcHUnOlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnT2ggbm8sIHlvdSBsb3N0Li4uJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRtZXNzYWdlID0gJyc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbWVzc2FnZTtcclxuXHR9O1xyXG59XHJcbi8qIFJlc3VsdE1vZGFsIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogUmVzdGFydE1vZGFsIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIFJlc3RhcnRNb2RhbCB7XHJcblx0cHJpdmF0ZSBtb2RhbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBjYW5jZWxCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cdHByaXZhdGUgcmVzdGFydEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZ2FtZVJlc3RhcnRIYW5kbGluZzogKCkgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXJlc2V0LW1vZGFsJyk7XHJcblxyXG5cdFx0LyogY2FuY2VsIGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5jYW5jZWxCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cImNhbmNlbFwiXScpO1xyXG5cdFx0dGhpcy5jYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNhbmNlbCk7XHJcblxyXG5cdFx0LyogcmVzdGFydCBidXR0b24gKi9cclxuXHRcdHRoaXMucmVzdGFydEJ1dHRvbiA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYWN0aW9uPVwicmVzdGFydFwiXScpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVSZXN0YXJ0KTtcclxuXHR9XHJcblxyXG5cdGhhbmRsZUNhbmNlbCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZVJlc3RhcnQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmdhbWVSZXN0YXJ0SGFuZGxpbmcoKTtcclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cdH07XHJcblxyXG5cdHNob3cgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdH07XHJcblxyXG5cdGhpZGUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdH07XHJcbn1cclxuLyogUmVzdGFydE1vZGFsIGNsYXNzIHN0YXJ0ICovXHJcblxyXG4vKiBHYW1lQm9hcmQgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZUJvYXJkIHtcclxuXHRCT0FSRF9TSVpFOiBudW1iZXIgPSAzO1xyXG5cdHByaXZhdGUgYm9hcmRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGJvYXJkOiBGaWVsZFtdW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKGdhbWVCb2FyZElkOiBzdHJpbmcsIHByaXZhdGUgb25GaWVsZENsaWNrOiAoZXY6IEV2ZW50KSA9PiB2b2lkLCBwcml2YXRlIGdldEN1cnJlbnRNYXJrOiAoKSA9PiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuYm9hcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYW1lQm9hcmRJZCk7XHJcblx0fVxyXG5cclxuXHRpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5ib2FyZCA9IFtbXSwgW10sIFtdXTtcclxuXHRcdC8qIGdldHMgYWxsIGJvYXJkIGZpZWxkcyAqL1xyXG5cdFx0Y29uc3QgYm9hcmRGaWVsZEVsZW1lbnRzOiBOb2RlTGlzdE9mPEhUTUxCdXR0b25FbGVtZW50PiA9IHRoaXMuYm9hcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYW1lLWJvYXJkX19maWVsZCcpO1xyXG5cclxuXHRcdC8qIGNyZWF0aW5nIGZpZWxkcyAqL1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5ib2FyZC5sZW5ndGg7IHJvdysrKSB7XHJcblx0XHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd10ucHVzaChcclxuXHRcdFx0XHRcdG5ldyBGaWVsZChcclxuXHRcdFx0XHRcdFx0cm93LFxyXG5cdFx0XHRcdFx0XHRjb2x1bW4sXHJcblx0XHRcdFx0XHRcdGJvYXJkRmllbGRFbGVtZW50c1tjb2x1bW4gKyByb3cgKiB0aGlzLkJPQVJEX1NJWkVdLFxyXG5cdFx0XHRcdFx0XHQvLyBoYW5kbGVzIGZvciBmaWVsZChidXR0b25zKSBldmVudHNcclxuXHRcdFx0XHRcdFx0dGhpcy5vbkZpZWxkQ2xpY2ssXHJcblx0XHRcdFx0XHRcdHRoaXMuZ2V0Q3VycmVudE1hcmtcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyogY2hlY2tzL21hcmtzIGZpZWxkIG9uIHBhc3NlZCBwb3NpdGlvbiAqL1xyXG5cdGNoZWNrRmllbGQgPSAobWFyazogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpID0+IHtcclxuXHRcdGlmIChyb3cgPCB0aGlzLmJvYXJkLmxlbmd0aCAmJiBjb2x1bW4gPCB0aGlzLmJvYXJkWzBdLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5jaGVjayhtYXJrKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRpc0ZpZWxkQ2hlY2tlZCA9IChyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5pc0NoZWNrZWQoKTtcclxuXHR9O1xyXG5cclxuXHRpc0Z1bGwgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5ib2FyZC5mbGF0KCkuZXZlcnkoZmllbGQgPT4gZmllbGQuaXNDaGVja2VkKCkpO1xyXG5cdH07XHJcblxyXG5cdGdldFdpbm5pbmdGaWVsZHMgPSAoKTogVHJpcGxlRmllbGQgfCBudWxsID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmNoZWNrUm93cygpIHx8IHRoaXMuY2hlY2tDb2x1bW5zKCkgfHwgdGhpcy5jaGVja0RpYWdvbmFsKCk7XHJcblx0fTtcclxuXHJcblx0Y2hlY2tSb3dzID0gKCk6IFRyaXBsZUZpZWxkIHwgbnVsbCA9PiB7XHJcblx0XHRmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLkJPQVJEX1NJWkU7IHJvdysrKSB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMF0uZ2V0TWFyaygpICE9PSBudWxsICYmXHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzBdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFtyb3ddWzFdLmdldE1hcmsoKSAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbcm93XVsyXS5nZXRNYXJrKClcclxuXHRcdFx0KVxyXG5cdFx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMF0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbcm93XVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrQ29sdW1ucyA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0Zm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5CT0FSRF9TSVpFOyBjb2x1bW4rKykge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVtjb2x1bW5dLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMV1bY29sdW1uXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdW2NvbHVtbl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzJdW2NvbHVtbl0uZ2V0TWFyaygpXHJcblx0XHRcdClcclxuXHRcdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFswXVtjb2x1bW5dLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbMV1bY29sdW1uXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkWzJdW2NvbHVtbl0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdF07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRjaGVja0RpYWdvbmFsID0gKCk6IFRyaXBsZUZpZWxkIHwgbnVsbCA9PiB7XHJcblx0XHQvKiB0b3AgbGVmdCwgbWlkZGxlLCBhbmQgYm90dG9tIHJpZ2h0ICovXHJcblx0XHRpZiAoXHJcblx0XHRcdHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpICE9PSBudWxsICYmXHJcblx0XHRcdHRoaXMuYm9hcmRbMF1bMF0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsyXVsyXS5nZXRNYXJrKClcclxuXHRcdClcclxuXHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzBdWzBdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzJdWzJdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XTtcclxuXHJcblx0XHQvKiB0b3AgcmlnaHQsIG1pZGRsZSwgYW5kIGJvdHRvbSBsZWZ0ICovXHJcblx0XHRpZiAoXHJcblx0XHRcdHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpICE9PSBudWxsICYmXHJcblx0XHRcdHRoaXMuYm9hcmRbMF1bMl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsyXVswXS5nZXRNYXJrKClcclxuXHRcdClcclxuXHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzBdWzJdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzJdWzBdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XTtcclxuXHJcblx0XHQvKiBubyBmaWVsZHMgbWF0Y2hlZCAqL1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0Y2xlYXIgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmJvYXJkLmxlbmd0aDsgcm93KyspIHtcclxuXHRcdFx0Zm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5CT0FSRF9TSVpFOyBjb2x1bW4rKykge1xyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dLmNsZWFyKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcbi8qIEdhbWVCb2FyZCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIEZpZWxkIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIEZpZWxkIHtcclxuXHRwcml2YXRlIG1hcms6IHN0cmluZyA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSByb3c6IG51bWJlcixcclxuXHRcdHByaXZhdGUgY29sdW1uOiBudW1iZXIsXHJcblx0XHRwcml2YXRlIGZpZWxkRWxlbWVudDogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcblx0XHRwcml2YXRlIGdhbWVPbkNsaWNrSGFuZGxlcjogKGV2OiBFdmVudCkgPT4gdm9pZCxcclxuXHRcdHByaXZhdGUgZ2V0Q3VycmVudE1hcms6ICgpID0+IHN0cmluZ1xyXG5cdCkge1xyXG5cdFx0aWYgKHRoaXMuZmllbGRFbGVtZW50KSB7XHJcblx0XHRcdC8qIGNsaWNrIGhhbmRsaW5nICovXHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nYW1lT25DbGlja0hhbmRsZXIpO1xyXG5cclxuXHRcdFx0LyogaG92ZXIvZm9jdXMgaW4gaGFuZGxpbmcgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5oYW5kbGVIb3Zlcik7XHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLmhhbmRsZUhvdmVyKTtcclxuXHJcblx0XHRcdC8qIGhvdmVyL2ZvY3VzIG91dCBoYW5kbGluZyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuaGFuZGxlQmx1cik7XHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5oYW5kbGVCbHVyKTtcclxuXHJcblx0XHRcdC8qIHNldHRpbmcgYXR0cmlidXRlcyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LnJvdyA9IHRoaXMucm93LnRvU3RyaW5nKCk7XHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmRhdGFzZXQuY29sdW1uID0gdGhpcy5jb2x1bW4udG9TdHJpbmcoKTtcclxuXHRcdFx0dGhpcy5jbGVhcigpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyogaG92ZXIvZm9jdXMgaW4gZmllbGQgaGFuZGxlICovXHJcblx0aGFuZGxlSG92ZXIgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCBjdXJyZW50UGxheWVyTWFyayA9IHRoaXMuZ2V0Q3VycmVudE1hcmsoKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicsIGN1cnJlbnRQbGF5ZXJNYXJrKTtcclxuXHR9O1xyXG5cclxuXHQvKiBob3Zlci9mb2N1cyBvdXQgZmllbGQgaGFuZGxlICovXHJcblx0aGFuZGxlQmx1ciA9ICgpID0+IHtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicpO1xyXG5cdH07XHJcblxyXG5cdGNsZWFyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tYXJrID0gbnVsbDtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSb3cgJHt0aGlzLnJvdyArIDF9LCBjb2x1bW4gJHt0aGlzLmNvbHVtbiArIDF9LCBlbXB0eSBmaWVsZGApO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWdhbWUtd2lubmluZycpO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtcGxheWVyJyk7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbWFyaycpO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrID0gKG1hcms6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tYXJrID0gbWFyaztcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSb3cgJHt0aGlzLnJvdyArIDF9LCBjb2x1bW4gJHt0aGlzLmNvbHVtbiArIDF9LCAke3RoaXMubWFya30gbWFya2ApO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW1hcmsnLCBtYXJrKTtcclxuXHR9O1xyXG5cclxuXHRpc0NoZWNrZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXJrICE9PSBudWxsO1xyXG5cdH07XHJcblxyXG5cdHNldEFzR2FtZVdpbm5pbmcgPSAoKTogRmllbGQgPT4ge1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWdhbWUtd2lubmluZycsICcnKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdGdldE1hcmsgPSAoKTogc3RyaW5nID0+IHtcclxuXHRcdHJldHVybiB0aGlzLm1hcms7XHJcblx0fTtcclxufVxyXG4vKiBGaWVsZCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFBsYXllciBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBQbGF5ZXIge1xyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgbmFtZTogc3RyaW5nLCBwcml2YXRlIG1hcms6IHN0cmluZywgcHJpdmF0ZSBzY29yZTogbnVtYmVyID0gMCkge31cclxuXHJcblx0dG9TdHJpbmcgPSAoKTogc3RyaW5nID0+IGAke3RoaXMubWFya30gKCR7dGhpcy5uYW1lfSlgO1xyXG5cclxuXHRnZXROYW1lID0gKCk6IHN0cmluZyA9PiB0aGlzLm5hbWU7XHJcblxyXG5cdGdldE1hcmsgPSAoKTogc3RyaW5nID0+IHRoaXMubWFyaztcclxuXHJcblx0Z2V0U2NvcmUgPSAoKTogbnVtYmVyID0+IHRoaXMuc2NvcmU7XHJcblxyXG5cdHVwZGF0ZVNjb3JlID0gKCk6IG51bWJlciA9PiArK3RoaXMuc2NvcmU7XHJcblxyXG5cdHJlc2V0U2NvcmUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnNjb3JlID0gMDtcclxuXHR9O1xyXG59XHJcblxyXG5jbGFzcyBDUFVQbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xyXG5cdG1ha2VNb3ZlID0gKGJvYXJkOiBHYW1lQm9hcmQpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcclxuXHRcdGNvbnN0IGJvYXJkU2l6ZSA9IGJvYXJkLkJPQVJEX1NJWkU7XHJcblx0XHRsZXQgcm93LCBjb2x1bW47XHJcblx0XHRkbyB7XHJcblx0XHRcdHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvYXJkU2l6ZSk7XHJcblx0XHRcdGNvbHVtbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvYXJkU2l6ZSk7XHJcblx0XHR9IHdoaWxlIChib2FyZC5pc0ZpZWxkQ2hlY2tlZChyb3csIGNvbHVtbikpO1xyXG5cdFx0cmV0dXJuIFtyb3csIGNvbHVtbl07XHJcblx0fTtcclxufVxyXG4vKiBQbGF5ZXIgY2xhc3MgZW5kICovXHJcbi8qIGNsYXNzZXMgZW5kICovXHJcblxyXG4vKiBnYW1lIG9iamVjdHMgKi9cclxuY29uc3QgdGljVGFjVG9lR2FtZTogR2FtZSA9IG5ldyBHYW1lKCk7XHJcbi8qIGdhbWUgb2JqZWN0cyBlbmQgKi9cclxuIl19
