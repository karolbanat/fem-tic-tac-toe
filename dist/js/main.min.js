"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var r,n,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Game=_createClass(function e(t,r){var a=this;_classCallCheck(this,e),this.ties=0,this.gameCount=0,this.turnCount=0,this.onFieldClick=function(e){var e=e.target,t=parseInt(e.dataset.row),e=parseInt(e.dataset.column);a.makeMove(t,e)},this.onGameContinue=function(){a.gameCount++,a.turnCount=0,a.gameBoard.clear(),a.updateScoreBoard(),a.makeMoveCPU()},this.onGameQuit=function(){a.gameContainer.classList.add("hidden"),a.gameBoard.clear(),a.gameMenu.show()},this.onRestartButtonClick=function(e){a.restartGameModal.show()},this.init=function(e,t){var r,n="x"===t?"o":"x",e="singleplayer"===e?(r="you",new CPUPlayer("cpu",n)):(r="p1",new Player("p2",n)),n=new Player(r,t);"x"===t?(a.xPlayer=n,a.oPlayer=e):(a.xPlayer=e,a.oPlayer=n),a.playerQueue=[a.xPlayer,a.oPlayer],a.gameContainer.classList.remove("hidden"),a.startGame()},this.startGame=function(){a.scoreBoard.init(a.xPlayer,a.oPlayer,a.ties),a.gameBoard.init(),a.updateTurnIndicator(),a.makeMoveCPU()},this.restartGame=function(){a.ties=0,a.turnCount=0,a.gameCount=0,a.gameBoard.clear(),a.xPlayer.resetScore(),a.oPlayer.resetScore(),a.updateScoreBoard(),a.updateTurnIndicator(),a.makeMoveCPU(),a.restartGameButton.focus()},this.getCurrentPlayerMark=function(){return a.getCurrentPlayer().getMark()},this.getCurrentPlayer=function(){return a.playerQueue[(a.gameCount+a.turnCount)%2]},this.makeMove=function(e,t){a.gameBoard.isFieldChecked(e,t)||(a.gameBoard.checkField(a.getCurrentPlayer().getMark(),e,t),a.afterMove())},this.afterMove=function(){null!==a.gameBoard.getWinningFields()?(a.gameResultModal.show(a.getCurrentPlayer()),a.getCurrentPlayer().updateScore()):a.gameBoard.isFull()?(a.gameResultModal.show(),a.ties++):(a.increaseTurnCount(),a.updateTurnIndicator(),a.makeMoveCPU())},this.makeMoveCPU=function(){a.getCurrentPlayer()instanceof CPUPlayer&&a.makeMove.apply(a,_toConsumableArray(a.getCurrentPlayer().makeMove(a.gameBoard)))},this.updateTurnIndicator=function(){a.turnIndicator.update(a.getCurrentPlayerMark())},this.updateScoreBoard=function(){a.scoreBoard.updateScore(a.xPlayer,a.oPlayer,a.ties)},this.increaseTurnCount=function(){return++a.turnCount},this.gameMenu=new GameMenu(t,this.init),this.gameMenu.init(),this.gameContainer=document.querySelector(r),this.scoreBoard=new ScoreBoard("#score-board"),this.gameBoard=new GameBoard("#game-board",this.onFieldClick,this.getCurrentPlayerMark),this.turnIndicator=new TurnIndicator,this.gameResultModal=new ResultModal(this.onGameQuit,this.onGameContinue),this.restartGameModal=new RestartModal(this.restartGame),this.restartGameButton=this.gameContainer.querySelector("#restart-game-button"),this.restartGameButton.addEventListener("click",this.onRestartButtonClick)}),GameMenu=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameInit=r,this.init=function(){n.formSubmitButtons.forEach(function(e){return e.addEventListener("click",n.handleMenuSubmitButton)})},this.handleMenuSubmitButton=function(e){var t;e.preventDefault(),n.isAnyOptionSelected()?(n.errorMsg.classList.remove("visible"),n.errorMsg.innerText="",e=e.target.dataset.mode,t=n.getCheckedOptionMark(),n.hide(),n.gameInit(e,t)):(n.errorMsg.classList.add("visible"),n.errorMsg.innerText="Please select mark for player 1")},this.show=function(){n.gameMenu.classList.remove("hidden")},this.hide=function(){n.gameMenu.classList.add("hidden")},this.isAnyOptionSelected=function(){return Array.from(n.formOptions).some(function(e){return e.checked})},this.getCheckedOptionMark=function(){var e,t=_createForOfIteratorHelper(n.formOptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.checked)return r.dataset.mark}}catch(e){t.e(e)}finally{t.f()}return""},this.gameMenu=document.querySelector(t),this.menuForm=this.gameMenu.querySelector("form"),this.formOptions=this.menuForm.querySelectorAll('input[type="radio"]'),this.errorMsg=this.menuForm.querySelector('[role="alert"]'),this.formSubmitButtons=this.menuForm.querySelectorAll('button[type="submit"]')}),TurnIndicator=_createClass(function e(){var t=this;_classCallCheck(this,e),this.update=function(e){t.currentPlayerMarkElement.innerText=e,t.currentPlayerMarkIcon.src="./dist/assets/icon-".concat(e,".svg")},this.currentPlayerMarkElement=document.querySelector("#current-player-mark"),this.currentPlayerMarkIcon=document.querySelector("#current-player-mark-icon")}),ScoreBoard=_createClass(function e(t){var n=this;_classCallCheck(this,e),this.init=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n.p1Label.innerText=e.toString(),n.p2Label.innerText=t.toString(),n.updateScore(e,t,r)},this.updateScore=function(e,t,r){n.p1Score.innerText=e.getScore().toString(),n.p2Score.innerText=t.getScore().toString(),n.tiesScore.innerText=r.toString()},this.scoreBoardContainer=document.querySelector(t),this.p1Label=this.scoreBoardContainer.querySelector("#p1-game-name"),this.p1Score=this.scoreBoardContainer.querySelector("#p1-game-score"),this.p2Label=this.scoreBoardContainer.querySelector("#p2-game-name"),this.p2Score=this.scoreBoardContainer.querySelector("#p2-game-score"),this.tiesScore=this.scoreBoardContainer.querySelector("#game-ties")}),ResultModal=_createClass(function e(t,r){var a=this;_classCallCheck(this,e),this.gameQuitHandling=t,this.gameContinueHandling=r,this.handleContinue=function(e){a.gameContinueHandling(),a.hide()},this.handleQuit=function(){a.hide(),a.gameQuitHandling()},this.show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;a.modal.classList.add("active"),a.updateResult(e)},this.hide=function(){a.modal.classList.remove("active")},this.updateResult=function(e){null===e?a.displayTieResult():a.displayWinnerResult(e),a.quitButton.focus()},this.displayTieResult=function(){a.modal.setAttribute("data-winner","tie"),a.modalHeading.innerHTML="",a.modalHeading.innerText="Round tied"},this.displayWinnerResult=function(e){a.modal.setAttribute("data-winner",e.getMark());var t=a.getRoundMessage(e.getName());a.modalMessage.innerText=t,a.setResultHeading(e)},this.setResultHeading=function(e){a.modalHeading.innerHTML="";var e=e.getMark(),t=document.createElement("img"),r=(t.setAttribute("src","./dist/assets/icon-".concat(e,".svg")),t.setAttribute("alt",""),document.createElement("span")),e=(r.classList.add("visually-hidden"),r.innerText=e,document.createTextNode("takes the round")),n=document.createElement("span");n.appendChild(r),n.appendChild(e),a.modalHeading.appendChild(t),a.modalHeading.appendChild(n)},this.getRoundMessage=function(e){var t;switch(e){case"p1":t="Player 1 wins!";break;case"p2":t="Player 2 wins!";break;case"you":t="You won!";break;case"cpu":t="Oh no, you lost...";break;default:t=""}return t},this.modal=document.querySelector("#game-result-modal"),this.modalMessage=this.modal.querySelector(".modal__message"),this.modalHeading=this.modal.querySelector(".modal__heading"),this.quitButton=this.modal.querySelector('button[data-action="quit"]'),this.quitButton.addEventListener("click",this.handleQuit),this.continueButton=this.modal.querySelector('button[data-action="continue"]'),this.continueButton.addEventListener("click",this.handleContinue)}),RestartModal=_createClass(function e(t){var r=this;_classCallCheck(this,e),this.gameRestartHandling=t,this.handleCancel=function(){r.hide()},this.handleRestart=function(){r.gameRestartHandling(),r.hide()},this.show=function(){r.modal.classList.add("active")},this.hide=function(){r.modal.classList.remove("active")},this.modal=document.querySelector("#game-reset-modal"),this.cancelButton=this.modal.querySelector('button[data-action="cancel"]'),this.cancelButton.addEventListener("click",this.handleCancel),this.restartButton=this.modal.querySelector('button[data-action="restart"]'),this.restartButton.addEventListener("click",this.handleRestart)}),GameBoard=_createClass(function e(t,r,n){var a=this;_classCallCheck(this,e),this.onFieldClick=r,this.getCurrentMark=n,this.BOARD_SIZE=3,this.init=function(){a.board=[[],[],[]];for(var e=a.boardElement.querySelectorAll(".game-board__field"),t=0;t<a.board.length;t++)for(var r=0;r<a.BOARD_SIZE;r++)a.board[t].push(new Field(t,r,e[r+t*a.BOARD_SIZE],a.onFieldClick,a.getCurrentMark))},this.checkField=function(e,t,r){t<a.board.length&&r<a.board[0].length&&a.board[t][r].check(e)},this.isFieldChecked=function(e,t){return a.board[e][t].isChecked()},this.isFull=function(){return a.board.flat().every(function(e){return e.isChecked()})},this.getWinningFields=function(){return a.checkRows()||a.checkColumns()||a.checkDiagonal()},this.checkRows=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[e][0].getMark()&&a.board[e][0].getMark()===a.board[e][1].getMark()&&a.board[e][1].getMark()===a.board[e][2].getMark())return[a.board[e][0],a.board[e][1],a.board[e][2]];return null},this.checkColumns=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[0][e].getMark()&&a.board[0][e].getMark()===a.board[1][e].getMark()&&a.board[1][e].getMark()===a.board[2][e].getMark())return[a.board[0][e],a.board[1][e],a.board[2][e]];return null},this.checkDiagonal=function(){return null!==a.board[1][1].getMark()&&a.board[0][0].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][2].getMark()||null!==a.board[1][1].getMark()&&a.board[0][2].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][0].getMark()?[a.board[0][0],a.board[1][1],a.board[2][2]]:null},this.clear=function(){for(var e=0;e<a.board.length;e++)for(var t=0;t<a.BOARD_SIZE;t++)a.board[e][t].clear()},this.boardElement=document.querySelector(t)}),Field=_createClass(function e(t,r,n,a,o){var i=this;_classCallCheck(this,e),this.row=t,this.column=r,this.fieldElement=n,this.gameOnClickHandler=a,this.getCurrentMark=o,this.mark=null,this.handleHover=function(){var e=i.getCurrentMark();i.fieldElement.setAttribute("data-current-player",e)},this.handleBlur=function(){i.fieldElement.removeAttribute("data-current-player")},this.clear=function(){i.mark=null,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", empty field")),i.fieldElement.removeAttribute("data-current-player"),i.fieldElement.removeAttribute("data-mark")},this.check=function(e){i.mark=e,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", ").concat(i.mark," mark")),i.fieldElement.setAttribute("data-mark",e)},this.isChecked=function(){return null!==i.mark},this.getMark=function(){return i.mark},this.fieldElement&&(this.fieldElement.addEventListener("click",this.gameOnClickHandler),this.fieldElement.addEventListener("mouseover",this.handleHover),this.fieldElement.addEventListener("focusin",this.handleHover),this.fieldElement.addEventListener("mouseout",this.handleBlur),this.fieldElement.addEventListener("focusout",this.handleBlur),this.fieldElement.dataset.row=this.row.toString(),this.fieldElement.dataset.column=this.column.toString(),this.clear())}),Player=_createClass(function e(t,r){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.name=t,this.mark=r,this.score=a,this.toString=function(){return"".concat(n.mark," (").concat(n.name,")")},this.getName=function(){return n.name},this.getMark=function(){return n.mark},this.getScore=function(){return n.score},this.updateScore=function(){return++n.score},this.resetScore=function(){n.score=0}}),CPUPlayer=function(){_inherits(r,Player);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).makeMove=function(e){for(var t,r,n=e.BOARD_SIZE;t=Math.floor(Math.random()*n),r=Math.floor(Math.random()*n),e.isFieldChecked(t,r););return[t,r]},e}return _createClass(r)}(),ticTacToeGame=new Game("#game-menu","#tic-tac-toe-game");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsiR2FtZSIsIl9jcmVhdGVDbGFzcyIsImdhbWVNZW51SWQiLCJnYW1lQ29udGFpbmVySWQiLCJfdGhpcyIsInRoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aWVzIiwiZ2FtZUNvdW50IiwidHVybkNvdW50Iiwib25GaWVsZENsaWNrIiwiZXYiLCJmaWVsZEJ1dHRvbiIsInRhcmdldCIsInJvdyIsInBhcnNlSW50IiwiZGF0YXNldCIsImNvbHVtbiIsIm1ha2VNb3ZlIiwib25HYW1lQ29udGludWUiLCJnYW1lQm9hcmQiLCJjbGVhciIsInVwZGF0ZVNjb3JlQm9hcmQiLCJtYWtlTW92ZUNQVSIsIm9uR2FtZVF1aXQiLCJnYW1lQ29udGFpbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2FtZU1lbnUiLCJzaG93Iiwib25SZXN0YXJ0QnV0dG9uQ2xpY2siLCJyZXN0YXJ0R2FtZU1vZGFsIiwiaW5pdCIsIm1vZGUiLCJwMU1hcmsiLCJwMUxhYmVsIiwicDJNYXJrIiwicGxheWVyMiIsIkNQVVBsYXllciIsIlBsYXllciIsInBsYXllcjEiLCJ4UGxheWVyIiwib1BsYXllciIsInBsYXllclF1ZXVlIiwicmVtb3ZlIiwic3RhcnRHYW1lIiwic2NvcmVCb2FyZCIsInVwZGF0ZVR1cm5JbmRpY2F0b3IiLCJyZXN0YXJ0R2FtZSIsInJlc2V0U2NvcmUiLCJyZXN0YXJ0R2FtZUJ1dHRvbiIsImZvY3VzIiwiZ2V0Q3VycmVudFBsYXllck1hcmsiLCJnZXRDdXJyZW50UGxheWVyIiwiZ2V0TWFyayIsImlzRmllbGRDaGVja2VkIiwiY2hlY2tGaWVsZCIsImFmdGVyTW92ZSIsImdldFdpbm5pbmdGaWVsZHMiLCJnYW1lUmVzdWx0TW9kYWwiLCJ1cGRhdGVTY29yZSIsImlzRnVsbCIsImluY3JlYXNlVHVybkNvdW50IiwiYXBwbHkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJ0dXJuSW5kaWNhdG9yIiwidXBkYXRlIiwiR2FtZU1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJTY29yZUJvYXJkIiwiR2FtZUJvYXJkIiwiVHVybkluZGljYXRvciIsIlJlc3VsdE1vZGFsIiwiUmVzdGFydE1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdhbWVJbml0IiwiX3RoaXMyIiwiZm9ybVN1Ym1pdEJ1dHRvbnMiLCJmb3JFYWNoIiwiYnRuIiwiaGFuZGxlTWVudVN1Ym1pdEJ1dHRvbiIsInByZXZlbnREZWZhdWx0IiwiaXNBbnlPcHRpb25TZWxlY3RlZCIsImVycm9yTXNnIiwiaW5uZXJUZXh0IiwiZ2FtZU1vZGUiLCJnZXRDaGVja2VkT3B0aW9uTWFyayIsImhpZGUiLCJBcnJheSIsImZyb20iLCJmb3JtT3B0aW9ucyIsInNvbWUiLCJvcHRpb24iLCJjaGVja2VkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInMiLCJuIiwiZG9uZSIsInZhbHVlIiwibWFyayIsImVyciIsImUiLCJmIiwibWVudUZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RoaXMzIiwiY3VycmVudFBsYXllck1hcmtFbGVtZW50IiwiY3VycmVudFBsYXllck1hcmtJY29uIiwic3JjIiwiY29uY2F0Iiwic2NvcmVCb2FyZElkIiwiX3RoaXM0IiwicDEiLCJwMiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRvU3RyaW5nIiwicDJMYWJlbCIsInAxU2NvcmUiLCJnZXRTY29yZSIsInAyU2NvcmUiLCJ0aWVzU2NvcmUiLCJzY29yZUJvYXJkQ29udGFpbmVyIiwiZ2FtZVF1aXRIYW5kbGluZyIsImdhbWVDb250aW51ZUhhbmRsaW5nIiwiX3RoaXM1IiwiaGFuZGxlQ29udGludWUiLCJoYW5kbGVRdWl0Iiwid2lubmVyIiwibW9kYWwiLCJ1cGRhdGVSZXN1bHQiLCJkaXNwbGF5VGllUmVzdWx0IiwiZGlzcGxheVdpbm5lclJlc3VsdCIsInF1aXRCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJtb2RhbEhlYWRpbmciLCJpbm5lckhUTUwiLCJtZXNzYWdlIiwiZ2V0Um91bmRNZXNzYWdlIiwiZ2V0TmFtZSIsIm1vZGFsTWVzc2FnZSIsInNldFJlc3VsdEhlYWRpbmciLCJpbWdFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImhpZGRlbk1hcmsiLCJtZXNzYWdlVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiaGVhZGluZ1NwYW4iLCJhcHBlbmRDaGlsZCIsInBsYXllck5hbWUiLCJjb250aW51ZUJ1dHRvbiIsImdhbWVSZXN0YXJ0SGFuZGxpbmciLCJfdGhpczYiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVSZXN0YXJ0IiwiY2FuY2VsQnV0dG9uIiwicmVzdGFydEJ1dHRvbiIsImdhbWVCb2FyZElkIiwiZ2V0Q3VycmVudE1hcmsiLCJfdGhpczciLCJCT0FSRF9TSVpFIiwiYm9hcmQiLCJib2FyZEZpZWxkRWxlbWVudHMiLCJib2FyZEVsZW1lbnQiLCJwdXNoIiwiRmllbGQiLCJjaGVjayIsImlzQ2hlY2tlZCIsImZsYXQiLCJldmVyeSIsImZpZWxkIiwiY2hlY2tSb3dzIiwiY2hlY2tDb2x1bW5zIiwiY2hlY2tEaWFnb25hbCIsImZpZWxkRWxlbWVudCIsImdhbWVPbkNsaWNrSGFuZGxlciIsIl90aGlzOCIsImhhbmRsZUhvdmVyIiwiY3VycmVudFBsYXllck1hcmsiLCJoYW5kbGVCbHVyIiwicmVtb3ZlQXR0cmlidXRlIiwibmFtZSIsIl90aGlzOSIsInNjb3JlIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX2NyZWF0ZVN1cGVyIiwiX3RoaXMxMCIsImJvYXJkU2l6ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRpY1RhY1RvZUdhbWUiXSwibWFwcGluZ3MiOiJneUhBS0EsSUFDTUEsS0FBSUMsYUFtQlQsU0FBQUQsRUFBWUUsRUFBb0JDLEdBQXVCLElBQUFDLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBTCxDQUFBLEVBSi9DSyxLQUFBRSxLQUFlLEVBQ2ZGLEtBQUFHLFVBQW9CLEVBQ3BCSCxLQUFBSSxVQUFvQixFQWU1QkosS0FB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LEVBaUJoRnJKLFVBQVUsV0FBQXNKLFVBQUF0SixFQUFRQyxNQUFSLEVBQUEsSUFBQXNKLEVBQUFDLGFBQUF4SixDQUFBLEVBQWhCLFNBQUFBLElBQUEsSUFBQXlKLEVBU0csT0FUSHpMLGdCQUFBRCxLQUFBaUMsQ0FBQSxHQW5CQXlKLEVBQUFGLEVBQUE5SCxNQUFBMUQsS0FBQWdILFNBQUEsR0FvQkNuRyxTQUFXLFNBQUNtSixHQUdYLElBRkEsSUFDSXZKLEVBQUtHLEVBREgrSyxFQUFZM0IsRUFBTUQsV0FHdkJ0SixFQUFNbUwsS0FBS0MsTUFBTUQsS0FBS0UsT0FBTSxFQUFLSCxDQUFTLEVBQzFDL0ssRUFBU2dMLEtBQUtDLE1BQU1ELEtBQUtFLE9BQU0sRUFBS0gsQ0FBUyxFQUNyQzNCLEVBQU05RyxlQUFlekMsRUFBS0csQ0FBTSxJQUN6QyxNQUFPLENBQUNILEVBQUtHLEVBQ2QsRUFBRThLLENBQ0gsQ0FBQyxPQUFBOUwsYUFBQXFDLENBQUEsQ0FBQSxFQVY2QixFQWV4QjhKLGNBQXNCLElBQUlwTSxLQUFLLGFBQWMsbUJBQW1CIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogdHlwZXMgKi9cclxudHlwZSBUcmlwbGVGaWVsZCA9IFtGaWVsZCwgRmllbGQsIEZpZWxkXTtcclxuLyogdHlwZXMgZW5kICovXHJcblxyXG4vKiBjbGFzc2VzICovXHJcbi8qIEdhbWUgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZSB7XHJcblx0LyogZ2FtZSBlbGVtZW50cyAqL1xyXG5cdHByaXZhdGUgZ2FtZU1lbnU6IEdhbWVNZW51O1xyXG5cdHByaXZhdGUgZ2FtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBnYW1lQm9hcmQ6IEdhbWVCb2FyZDtcclxuXHRwcml2YXRlIHNjb3JlQm9hcmQ6IFNjb3JlQm9hcmQ7XHJcblx0cHJpdmF0ZSB0dXJuSW5kaWNhdG9yOiBUdXJuSW5kaWNhdG9yO1xyXG5cdHByaXZhdGUgZ2FtZVJlc3VsdE1vZGFsOiBSZXN1bHRNb2RhbDtcclxuXHRwcml2YXRlIHJlc3RhcnRHYW1lQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRwcml2YXRlIHJlc3RhcnRHYW1lTW9kYWw6IFJlc3RhcnRNb2RhbDtcclxuXHQvKiBwbGF5ZXJzICovXHJcblx0cHJpdmF0ZSB4UGxheWVyOiBQbGF5ZXI7XHJcblx0cHJpdmF0ZSBvUGxheWVyOiBQbGF5ZXI7XHJcblx0cHJpdmF0ZSBwbGF5ZXJRdWV1ZTogW1BsYXllciwgUGxheWVyXTtcclxuXHQvKiBnYW1lIHN0YXRlcyAqL1xyXG5cdHByaXZhdGUgdGllczogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIGdhbWVDb3VudDogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIHR1cm5Db3VudDogbnVtYmVyID0gMDtcclxuXHJcblx0Y29uc3RydWN0b3IoZ2FtZU1lbnVJZDogc3RyaW5nLCBnYW1lQ29udGFpbmVySWQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5nYW1lTWVudSA9IG5ldyBHYW1lTWVudShnYW1lTWVudUlkLCB0aGlzLmluaXQpO1xyXG5cdFx0dGhpcy5nYW1lTWVudS5pbml0KCk7XHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbWVDb250YWluZXJJZCk7XHJcblx0XHR0aGlzLnNjb3JlQm9hcmQgPSBuZXcgU2NvcmVCb2FyZCgnI3Njb3JlLWJvYXJkJyk7XHJcblx0XHR0aGlzLmdhbWVCb2FyZCA9IG5ldyBHYW1lQm9hcmQoJyNnYW1lLWJvYXJkJywgdGhpcy5vbkZpZWxkQ2xpY2ssIHRoaXMuZ2V0Q3VycmVudFBsYXllck1hcmspO1xyXG5cdFx0dGhpcy50dXJuSW5kaWNhdG9yID0gbmV3IFR1cm5JbmRpY2F0b3IoKTtcclxuXHRcdHRoaXMuZ2FtZVJlc3VsdE1vZGFsID0gbmV3IFJlc3VsdE1vZGFsKHRoaXMub25HYW1lUXVpdCwgdGhpcy5vbkdhbWVDb250aW51ZSk7XHJcblx0XHR0aGlzLnJlc3RhcnRHYW1lTW9kYWwgPSBuZXcgUmVzdGFydE1vZGFsKHRoaXMucmVzdGFydEdhbWUpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZUJ1dHRvbiA9IHRoaXMuZ2FtZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcmVzdGFydC1nYW1lLWJ1dHRvbicpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25SZXN0YXJ0QnV0dG9uQ2xpY2spO1xyXG5cdH1cclxuXHJcblx0b25GaWVsZENsaWNrID0gKGV2OiBFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0LyogcmV0cmlldmUgcm93IGFuZCBjb2x1bW4gZnJvbSBjbGlja2VkIGJ1dHRvbiBhbmQgbWFrZSBtb3ZlICovXHJcblx0XHRjb25zdCBmaWVsZEJ1dHRvbiA9IGV2LnRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGNvbnN0IHJvdzogbnVtYmVyID0gcGFyc2VJbnQoZmllbGRCdXR0b24uZGF0YXNldC5yb3cpO1xyXG5cdFx0Y29uc3QgY29sdW1uOiBudW1iZXIgPSBwYXJzZUludChmaWVsZEJ1dHRvbi5kYXRhc2V0LmNvbHVtbik7XHJcblx0XHR0aGlzLm1ha2VNb3ZlKHJvdywgY29sdW1uKTtcclxuXHR9O1xyXG5cclxuXHRvbkdhbWVDb250aW51ZSA9ICgpID0+IHtcclxuXHRcdHRoaXMuZ2FtZUNvdW50Kys7XHJcblx0XHR0aGlzLnR1cm5Db3VudCA9IDA7XHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jbGVhcigpO1xyXG5cdFx0dGhpcy51cGRhdGVTY29yZUJvYXJkKCk7XHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblx0fTtcclxuXHJcblx0b25HYW1lUXVpdCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmNsZWFyKCk7XHJcblx0XHR0aGlzLmdhbWVNZW51LnNob3coKTtcclxuXHR9O1xyXG5cclxuXHRvblJlc3RhcnRCdXR0b25DbGljayA9IChldjogRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMucmVzdGFydEdhbWVNb2RhbC5zaG93KCk7XHJcblx0fTtcclxuXHJcblx0aW5pdCA9IChtb2RlOiBzdHJpbmcsIHAxTWFyazogc3RyaW5nKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCBwMk1hcms6IHN0cmluZyA9IHAxTWFyayA9PT0gJ3gnID8gJ28nIDogJ3gnO1xyXG5cdFx0bGV0IHAxTGFiZWw6IHN0cmluZywgcGxheWVyMTogUGxheWVyO1xyXG5cdFx0bGV0IHAyTGFiZWw6IHN0cmluZywgcGxheWVyMjogUGxheWVyO1xyXG5cclxuXHRcdC8qIGNyZWF0ZXMgbGFiZWxzIGFuZCBwbGF5ZXJzIGRlcGVuZGluZyBvbiBnYW1lIG1vZGUgKi9cclxuXHRcdGlmIChtb2RlID09PSAnc2luZ2xlcGxheWVyJykge1xyXG5cdFx0XHRwMUxhYmVsID0gJ3lvdSc7XHJcblx0XHRcdHAyTGFiZWwgPSAnY3B1JztcclxuXHRcdFx0cGxheWVyMiA9IG5ldyBDUFVQbGF5ZXIocDJMYWJlbCwgcDJNYXJrKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHAxTGFiZWwgPSAncDEnO1xyXG5cdFx0XHRwMkxhYmVsID0gJ3AyJztcclxuXHRcdFx0cGxheWVyMiA9IG5ldyBQbGF5ZXIocDJMYWJlbCwgcDJNYXJrKTtcclxuXHRcdH1cclxuXHRcdHBsYXllcjEgPSBuZXcgUGxheWVyKHAxTGFiZWwsIHAxTWFyayk7XHJcblxyXG5cdFx0LyogYXNzaWducyBjcmVhdGVkIHBsYXllcnMgdG8gcmlnaHQgc3BvdHMgKi9cclxuXHRcdGlmIChwMU1hcmsgPT09ICd4Jykge1xyXG5cdFx0XHR0aGlzLnhQbGF5ZXIgPSBwbGF5ZXIxO1xyXG5cdFx0XHR0aGlzLm9QbGF5ZXIgPSBwbGF5ZXIyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy54UGxheWVyID0gcGxheWVyMjtcclxuXHRcdFx0dGhpcy5vUGxheWVyID0gcGxheWVyMTtcclxuXHRcdH1cclxuXHJcblx0XHQvKiBjcmVhdGVzIHR1cGxlIG9mIHBsYXllcnMsIHRvIGNob29zZSBjdXJyZW50IHBsYXllciBkZXBlbmRpbmcgb24gdHVybiBjb3VudGVyICovXHJcblx0XHR0aGlzLnBsYXllclF1ZXVlID0gW3RoaXMueFBsYXllciwgdGhpcy5vUGxheWVyXTtcclxuXHJcblx0XHQvKiBzaG93cyBnYW1lIGNvbnRhaW5lciAqL1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cclxuXHRcdHRoaXMuc3RhcnRHYW1lKCk7XHJcblx0fTtcclxuXHJcblx0c3RhcnRHYW1lID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0LyogaW5pdGlhbGl6ZSBzY29yZSBib2FyZCB3aXRoIGNyZWF0ZWQgcGxheWVycyAqL1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkLmluaXQodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XHJcblxyXG5cdFx0LyogaW5pdGlhbGl6ZSBnYW1lIGJvYXJkICovXHJcblx0XHR0aGlzLmdhbWVCb2FyZC5pbml0KCk7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XHJcblxyXG5cdFx0LyogaWYgc3RhcnRpbmcgcGxheWVyIGlzIENQVSB0aGVuIG1ha2UgYXV0byBtb3ZlICovXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblx0fTtcclxuXHJcblx0cmVzdGFydEdhbWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiByZXNldCBjb3VudGVycyAqL1xyXG5cdFx0dGhpcy50aWVzID0gMDtcclxuXHRcdHRoaXMudHVybkNvdW50ID0gMDtcclxuXHRcdHRoaXMuZ2FtZUNvdW50ID0gMDtcclxuXHJcblx0XHQvKiByZXNldCBib2FyZCAqL1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcclxuXHJcblx0XHQvKiByZXNldCBwbGF5ZXJzICovXHJcblx0XHR0aGlzLnhQbGF5ZXIucmVzZXRTY29yZSgpO1xyXG5cdFx0dGhpcy5vUGxheWVyLnJlc2V0U2NvcmUoKTtcclxuXHJcblx0XHQvKiB1cGRhdGUgc2NvcmUgYm9hcmQgKi9cclxuXHRcdHRoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xyXG5cdFx0dGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XHJcblxyXG5cdFx0LyogdG8gbWFrZSBtb3ZlIGlmIGZpcnN0IHBsYXllciBpcyBDUFUgKi9cclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHJcblx0XHQvKiBzZXQgZm9jdXMgdG8gcmVzdGFydCBidXR0b24gKi9cclxuXHRcdHRoaXMucmVzdGFydEdhbWVCdXR0b24uZm9jdXMoKTtcclxuXHR9O1xyXG5cclxuXHRnZXRDdXJyZW50UGxheWVyTWFyayA9ICgpOiBzdHJpbmcgPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLmdldE1hcmsoKTtcclxuXHR9O1xyXG5cclxuXHRnZXRDdXJyZW50UGxheWVyID0gKCk6IFBsYXllciA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5wbGF5ZXJRdWV1ZVsodGhpcy5nYW1lQ291bnQgKyB0aGlzLnR1cm5Db3VudCkgJSAyXTtcclxuXHR9O1xyXG5cclxuXHRtYWtlTW92ZSA9IChyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRcdC8qIG9uIGZpZWxkIGNsaWNrLCBpZiBmaWVsZCBpcyBjaGVja2VkIHRoZW4gcmV0dXJuIGRvaW5nIG5vdGhpbmcgKi9cclxuXHRcdGlmICh0aGlzLmdhbWVCb2FyZC5pc0ZpZWxkQ2hlY2tlZChyb3csIGNvbHVtbikpIHJldHVybjtcclxuXHJcblx0XHQvKiBjaGVja3Mgc2VsZWN0ZWQgZmllbGQgKi9cclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmNoZWNrRmllbGQodGhpcy5nZXRDdXJyZW50UGxheWVyKCkuZ2V0TWFyaygpLCByb3csIGNvbHVtbik7XHJcblx0XHR0aGlzLmFmdGVyTW92ZSgpO1xyXG5cdH07XHJcblxyXG5cdGFmdGVyTW92ZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdGNvbnN0IHdpbm5pbmdGaWVsZHMgPSB0aGlzLmdhbWVCb2FyZC5nZXRXaW5uaW5nRmllbGRzKCk7XHJcblx0XHRpZiAod2lubmluZ0ZpZWxkcyAhPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLmdhbWVSZXN1bHRNb2RhbC5zaG93KHRoaXMuZ2V0Q3VycmVudFBsYXllcigpKTtcclxuXHRcdFx0dGhpcy5nZXRDdXJyZW50UGxheWVyKCkudXBkYXRlU2NvcmUoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLmdhbWVCb2FyZC5pc0Z1bGwoKSkge1xyXG5cdFx0XHR0aGlzLmdhbWVSZXN1bHRNb2RhbC5zaG93KCk7XHJcblx0XHRcdHRoaXMudGllcysrO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5pbmNyZWFzZVR1cm5Db3VudCgpO1xyXG5cdFx0dGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XHJcblxyXG5cdFx0dGhpcy5tYWtlTW92ZUNQVSgpO1xyXG5cdH07XHJcblxyXG5cdG1ha2VNb3ZlQ1BVID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0LyogYWZ0ZXIgZmllbGQgaXMgY2hlY2tlZCwgY2hlY2tzIGlmIGN1cnJlbnQgcGxheWVyIGlzIENQVSBhbmQgaWYgaXMsIHRoZW4gbWFrZXMgYSBtb3ZlICovXHJcblx0XHRpZiAodGhpcy5nZXRDdXJyZW50UGxheWVyKCkgaW5zdGFuY2VvZiBDUFVQbGF5ZXIpIHtcclxuXHRcdFx0dGhpcy5tYWtlTW92ZSguLi4odGhpcy5nZXRDdXJyZW50UGxheWVyKCkgYXMgQ1BVUGxheWVyKS5tYWtlTW92ZSh0aGlzLmdhbWVCb2FyZCkpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVR1cm5JbmRpY2F0b3IgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnR1cm5JbmRpY2F0b3IudXBkYXRlKHRoaXMuZ2V0Q3VycmVudFBsYXllck1hcmsoKSk7XHJcblx0fTtcclxuXHJcblx0dXBkYXRlU2NvcmVCb2FyZCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuc2NvcmVCb2FyZC51cGRhdGVTY29yZSh0aGlzLnhQbGF5ZXIsIHRoaXMub1BsYXllciwgdGhpcy50aWVzKTtcclxuXHR9O1xyXG5cclxuXHRpbmNyZWFzZVR1cm5Db3VudCA9ICgpOiBudW1iZXIgPT4ge1xyXG5cdFx0cmV0dXJuICsrdGhpcy50dXJuQ291bnQ7XHJcblx0fTtcclxufVxyXG4vKiBHYW1lIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogR2FtZU1lbnUgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZU1lbnUge1xyXG5cdHByaXZhdGUgZ2FtZU1lbnU6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgbWVudUZvcm06IEhUTUxGb3JtRWxlbWVudDtcclxuXHRwcml2YXRlIGZvcm1PcHRpb25zOiBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+O1xyXG5cdHByaXZhdGUgZXJyb3JNc2c6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgZm9ybVN1Ym1pdEJ1dHRvbnM6IE5vZGVMaXN0T2Y8SFRNTEJ1dHRvbkVsZW1lbnQ+O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihnYW1lTWVudUlkOiBzdHJpbmcsIHByaXZhdGUgZ2FtZUluaXQ6IChtb2RlOiBzdHJpbmcsIHAxTWFyazogc3RyaW5nKSA9PiB2b2lkKSB7XHJcblx0XHR0aGlzLmdhbWVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYW1lTWVudUlkKTtcclxuXHRcdHRoaXMubWVudUZvcm0gPSB0aGlzLmdhbWVNZW51LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcclxuXHRcdHRoaXMuZm9ybU9wdGlvbnMgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpO1xyXG5cdFx0dGhpcy5lcnJvck1zZyA9IHRoaXMubWVudUZvcm0ucXVlcnlTZWxlY3RvcignW3JvbGU9XCJhbGVydFwiXScpO1xyXG5cdFx0dGhpcy5mb3JtU3VibWl0QnV0dG9ucyA9IHRoaXMubWVudUZvcm0ucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHR9XHJcblxyXG5cdGluaXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmZvcm1TdWJtaXRCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTWVudVN1Ym1pdEJ1dHRvbikpO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZU1lbnVTdWJtaXRCdXR0b24gPSAoZXY6IEV2ZW50KTogdm9pZCA9PiB7XHJcblx0XHRldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Lyogc2hvd3MgZXJyb3IgaWYgYW55IGZpZWxkIHdhc24ndCBzZWxlY3RlZCAqL1xyXG5cdFx0aWYgKCF0aGlzLmlzQW55T3B0aW9uU2VsZWN0ZWQoKSkge1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5pbm5lclRleHQgPSAnUGxlYXNlIHNlbGVjdCBtYXJrIGZvciBwbGF5ZXIgMSc7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmlubmVyVGV4dCA9ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qIHJldHJpZXZlIGdhbWUgbW9kZSBmcm9tIHN1Ym1pdCBidXR0b24gY2xpY2tlZCBhbmQgc2VsZWN0ZWQgbWFyayBmcm9tIG9wdGlvbnMgKi9cclxuXHRcdGNvbnN0IHN1Ym1pdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBldi50YXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRjb25zdCBnYW1lTW9kZTogc3RyaW5nID0gc3VibWl0QnRuLmRhdGFzZXQubW9kZTtcclxuXHRcdGNvbnN0IHAxTWFyazogc3RyaW5nID0gdGhpcy5nZXRDaGVja2VkT3B0aW9uTWFyaygpO1xyXG5cclxuXHRcdC8qIGhpZGVzIGdhbWUgbWVudSAqL1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblxyXG5cdFx0LyogYW5kIHJ1bnMgZ2FtZSBpbml0aWFsaXphdGlvbiAqL1xyXG5cdFx0dGhpcy5nYW1lSW5pdChnYW1lTW9kZSwgcDFNYXJrKTsgLy8gbWV0aG9kIGZyb20gdGhlIHBhcmVudCBHYW1lIGNsYXNzXHJcblx0fTtcclxuXHJcblx0c2hvdyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblx0fTtcclxuXHJcblx0aGlkZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblx0fTtcclxuXHJcblx0aXNBbnlPcHRpb25TZWxlY3RlZCA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdHJldHVybiBBcnJheS5mcm9tKHRoaXMuZm9ybU9wdGlvbnMpLnNvbWUob3B0aW9uID0+IG9wdGlvbi5jaGVja2VkKTtcclxuXHR9O1xyXG5cclxuXHRnZXRDaGVja2VkT3B0aW9uTWFyayA9ICgpOiBzdHJpbmcgPT4ge1xyXG5cdFx0Zm9yIChjb25zdCBvcHRpb24gb2YgdGhpcy5mb3JtT3B0aW9ucykge1xyXG5cdFx0XHRpZiAob3B0aW9uLmNoZWNrZWQpIHJldHVybiBvcHRpb24uZGF0YXNldC5tYXJrO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH07XHJcbn1cclxuLyogR2FtZU1lbnUgY2xhc3MgZW5kICovXHJcblxyXG4vKiBUdXJuSW5kaWNhdG9yIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIFR1cm5JbmRpY2F0b3Ige1xyXG5cdHByaXZhdGUgY3VycmVudFBsYXllck1hcmtFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGN1cnJlbnRQbGF5ZXJNYXJrSWNvbjogSFRNTEltYWdlRWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXJyZW50LXBsYXllci1tYXJrJyk7XHJcblx0XHR0aGlzLmN1cnJlbnRQbGF5ZXJNYXJrSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXJyZW50LXBsYXllci1tYXJrLWljb24nKTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZSA9IChtYXJrOiBzdHJpbmcpID0+IHtcclxuXHRcdHRoaXMuY3VycmVudFBsYXllck1hcmtFbGVtZW50LmlubmVyVGV4dCA9IG1hcms7XHJcblx0XHR0aGlzLmN1cnJlbnRQbGF5ZXJNYXJrSWNvbi5zcmMgPSBgLi9kaXN0L2Fzc2V0cy9pY29uLSR7bWFya30uc3ZnYDtcclxuXHR9O1xyXG59XHJcbi8qIFR1cm5JbmRpY2F0b3IgY2xhc3MgZW5kICovXHJcblxyXG4vKiBTY29yZUJvYXJkIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIFNjb3JlQm9hcmQge1xyXG5cdHByaXZhdGUgc2NvcmVCb2FyZENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMUxhYmVsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAxU2NvcmU6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDJMYWJlbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMlNjb3JlOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHRpZXNTY29yZTogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNjb3JlQm9hcmRJZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNjb3JlQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNjb3JlQm9hcmRJZCk7XHJcblx0XHR0aGlzLnAxTGFiZWwgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AxLWdhbWUtbmFtZScpO1xyXG5cdFx0dGhpcy5wMVNjb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMS1nYW1lLXNjb3JlJyk7XHJcblx0XHR0aGlzLnAyTGFiZWwgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AyLWdhbWUtbmFtZScpO1xyXG5cdFx0dGhpcy5wMlNjb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMi1nYW1lLXNjb3JlJyk7XHJcblx0XHR0aGlzLnRpZXNTY29yZSA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjZ2FtZS10aWVzJyk7XHJcblx0fVxyXG5cclxuXHRpbml0ID0gKHAxOiBQbGF5ZXIsIHAyOiBQbGF5ZXIsIHRpZXM6IG51bWJlciA9IDApOiB2b2lkID0+IHtcclxuXHRcdHRoaXMucDFMYWJlbC5pbm5lclRleHQgPSBwMS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy5wMkxhYmVsLmlubmVyVGV4dCA9IHAyLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVNjb3JlKHAxLCBwMiwgdGllcyk7XHJcblx0fTtcclxuXHJcblx0dXBkYXRlU2NvcmUgPSAocDE6IFBsYXllciwgcDI6IFBsYXllciwgdGllczogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnAxU2NvcmUuaW5uZXJUZXh0ID0gcDEuZ2V0U2NvcmUoKS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy5wMlNjb3JlLmlubmVyVGV4dCA9IHAyLmdldFNjb3JlKCkudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMudGllc1Njb3JlLmlubmVyVGV4dCA9IHRpZXMudG9TdHJpbmcoKTtcclxuXHR9O1xyXG59XHJcbi8qIFNjb3JlQm9hcmQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBSZXN1bHRNb2RhbCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBSZXN1bHRNb2RhbCB7XHJcblx0cHJpdmF0ZSBtb2RhbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBtb2RhbE1lc3NhZ2U6IEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG5cdHByaXZhdGUgbW9kYWxIZWFkaW5nOiBIVE1MSGVhZGluZ0VsZW1lbnQ7XHJcblx0cHJpdmF0ZSBxdWl0QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRwcml2YXRlIGNvbnRpbnVlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBnYW1lUXVpdEhhbmRsaW5nOiAoKSA9PiB2b2lkLCBwcml2YXRlIGdhbWVDb250aW51ZUhhbmRsaW5nOiAoKSA9PiB2b2lkKSB7XHJcblx0XHR0aGlzLm1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtcmVzdWx0LW1vZGFsJyk7XHJcblx0XHR0aGlzLm1vZGFsTWVzc2FnZSA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19tZXNzYWdlJyk7XHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZyA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19oZWFkaW5nJyk7XHJcblxyXG5cdFx0LyogcXVpdCBidXR0b24gKi9cclxuXHRcdHRoaXMucXVpdEJ1dHRvbiA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYWN0aW9uPVwicXVpdFwiXScpO1xyXG5cdFx0dGhpcy5xdWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVRdWl0KTtcclxuXHJcblx0XHQvKiBjb250aW51ZSBidXR0b24gKi9cclxuXHRcdHRoaXMuY29udGludWVCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cImNvbnRpbnVlXCJdJyk7XHJcblx0XHR0aGlzLmNvbnRpbnVlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDb250aW51ZSk7XHJcblx0fVxyXG5cclxuXHRoYW5kbGVDb250aW51ZSA9IChldjogRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZUNvbnRpbnVlSGFuZGxpbmcoKTtcclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZVF1aXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHRcdHRoaXMuZ2FtZVF1aXRIYW5kbGluZygpO1xyXG5cdH07XHJcblxyXG5cdHNob3cgPSAod2lubmVyOiBQbGF5ZXIgfCBudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdHRoaXMudXBkYXRlUmVzdWx0KHdpbm5lcik7XHJcblx0fTtcclxuXHJcblx0aGlkZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fTtcclxuXHJcblx0dXBkYXRlUmVzdWx0ID0gKHdpbm5lcjogUGxheWVyIHwgbnVsbCk6IHZvaWQgPT4ge1xyXG5cdFx0aWYgKHdpbm5lciA9PT0gbnVsbCkgdGhpcy5kaXNwbGF5VGllUmVzdWx0KCk7XHJcblx0XHRlbHNlIHRoaXMuZGlzcGxheVdpbm5lclJlc3VsdCh3aW5uZXIpO1xyXG5cclxuXHRcdHRoaXMucXVpdEJ1dHRvbi5mb2N1cygpO1xyXG5cdH07XHJcblxyXG5cdGRpc3BsYXlUaWVSZXN1bHQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS13aW5uZXInLCAndGllJyk7XHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5pbm5lckhUTUwgPSAnJztcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmlubmVyVGV4dCA9ICdSb3VuZCB0aWVkJztcclxuXHR9O1xyXG5cclxuXHRkaXNwbGF5V2lubmVyUmVzdWx0ID0gKHdpbm5lcjogUGxheWVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS13aW5uZXInLCB3aW5uZXIuZ2V0TWFyaygpKTtcclxuXHJcblx0XHRjb25zdCBtZXNzYWdlID0gdGhpcy5nZXRSb3VuZE1lc3NhZ2Uod2lubmVyLmdldE5hbWUoKSk7XHJcblx0XHR0aGlzLm1vZGFsTWVzc2FnZS5pbm5lclRleHQgPSBtZXNzYWdlO1xyXG5cdFx0dGhpcy5zZXRSZXN1bHRIZWFkaW5nKHdpbm5lcik7XHJcblx0fTtcclxuXHJcblx0c2V0UmVzdWx0SGVhZGluZyA9ICh3aW5uZXI6IFBsYXllcik6IHZvaWQgPT4ge1xyXG5cdFx0LyogY2xlYXIgaGVhZGluZyBiZWZvcmUgc2V0dGluZyBtZXNzYWdlICovXHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5pbm5lckhUTUwgPSAnJztcclxuXHRcdGNvbnN0IG1hcmsgPSB3aW5uZXIuZ2V0TWFyaygpO1xyXG5cclxuXHRcdC8qIHdpbm5pbmcgbWFyayBpY29uICovXHJcblx0XHRjb25zdCBpbWdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0XHRpbWdFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgYC4vZGlzdC9hc3NldHMvaWNvbi0ke21hcmt9LnN2Z2ApO1xyXG5cdFx0aW1nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FsdCcsICcnKTtcclxuXHJcblx0XHQvKiBoaWRkZW4gbWFyayBmb3Igc2NyZWVuIHJlYWRlcnMgKi9cclxuXHRcdGNvbnN0IGhpZGRlbk1hcmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRoaWRkZW5NYXJrLmNsYXNzTGlzdC5hZGQoJ3Zpc3VhbGx5LWhpZGRlbicpO1xyXG5cdFx0aGlkZGVuTWFyay5pbm5lclRleHQgPSBtYXJrO1xyXG5cclxuXHRcdC8qIG1lc3NhZ2UgYWZ0ZXIgaW1hZ2UgKi9cclxuXHRcdGNvbnN0IG1lc3NhZ2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ3Rha2VzIHRoZSByb3VuZCcpO1xyXG5cclxuXHRcdC8qIHNwYW4gY29udGFpbmVyIGZvciBoaWRkZW4gbWFyayBhbmQgbWVzc2FnZSB0ZXh0ICovXHJcblx0XHRjb25zdCBoZWFkaW5nU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdGhlYWRpbmdTcGFuLmFwcGVuZENoaWxkKGhpZGRlbk1hcmspO1xyXG5cdFx0aGVhZGluZ1NwYW4uYXBwZW5kQ2hpbGQobWVzc2FnZVRleHQpO1xyXG5cclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmFwcGVuZENoaWxkKGltZ0VsZW1lbnQpO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuYXBwZW5kQ2hpbGQoaGVhZGluZ1NwYW4pO1xyXG5cdH07XHJcblxyXG5cdGdldFJvdW5kTWVzc2FnZSA9IChwbGF5ZXJOYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG5cdFx0bGV0IG1lc3NhZ2U7XHJcblx0XHRzd2l0Y2ggKHBsYXllck5hbWUpIHtcclxuXHRcdFx0Y2FzZSAncDEnOlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnUGxheWVyIDEgd2lucyEnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdwMic6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdQbGF5ZXIgMiB3aW5zISc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3lvdSc6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdZb3Ugd29uISc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2NwdSc6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdPaCBubywgeW91IGxvc3QuLi4nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdG1lc3NhZ2UgPSAnJztcclxuXHRcdH1cclxuXHRcdHJldHVybiBtZXNzYWdlO1xyXG5cdH07XHJcbn1cclxuLyogUmVzdWx0TW9kYWwgY2xhc3MgZW5kICovXHJcblxyXG4vKiBSZXN0YXJ0TW9kYWwgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUmVzdGFydE1vZGFsIHtcclxuXHRwcml2YXRlIG1vZGFsOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGNhbmNlbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0cHJpdmF0ZSByZXN0YXJ0QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBnYW1lUmVzdGFydEhhbmRsaW5nOiAoKSA9PiB2b2lkKSB7XHJcblx0XHR0aGlzLm1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtcmVzZXQtbW9kYWwnKTtcclxuXHJcblx0XHQvKiBjYW5jZWwgYnV0dG9uICovXHJcblx0XHR0aGlzLmNhbmNlbEJ1dHRvbiA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYWN0aW9uPVwiY2FuY2VsXCJdJyk7XHJcblx0XHR0aGlzLmNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2FuY2VsKTtcclxuXHJcblx0XHQvKiByZXN0YXJ0IGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5yZXN0YXJ0QnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJyZXN0YXJ0XCJdJyk7XHJcblx0XHR0aGlzLnJlc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVJlc3RhcnQpO1xyXG5cdH1cclxuXHJcblx0aGFuZGxlQ2FuY2VsID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlUmVzdGFydCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZVJlc3RhcnRIYW5kbGluZygpO1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0fTtcclxuXHJcblx0c2hvdyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0fTtcclxuXHJcblx0aGlkZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fTtcclxufVxyXG4vKiBSZXN0YXJ0TW9kYWwgY2xhc3Mgc3RhcnQgKi9cclxuXHJcbi8qIEdhbWVCb2FyZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBHYW1lQm9hcmQge1xyXG5cdEJPQVJEX1NJWkU6IG51bWJlciA9IDM7XHJcblx0cHJpdmF0ZSBib2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgYm9hcmQ6IEZpZWxkW11bXTtcclxuXHJcblx0Y29uc3RydWN0b3IoZ2FtZUJvYXJkSWQ6IHN0cmluZywgcHJpdmF0ZSBvbkZpZWxkQ2xpY2s6IChldjogRXZlbnQpID0+IHZvaWQsIHByaXZhdGUgZ2V0Q3VycmVudE1hcms6ICgpID0+IHN0cmluZykge1xyXG5cdFx0dGhpcy5ib2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbWVCb2FyZElkKTtcclxuXHR9XHJcblxyXG5cdGluaXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmJvYXJkID0gW1tdLCBbXSwgW11dO1xyXG5cdFx0LyogZ2V0cyBhbGwgYm9hcmQgZmllbGRzICovXHJcblx0XHRjb25zdCBib2FyZEZpZWxkRWxlbWVudHM6IE5vZGVMaXN0T2Y8SFRNTEJ1dHRvbkVsZW1lbnQ+ID0gdGhpcy5ib2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbWUtYm9hcmRfX2ZpZWxkJyk7XHJcblxyXG5cdFx0LyogY3JlYXRpbmcgZmllbGRzICovXHJcblx0XHRmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmJvYXJkLmxlbmd0aDsgcm93KyspIHtcclxuXHRcdFx0Zm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5CT0FSRF9TSVpFOyBjb2x1bW4rKykge1xyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XS5wdXNoKFxyXG5cdFx0XHRcdFx0bmV3IEZpZWxkKFxyXG5cdFx0XHRcdFx0XHRyb3csXHJcblx0XHRcdFx0XHRcdGNvbHVtbixcclxuXHRcdFx0XHRcdFx0Ym9hcmRGaWVsZEVsZW1lbnRzW2NvbHVtbiArIHJvdyAqIHRoaXMuQk9BUkRfU0laRV0sXHJcblx0XHRcdFx0XHRcdC8vIGhhbmRsZXMgZm9yIGZpZWxkKGJ1dHRvbnMpIGV2ZW50c1xyXG5cdFx0XHRcdFx0XHR0aGlzLm9uRmllbGRDbGljayxcclxuXHRcdFx0XHRcdFx0dGhpcy5nZXRDdXJyZW50TWFya1xyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKiBjaGVja3MvbWFya3MgZmllbGQgb24gcGFzc2VkIHBvc2l0aW9uICovXHJcblx0Y2hlY2tGaWVsZCA9IChtYXJrOiBzdHJpbmcsIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikgPT4ge1xyXG5cdFx0aWYgKHJvdyA8IHRoaXMuYm9hcmQubGVuZ3RoICYmIGNvbHVtbiA8IHRoaXMuYm9hcmRbMF0ubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dLmNoZWNrKG1hcmspO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGlzRmllbGRDaGVja2VkID0gKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dLmlzQ2hlY2tlZCgpO1xyXG5cdH07XHJcblxyXG5cdGlzRnVsbCA9ICgpOiBib29sZWFuID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmJvYXJkLmZsYXQoKS5ldmVyeShmaWVsZCA9PiBmaWVsZC5pc0NoZWNrZWQoKSk7XHJcblx0fTtcclxuXHJcblx0Z2V0V2lubmluZ0ZpZWxkcyA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2hlY2tSb3dzKCkgfHwgdGhpcy5jaGVja0NvbHVtbnMoKSB8fCB0aGlzLmNoZWNrRGlhZ29uYWwoKTtcclxuXHR9O1xyXG5cclxuXHRjaGVja1Jvd3MgPSAoKTogVHJpcGxlRmllbGQgfCBudWxsID0+IHtcclxuXHRcdGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuQk9BUkRfU0laRTsgcm93KyspIHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVswXS5nZXRNYXJrKCkgIT09IG51bGwgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMF0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkW3Jvd11bMV0uZ2V0TWFyaygpICYmXHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzFdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFtyb3ddWzJdLmdldE1hcmsoKVxyXG5cdFx0XHQpXHJcblx0XHRcdFx0cmV0dXJuIFt0aGlzLmJvYXJkW3Jvd11bMF0sIHRoaXMuYm9hcmRbcm93XVsxXSwgdGhpcy5ib2FyZFtyb3ddWzJdXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrQ29sdW1ucyA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0Zm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5CT0FSRF9TSVpFOyBjb2x1bW4rKykge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVtjb2x1bW5dLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMV1bY29sdW1uXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdW2NvbHVtbl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzJdW2NvbHVtbl0uZ2V0TWFyaygpXHJcblx0XHRcdClcclxuXHRcdFx0XHRyZXR1cm4gW3RoaXMuYm9hcmRbMF1bY29sdW1uXSwgdGhpcy5ib2FyZFsxXVtjb2x1bW5dLCB0aGlzLmJvYXJkWzJdW2NvbHVtbl1dO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0Y2hlY2tEaWFnb25hbCA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0LyogdG9wIGxlZnQsIG1pZGRsZSwgYW5kIGJvdHRvbSByaWdodCAqL1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzBdWzBdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMl0uZ2V0TWFyaygpXHJcblx0XHQpXHJcblx0XHRcdHJldHVybiBbdGhpcy5ib2FyZFswXVswXSwgdGhpcy5ib2FyZFsxXVsxXSwgdGhpcy5ib2FyZFsyXVsyXV07XHJcblxyXG5cdFx0LyogdG9wIHJpZ2h0LCBtaWRkbGUsIGFuZCBib3R0b20gbGVmdCAqL1xyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzBdWzJdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0dGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMF0uZ2V0TWFyaygpXHJcblx0XHQpXHJcblx0XHRcdHJldHVybiBbdGhpcy5ib2FyZFswXVswXSwgdGhpcy5ib2FyZFsxXVsxXSwgdGhpcy5ib2FyZFsyXVsyXV07XHJcblxyXG5cdFx0Lyogbm8gZmllbGRzIG1hdGNoZWQgKi9cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdGNsZWFyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5ib2FyZC5sZW5ndGg7IHJvdysrKSB7XHJcblx0XHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5jbGVhcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG4vKiBHYW1lQm9hcmQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBGaWVsZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBGaWVsZCB7XHJcblx0cHJpdmF0ZSBtYXJrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcm93OiBudW1iZXIsXHJcblx0XHRwcml2YXRlIGNvbHVtbjogbnVtYmVyLFxyXG5cdFx0cHJpdmF0ZSBmaWVsZEVsZW1lbnQ6IEhUTUxCdXR0b25FbGVtZW50LFxyXG5cdFx0cHJpdmF0ZSBnYW1lT25DbGlja0hhbmRsZXI6IChldjogRXZlbnQpID0+IHZvaWQsXHJcblx0XHRwcml2YXRlIGdldEN1cnJlbnRNYXJrOiAoKSA9PiBzdHJpbmdcclxuXHQpIHtcclxuXHRcdGlmICh0aGlzLmZpZWxkRWxlbWVudCkge1xyXG5cdFx0XHQvKiBjbGljayBoYW5kbGluZyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ2FtZU9uQ2xpY2tIYW5kbGVyKTtcclxuXHJcblx0XHRcdC8qIGhvdmVyL2ZvY3VzIGluIGhhbmRsaW5nICovXHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuaGFuZGxlSG92ZXIpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5oYW5kbGVIb3Zlcik7XHJcblxyXG5cdFx0XHQvKiBob3Zlci9mb2N1cyBvdXQgaGFuZGxpbmcgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZUJsdXIpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuaGFuZGxlQmx1cik7XHJcblxyXG5cdFx0XHQvKiBzZXR0aW5nIGF0dHJpYnV0ZXMgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuZGF0YXNldC5yb3cgPSB0aGlzLnJvdy50b1N0cmluZygpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LmNvbHVtbiA9IHRoaXMuY29sdW1uLnRvU3RyaW5nKCk7XHJcblx0XHRcdHRoaXMuY2xlYXIoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qIGhvdmVyL2ZvY3VzIGluIGZpZWxkIGhhbmRsZSAqL1xyXG5cdGhhbmRsZUhvdmVyID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3QgY3VycmVudFBsYXllck1hcmsgPSB0aGlzLmdldEN1cnJlbnRNYXJrKCk7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1wbGF5ZXInLCBjdXJyZW50UGxheWVyTWFyayk7XHJcblx0fTtcclxuXHJcblx0LyogaG92ZXIvZm9jdXMgb3V0IGZpZWxkIGhhbmRsZSAqL1xyXG5cdGhhbmRsZUJsdXIgPSAoKSA9PiB7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1wbGF5ZXInKTtcclxuXHR9O1xyXG5cclxuXHRjbGVhciA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubWFyayA9IG51bGw7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUm93ICR7dGhpcy5yb3cgKyAxfSwgY29sdW1uICR7dGhpcy5jb2x1bW4gKyAxfSwgZW1wdHkgZmllbGRgKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicpO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1hcmsnKTtcclxuXHR9O1xyXG5cclxuXHRjaGVjayA9IChtYXJrOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubWFyayA9IG1hcms7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUm93ICR7dGhpcy5yb3cgKyAxfSwgY29sdW1uICR7dGhpcy5jb2x1bW4gKyAxfSwgJHt0aGlzLm1hcmt9IG1hcmtgKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1tYXJrJywgbWFyayk7XHJcblx0fTtcclxuXHJcblx0aXNDaGVja2VkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFyayAhPT0gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRnZXRNYXJrID0gKCk6IHN0cmluZyA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXJrO1xyXG5cdH07XHJcbn1cclxuLyogRmllbGQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBQbGF5ZXIgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUGxheWVyIHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBtYXJrOiBzdHJpbmcsIHByaXZhdGUgc2NvcmU6IG51bWJlciA9IDApIHt9XHJcblxyXG5cdHRvU3RyaW5nID0gKCk6IHN0cmluZyA9PiBgJHt0aGlzLm1hcmt9ICgke3RoaXMubmFtZX0pYDtcclxuXHJcblx0Z2V0TmFtZSA9ICgpOiBzdHJpbmcgPT4gdGhpcy5uYW1lO1xyXG5cclxuXHRnZXRNYXJrID0gKCk6IHN0cmluZyA9PiB0aGlzLm1hcms7XHJcblxyXG5cdGdldFNjb3JlID0gKCk6IG51bWJlciA9PiB0aGlzLnNjb3JlO1xyXG5cclxuXHR1cGRhdGVTY29yZSA9ICgpOiBudW1iZXIgPT4gKyt0aGlzLnNjb3JlO1xyXG5cclxuXHRyZXNldFNjb3JlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zY29yZSA9IDA7XHJcblx0fTtcclxufVxyXG5cclxuY2xhc3MgQ1BVUGxheWVyIGV4dGVuZHMgUGxheWVyIHtcclxuXHRtYWtlTW92ZSA9IChib2FyZDogR2FtZUJvYXJkKTogW251bWJlciwgbnVtYmVyXSA9PiB7XHJcblx0XHRjb25zdCBib2FyZFNpemUgPSBib2FyZC5CT0FSRF9TSVpFO1xyXG5cdFx0bGV0IHJvdywgY29sdW1uO1xyXG5cdFx0ZG8ge1xyXG5cdFx0XHRyb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZFNpemUpO1xyXG5cdFx0XHRjb2x1bW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZFNpemUpO1xyXG5cdFx0fSB3aGlsZSAoYm9hcmQuaXNGaWVsZENoZWNrZWQocm93LCBjb2x1bW4pKTtcclxuXHRcdHJldHVybiBbcm93LCBjb2x1bW5dO1xyXG5cdH07XHJcbn1cclxuLyogUGxheWVyIGNsYXNzIGVuZCAqL1xyXG4vKiBjbGFzc2VzIGVuZCAqL1xyXG5cclxuLyogZ2FtZSBvYmplY3RzICovXHJcbmNvbnN0IHRpY1RhY1RvZUdhbWU6IEdhbWUgPSBuZXcgR2FtZSgnI2dhbWUtbWVudScsICcjdGljLXRhYy10b2UtZ2FtZScpO1xyXG4vKiBnYW1lIG9iamVjdHMgZW5kICovXHJcbiJdfQ==
