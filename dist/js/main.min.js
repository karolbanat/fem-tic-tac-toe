"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var r,n,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Game=_createClass(function e(){var a=this;_classCallCheck(this,e),this.ties=0,this.gameCount=0,this.turnCount=0,this.onFieldClick=function(e){var e=e.target,t=parseInt(e.dataset.row),e=parseInt(e.dataset.column);a.makeMove(t,e)},this.onGameContinue=function(){a.gameCount++,a.turnCount=0,a.gameBoard.clear(),a.setResetButtonFocus(),a.updateScoreBoard(),a.makeMoveCPU()},this.onGameQuit=function(){a.gameContainer.classList.add("hidden"),a.gameBoard.clear(),a.gameMenu.show(),a.gameMenu.setFocus()},this.onRestartButtonClick=function(){a.restartGameModal.show()},this.setResetButtonFocus=function(){a.restartGameButton.focus()},this.init=function(e,t){var r,n="x"===t?"o":"x",e="singleplayer"===e?(r="you",new CPUPlayer("cpu",n)):(r="p1",new Player("p2",n)),n=new Player(r,t);"x"===t?(a.xPlayer=n,a.oPlayer=e):(a.xPlayer=e,a.oPlayer=n),a.playerQueue=[a.xPlayer,a.oPlayer],a.resetCounters(),a.gameContainer.classList.remove("hidden"),a.startGame()},this.startGame=function(){a.scoreBoard.init(a.xPlayer,a.oPlayer,a.ties),a.gameBoard.init(),a.updateTurnIndicator(),a.makeMoveCPU()},this.restartGame=function(){a.resetCounters(),a.gameBoard.clear(),a.xPlayer.resetScore(),a.oPlayer.resetScore(),a.updateScoreBoard(),a.updateTurnIndicator(),a.makeMoveCPU(),a.setResetButtonFocus()},this.makeMove=function(e,t){a.gameBoard.isFieldChecked(e,t)||(a.gameBoard.checkField(a.getCurrentPlayer().getMark(),e,t),a.afterMove())},this.afterMove=function(){null!==a.gameBoard.getWinningFields()?(a.gameResultModal.show(a.getCurrentPlayer()),a.getCurrentPlayer().updateScore()):a.gameBoard.isFull()?(a.gameResultModal.show(),a.ties++):(a.increaseTurnCount(),a.updateTurnIndicator(),a.makeMoveCPU())},this.makeMoveCPU=function(){a.getCurrentPlayer()instanceof CPUPlayer&&a.makeMove.apply(a,_toConsumableArray(a.getCurrentPlayer().makeMove(a.gameBoard)))},this.getCurrentPlayerMark=function(){return a.getCurrentPlayer().getMark()},this.getCurrentPlayer=function(){return a.playerQueue[(a.gameCount+a.turnCount)%2]},this.resetCounters=function(){a.ties=0,a.turnCount=0,a.gameCount=0},this.increaseTurnCount=function(){return++a.turnCount},this.updateTurnIndicator=function(){a.turnIndicator.update(a.getCurrentPlayerMark())},this.updateScoreBoard=function(){a.scoreBoard.updateScore(a.xPlayer,a.oPlayer,a.ties)},this.gameMenu=new GameMenu("#game-menu",this.init),this.gameMenu.init(),this.gameContainer=document.querySelector("#tic-tac-toe-game"),this.gameBoard=new GameBoard("#game-board",this.onFieldClick,this.getCurrentPlayerMark),this.scoreBoard=new ScoreBoard("#score-board"),this.turnIndicator=new TurnIndicator,this.restartGameButton=this.gameContainer.querySelector("#restart-game-button"),this.restartGameButton.addEventListener("click",this.onRestartButtonClick),this.gameResultModal=new ResultModal(this.onGameQuit,this.onGameContinue),this.restartGameModal=new RestartModal(this.restartGame,this.setResetButtonFocus)}),Player=_createClass(function e(t,r){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.name=t,this.mark=r,this.score=a,this.toString=function(){return"".concat(n.mark," (").concat(n.name,")")},this.getName=function(){return n.name},this.getMark=function(){return n.mark},this.getScore=function(){return n.score},this.updateScore=function(){return++n.score},this.resetScore=function(){n.score=0}}),CPUPlayer=function(){_inherits(t,Player);var e=_createSuper(t);function t(){var r;return _classCallCheck(this,t),(r=e.apply(this,arguments)).makeMove=function(e){var t=r.getWinningPlay(e);return null!==t||null!==(t=r.getBlockingPlay(e))?t:r.makeRandomMove(e)},r.getWinningPlay=function(e){return r.getPlay(e,r.getMark())},r.getBlockingPlay=function(e){var t="o"===r.getMark()?"x":"o";return r.getPlay(e,t)},r.getPlay=function(e,t){for(var r=e.BOARD_SIZE,n=0;n<r;n++){var a,o=0,i=0,s=void 0,u=_createForOfIteratorHelper(e.getRow(n));try{for(u.s();!(a=u.n()).done;){var l=a.value;l.getMark()===t&&o++,null===l.getMark()&&(i++,s=l)}}catch(e){u.e(e)}finally{u.f()}if(2===o&&1===i)return[s.getRow(),s.getColumn()]}for(var c=0;c<r;c++){var d,h=0,f=0,m=void 0,g=_createForOfIteratorHelper(e.getColumn(c));try{for(g.s();!(d=g.n()).done;){var y=d.value;y.getMark()===t&&h++,null===y.getMark()&&(f++,m=y)}}catch(e){g.e(e)}finally{g.f()}if(2===h&&1===f)return[m.getRow(),m.getColumn()]}var p,b=0,k=0,v=_createForOfIteratorHelper(e.getLeftTopDiagonal());try{for(v.s();!(p=v.n()).done;){var C=p.value;C.getMark()===t&&b++,null===C.getMark()&&(k++,S=C)}}catch(e){v.e(e)}finally{v.f()}if(2===b&&1===k)return[S.getRow(),S.getColumn()];var M,b=0,k=0,S=null,_=_createForOfIteratorHelper(e.getRightTopDiagonal());try{for(_.s();!(M=_.n()).done;){var P=M.value;P.getMark()===t&&b++,null===P.getMark()&&(k++,S=P)}}catch(e){_.e(e)}finally{_.f()}return 2===b&&1===k?[S.getRow(),S.getColumn()]:null},r.makeRandomMove=function(e){for(var t,r,n=e.BOARD_SIZE;t=Math.floor(Math.random()*n),r=Math.floor(Math.random()*n),e.isFieldChecked(t,r););return[t,r]},r}return _createClass(t)}(),GameBoard=_createClass(function e(t,r,n){var a=this;_classCallCheck(this,e),this.onFieldClick=r,this.getCurrentMark=n,this.BOARD_SIZE=3,this.init=function(){a.board=[[],[],[]];for(var e=a.boardElement.querySelectorAll(".game-board__field"),t=0;t<a.board.length;t++)for(var r=0;r<a.BOARD_SIZE;r++)a.board[t].push(new Field(t,r,e[r+t*a.BOARD_SIZE],a.onFieldClick,a.getCurrentMark))},this.clear=function(){for(var e=0;e<a.board.length;e++)for(var t=0;t<a.BOARD_SIZE;t++)a.board[e][t].clear()},this.checkField=function(e,t,r){t<a.board.length&&r<a.board[0].length&&a.board[t][r].check(e)},this.isFieldChecked=function(e,t){return a.board[e][t].isChecked()},this.isFull=function(){return a.board.flat().every(function(e){return e.isChecked()})},this.getWinningFields=function(){return a.checkRows()||a.checkColumns()||a.checkDiagonal()},this.checkRows=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[e][0].getMark()&&a.board[e][0].getMark()===a.board[e][1].getMark()&&a.board[e][1].getMark()===a.board[e][2].getMark())return[a.board[e][0].setAsGameWinning(),a.board[e][1].setAsGameWinning(),a.board[e][2].setAsGameWinning()];return null},this.checkColumns=function(){for(var e=0;e<a.BOARD_SIZE;e++)if(null!==a.board[0][e].getMark()&&a.board[0][e].getMark()===a.board[1][e].getMark()&&a.board[1][e].getMark()===a.board[2][e].getMark())return[a.board[0][e].setAsGameWinning(),a.board[1][e].setAsGameWinning(),a.board[2][e].setAsGameWinning()];return null},this.checkDiagonal=function(){return null!==a.board[1][1].getMark()&&a.board[0][0].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][2].getMark()?[a.board[0][0].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][2].setAsGameWinning()]:null!==a.board[1][1].getMark()&&a.board[0][2].getMark()===a.board[1][1].getMark()&&a.board[1][1].getMark()===a.board[2][0].getMark()?[a.board[0][2].setAsGameWinning(),a.board[1][1].setAsGameWinning(),a.board[2][0].setAsGameWinning()]:null},this.getRow=function(e){return[a.board[e][0],a.board[e][1],a.board[e][2]]},this.getColumn=function(e){return[a.board[0][e],a.board[1][e],a.board[2][e]]},this.getLeftTopDiagonal=function(){return[a.board[0][0],a.board[1][1],a.board[2][2]]},this.getRightTopDiagonal=function(){return[a.board[0][2],a.board[1][1],a.board[2][0]]},this.boardElement=document.querySelector(t)}),Field=_createClass(function e(t,r,n,a,o){var i=this;_classCallCheck(this,e),this.row=t,this.column=r,this.fieldElement=n,this.gameOnClickHandler=a,this.getCurrentMark=o,this.mark=null,this.handleHover=function(){var e=i.getCurrentMark();i.fieldElement.setAttribute("data-current-player",e)},this.handleBlur=function(){i.fieldElement.removeAttribute("data-current-player")},this.clear=function(){i.mark=null,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", empty field")),i.fieldElement.removeAttribute("data-game-winning"),i.fieldElement.removeAttribute("data-current-player"),i.fieldElement.removeAttribute("data-mark")},this.check=function(e){i.mark=e,i.fieldElement.setAttribute("aria-label","Row ".concat(i.row+1,", column ").concat(i.column+1,", ").concat(i.mark," mark")),i.fieldElement.setAttribute("data-mark",e)},this.isChecked=function(){return null!==i.mark},this.setAsGameWinning=function(){return i.fieldElement.setAttribute("data-game-winning",""),i},this.getMark=function(){return i.mark},this.getRow=function(){return i.row},this.getColumn=function(){return i.column},this.fieldElement&&(this.fieldElement.addEventListener("click",this.gameOnClickHandler),this.fieldElement.addEventListener("mouseover",this.handleHover),this.fieldElement.addEventListener("focusin",this.handleHover),this.fieldElement.addEventListener("mouseout",this.handleBlur),this.fieldElement.addEventListener("focusout",this.handleBlur),this.fieldElement.dataset.row=this.row.toString(),this.fieldElement.dataset.column=this.column.toString(),this.clear())}),GameMenu=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameInit=r,this.init=function(){n.formSubmitButtons.forEach(function(e){return e.addEventListener("click",n.handleMenuSubmitButton)})},this.handleMenuSubmitButton=function(e){var t;e.preventDefault(),n.isAnyOptionSelected()?(n.errorMsg.classList.remove("visible"),n.errorMsg.innerText="",e=e.target.dataset.mode,t=n.getCheckedOptionMark(),n.hide(),n.gameInit(e,t)):(n.errorMsg.classList.add("visible"),n.errorMsg.innerText="Please select mark for player 1")},this.isAnyOptionSelected=function(){return Array.from(n.formOptions).some(function(e){return e.checked})},this.getCheckedOptionMark=function(){var e,t=_createForOfIteratorHelper(n.formOptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.checked)return r.dataset.mark}}catch(e){t.e(e)}finally{t.f()}return""},this.show=function(){n.gameMenu.classList.remove("hidden")},this.hide=function(){n.gameMenu.classList.add("hidden")},this.setFocus=function(){var e;null!=(e=n.formOptions[0])&&e.focus()},this.gameMenu=document.querySelector(t),this.menuForm=this.gameMenu.querySelector("form"),this.formOptions=this.menuForm.querySelectorAll('input[type="radio"]'),this.errorMsg=this.menuForm.querySelector('[role="alert"]'),this.formSubmitButtons=this.menuForm.querySelectorAll('button[type="submit"]')}),TurnIndicator=_createClass(function e(){var t=this;_classCallCheck(this,e),this.update=function(e){t.currentPlayerMarkElement.innerText=e,t.currentPlayerMarkIcon.src="./dist/assets/icon-".concat(e,".svg")},this.currentPlayerMarkElement=document.querySelector("#current-player-mark"),this.currentPlayerMarkIcon=document.querySelector("#current-player-mark-icon")}),ScoreBoard=_createClass(function e(t){var n=this;_classCallCheck(this,e),this.init=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n.p1Label.innerText=e.toString(),n.p2Label.innerText=t.toString(),n.updateScore(e,t,r)},this.updateScore=function(e,t,r){n.p1Score.innerText=e.getScore().toString(),n.p2Score.innerText=t.getScore().toString(),n.tiesScore.innerText=r.toString()},this.scoreBoardContainer=document.querySelector(t),this.p1Label=this.scoreBoardContainer.querySelector("#p1-game-name"),this.p1Score=this.scoreBoardContainer.querySelector("#p1-game-score"),this.p2Label=this.scoreBoardContainer.querySelector("#p2-game-name"),this.p2Score=this.scoreBoardContainer.querySelector("#p2-game-score"),this.tiesScore=this.scoreBoardContainer.querySelector("#game-ties")}),ResultModal=_createClass(function e(t,r){var a=this;_classCallCheck(this,e),this.gameQuitHandling=t,this.gameContinueHandling=r,this.handleContinue=function(){a.gameContinueHandling(),a.hide()},this.handleQuit=function(){a.hide(),a.gameQuitHandling()},this.show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;a.modal.classList.add("active"),a.updateResult(e)},this.hide=function(){a.modal.classList.remove("active")},this.updateResult=function(e){null===e?a.displayTieResult():a.displayWinnerResult(e),a.quitButton.focus()},this.displayTieResult=function(){a.modal.setAttribute("data-winner","tie"),a.modalHeading.innerHTML="",a.modalHeading.innerText="Round tied"},this.displayWinnerResult=function(e){a.modal.setAttribute("data-winner",e.getMark());var t=a.getRoundMessage(e.getName());a.modalMessage.innerText=t,a.setResultHeading(e)},this.setResultHeading=function(e){a.modalHeading.innerHTML="";var e=e.getMark(),t=document.createElement("img"),r=(t.setAttribute("src","./dist/assets/icon-".concat(e,".svg")),t.setAttribute("alt",""),document.createElement("span")),e=(r.classList.add("visually-hidden"),r.innerText=e,document.createTextNode("takes the round")),n=document.createElement("span");n.appendChild(r),n.appendChild(e),a.modalHeading.appendChild(t),a.modalHeading.appendChild(n)},this.getRoundMessage=function(e){var t;switch(e){case"p1":t="Player 1 wins!";break;case"p2":t="Player 2 wins!";break;case"you":t="You won!";break;case"cpu":t="Oh no, you lost...";break;default:t=""}return t},this.modal=document.querySelector("#game-result-modal"),this.modalMessage=this.modal.querySelector(".modal__message"),this.modalHeading=this.modal.querySelector(".modal__heading"),this.quitButton=this.modal.querySelector('button[data-action="quit"]'),this.quitButton.addEventListener("click",this.handleQuit),this.continueButton=this.modal.querySelector('button[data-action="continue"]'),this.continueButton.addEventListener("click",this.handleContinue)}),RestartModal=_createClass(function e(t,r){var n=this;_classCallCheck(this,e),this.gameRestartHandling=t,this.cancelSupport=r,this.handleCancel=function(){n.hide(),n.cancelSupport()},this.handleRestart=function(){n.gameRestartHandling(),n.hide()},this.show=function(){n.modal.classList.add("active"),n.cancelButton.focus()},this.hide=function(){n.modal.classList.remove("active")},this.modal=document.querySelector("#game-reset-modal"),this.cancelButton=this.modal.querySelector('button[data-action="cancel"]'),this.cancelButton.addEventListener("click",this.handleCancel),this.restartButton=this.modal.querySelector('button[data-action="restart"]'),this.restartButton.addEventListener("click",this.handleRestart)}),ticTacToeGame=new Game;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIkdhbWUiLCJfY3JlYXRlQ2xhc3MiLCJfdGhpcyIsInRoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aWVzIiwiZ2FtZUNvdW50IiwidHVybkNvdW50Iiwib25GaWVsZENsaWNrIiwiZXYiLCJmaWVsZEJ1dHRvbiIsInRhcmdldCIsInJvdyIsInBhcnNlSW50IiwiZGF0YXNldCIsImNvbHVtbiIsIm1ha2VNb3ZlIiwib25HYW1lQ29udGludWUiLCJnYW1lQm9hcmQiLCJjbGVhciIsInNldFJlc2V0QnV0dG9uRm9jdXMiLCJ1cGRhdGVTY29yZUJvYXJkIiwibWFrZU1vdmVDUFUiLCJvbkdhbWVRdWl0IiwiZ2FtZUNvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsImdhbWVNZW51Iiwic2hvdyIsInNldEZvY3VzIiwib25SZXN0YXJ0QnV0dG9uQ2xpY2siLCJyZXN0YXJ0R2FtZU1vZGFsIiwicmVzdGFydEdhbWVCdXR0b24iLCJmb2N1cyIsImluaXQiLCJtb2RlIiwicDFNYXJrIiwicDFMYWJlbCIsInAyTWFyayIsInBsYXllcjIiLCJDUFVQbGF5ZXIiLCJQbGF5ZXIiLCJwbGF5ZXIxIiwieFBsYXllciIsIm9QbGF5ZXIiLCJwbGF5ZXJRdWV1ZSIsInJlc2V0Q291bnRlcnMiLCJyZW1vdmUiLCJzdGFydEdhbWUiLCJzY29yZUJvYXJkIiwidXBkYXRlVHVybkluZGljYXRvciIsInJlc3RhcnRHYW1lIiwicmVzZXRTY29yZSIsImlzRmllbGRDaGVja2VkIiwiY2hlY2tGaWVsZCIsImdldEN1cnJlbnRQbGF5ZXIiLCJnZXRNYXJrIiwiYWZ0ZXJNb3ZlIiwiZ2V0V2lubmluZ0ZpZWxkcyIsImdhbWVSZXN1bHRNb2RhbCIsInVwZGF0ZVNjb3JlIiwiaXNGdWxsIiwiaW5jcmVhc2VUdXJuQ291bnQiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsImdldEN1cnJlbnRQbGF5ZXJNYXJrIiwidHVybkluZGljYXRvciIsInVwZGF0ZSIsIkdhbWVNZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiR2FtZUJvYXJkIiwiU2NvcmVCb2FyZCIsIlR1cm5JbmRpY2F0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiUmVzdWx0TW9kYWwiLCJSZXN0YXJ0TW9kYWwiLCJuYW1lIiwibWFyayIsIl90aGlzMiIsInNjb3JlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwidG9TdHJpbmciLCJjb25jYXQiLCJnZXROYW1lIiwiZ2V0U2NvcmUiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJfY3JlYXRlU3VwZXIiLCJfdGhpczMiLCJib2FyZCIsIndpbm5pbmdQbGF5IiwiZ2V0V2lubmluZ1BsYXkiLCJibG9ja2luZ1BsYXkiLCJnZXRCbG9ja2luZ1BsYXkiLCJtYWtlUmFuZG9tTW92ZSIsImdldFBsYXkiLCJjb21wYXJlVG9NYXJrIiwiYm9hcmRTaXplIiwiQk9BUkRfU0laRSIsInJvd051bWJlciIsIl9zdGVwIiwic2FtZU1hcmtDb3VudCIsImVtcHR5RmllbGRDb3VudCIsImVtcHR5RmllbGQiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsImdldFJvdyIsInMiLCJuIiwiZG9uZSIsImZpZWxkIiwidmFsdWUiLCJlcnIiLCJlIiwiZiIsImdldENvbHVtbiIsImNvbE51bWJlciIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwiZ2V0TGVmdFRvcERpYWdvbmFsIiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsImdldFJpZ2h0VG9wRGlhZ29uYWwiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnYW1lQm9hcmRJZCIsImdldEN1cnJlbnRNYXJrIiwiX3RoaXM0IiwiYm9hcmRGaWVsZEVsZW1lbnRzIiwiYm9hcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInB1c2giLCJGaWVsZCIsImNoZWNrIiwiaXNDaGVja2VkIiwiZmxhdCIsImV2ZXJ5IiwiY2hlY2tSb3dzIiwiY2hlY2tDb2x1bW5zIiwiY2hlY2tEaWFnb25hbCIsInNldEFzR2FtZVdpbm5pbmciLCJjb2x1bW5OdW1iZXIiLCJmaWVsZEVsZW1lbnQiLCJnYW1lT25DbGlja0hhbmRsZXIiLCJfdGhpczUiLCJoYW5kbGVIb3ZlciIsImN1cnJlbnRQbGF5ZXJNYXJrIiwic2V0QXR0cmlidXRlIiwiaGFuZGxlQmx1ciIsInJlbW92ZUF0dHJpYnV0ZSIsImdhbWVNZW51SWQiLCJnYW1lSW5pdCIsIl90aGlzNiIsImZvcm1TdWJtaXRCdXR0b25zIiwiZm9yRWFjaCIsImJ0biIsImhhbmRsZU1lbnVTdWJtaXRCdXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsImlzQW55T3B0aW9uU2VsZWN0ZWQiLCJlcnJvck1zZyIsImlubmVyVGV4dCIsImdhbWVNb2RlIiwiZ2V0Q2hlY2tlZE9wdGlvbk1hcmsiLCJoaWRlIiwiQXJyYXkiLCJmcm9tIiwiZm9ybU9wdGlvbnMiLCJzb21lIiwib3B0aW9uIiwiY2hlY2tlZCIsIl9zdGVwNSIsIl9pdGVyYXRvcjUiLCJfYSIsIm1lbnVGb3JtIiwiX3RoaXM3IiwiY3VycmVudFBsYXllck1hcmtFbGVtZW50IiwiY3VycmVudFBsYXllck1hcmtJY29uIiwic3JjIiwic2NvcmVCb2FyZElkIiwiX3RoaXM4IiwicDEiLCJwMiIsInAyTGFiZWwiLCJwMVNjb3JlIiwicDJTY29yZSIsInRpZXNTY29yZSIsInNjb3JlQm9hcmRDb250YWluZXIiLCJnYW1lUXVpdEhhbmRsaW5nIiwiZ2FtZUNvbnRpbnVlSGFuZGxpbmciLCJfdGhpczkiLCJoYW5kbGVDb250aW51ZSIsImhhbmRsZVF1aXQiLCJ3aW5uZXIiLCJtb2RhbCIsInVwZGF0ZVJlc3VsdCIsImRpc3BsYXlUaWVSZXN1bHQiLCJkaXNwbGF5V2lubmVyUmVzdWx0IiwicXVpdEJ1dHRvbiIsIm1vZGFsSGVhZGluZyIsImlubmVySFRNTCIsIm1lc3NhZ2UiLCJnZXRSb3VuZE1lc3NhZ2UiLCJtb2RhbE1lc3NhZ2UiLCJzZXRSZXN1bHRIZWFkaW5nIiwiaW1nRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoaWRkZW5NYXJrIiwibWVzc2FnZVRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhlYWRpbmdTcGFuIiwiYXBwZW5kQ2hpbGQiLCJwbGF5ZXJOYW1lIiwiY29udGludWVCdXR0b24iLCJnYW1lUmVzdGFydEhhbmRsaW5nIiwiY2FuY2VsU3VwcG9ydCIsIl90aGlzMTAiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVSZXN0YXJ0IiwiY2FuY2VsQnV0dG9uIiwicmVzdGFydEJ1dHRvbiIsInRpY1RhY1RvZUdhbWUiXSwibWFwcGluZ3MiOiJneUhBS0EsSUFDTUEsS0FBSUMsYUFvQlQsU0FBQUQsSUFBQSxJQUFBRSxFQUFBQyxLQUFBQyxnQkFBQUQsS0FBQUgsQ0FBQSxFQUpRRyxLQUFBRSxLQUFlLEVBQ2ZGLEtBQUFHLFVBQW9CLEVBQ3BCSCxLQUFBSSxVQUFvQixFQTJCNUJKLEtBQUFLLGFBQWUsU0FBQ0MsR0FFZixJQUFNQyxFQUFjRCxFQUFHRSxPQUNqQkMsRUFBY0MsU0FBU0gsRUFBWUksUUFBUUYsR0FBRyxFQUM5Q0csRUFBaUJGLFNBQVNILEVBQVlJLFFBQVFDLE1BQU0sRUFDMURiLEVBQUtjLFNBQVNKLEVBQUtHLENBQU0sQ0FDMUIsRUFFQVosS0FBQWMsZUFBaUIsV0FDaEJmLEVBQUtJLFNBQVMsR0FDZEosRUFBS0ssVUFBWSxFQUNqQkwsRUFBS2dCLFVBQVVDLE1BQUssRUFDcEJqQixFQUFLa0Isb0JBQW1CLEVBQ3hCbEIsRUFBS21CLGlCQUFnQixFQUNyQm5CLEVBQUtvQixZQUFXLENBQ2pCLEVBRUFuQixLQUFBb0IsV0FBYSxXQUNackIsRUFBS3NCLGNBQWNDLFVBQVVDLElBQUksUUFBUSxFQUN6Q3hCLEVBQUtnQixVQUFVQyxNQUFLLEVBQ3BCakIsRUFBS3lCLFNBQVNDLEtBQUksRUFDbEIxQixFQUFLeUIsU0FBU0UsU0FBUSxDQUN2QixFQUVBMUIsS0FBQTJCLHFCQUF1QixXQUN0QjVCLEVBQUs2QixpQkFBaUJILEtBQUksQ0FDM0Is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LEVBR3pEbE0sS0FBS3VOLGVBQWlCdk4sS0FBS29NLE1BQU1qSSxjQUFjLGdDQUFnQyxFQUMvRW5FLEtBQUt1TixlQUFlaEosaUJBQWlCLFFBQVN2RSxLQUFLaU0sY0FBYyxDQUNsRSxDQUFDLEVBa0dJeEgsYUFBWTNFLGFBS2pCLFNBQUEyRSxFQUFvQitJLEVBQXlDQyxHQUF5QixJQUFBQyxFQUFBMU4sS0FBQUMsZ0JBQUFELEtBQUF5RSxDQUFBLEVBQWxFekUsS0FBQXdOLG9CQUFBQSxFQUF5Q3hOLEtBQUF5TixjQUFBQSxFQWE3RHpOLEtBQUEyTixhQUFlLFdBQ2RELEVBQUtwRCxLQUFJLEVBQ1RvRCxFQUFLRCxjQUFhLENBQ25CLEVBRUF6TixLQUFBNE4sY0FBZ0IsV0FDZkYsRUFBS0Ysb0JBQW1CLEVBQ3hCRSxFQUFLcEQsS0FBSSxDQUNWLEVBSUF0SyxLQUFBeUIsS0FBTyxXQUNOaU0sRUFBS3RCLE1BQU05SyxVQUFVQyxJQUFJLFFBQVEsRUFDakNtTSxFQUFLRyxhQUFhL0wsTUFBSyxDQUN4QixFQUVBOUIsS0FBQXNLLEtBQU8sV0FDTm9ELEVBQUt0QixNQUFNOUssVUFBVXNCLE9BQU8sUUFBUSxDQUNyQyxFQS9CQzVDLEtBQUtvTSxNQUFRbEksU0FBU0MsY0FBYyxtQkFBbUIsRUFHdkRuRSxLQUFLNk4sYUFBZTdOLEtBQUtvTSxNQUFNakksY0FBYyw4QkFBOEIsRUFDM0VuRSxLQUFLNk4sYUFBYXRKLGlCQUFpQixRQUFTdkUsS0FBSzJOLFlBQVksRUFHN0QzTixLQUFLOE4sY0FBZ0I5TixLQUFLb00sTUFBTWpJLGNBQWMsK0JBQStCLEVBQzdFbkUsS0FBSzhOLGNBQWN2SixpQkFBaUIsUUFBU3ZFLEtBQUs0TixhQUFhLENBQ2hFLENBQUMsRUE2QklHLGNBQXNCLElBQUlsTyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIHR5cGVzICovXHJcbnR5cGUgVHJpcGxlRmllbGQgPSBbRmllbGQsIEZpZWxkLCBGaWVsZF07XHJcbi8qIHR5cGVzIGVuZCAqL1xyXG5cclxuLyogY2xhc3NlcyAqL1xyXG4vKiBHYW1lIGNsYXNzIHN0YXJ0ICovXHJcbmNsYXNzIEdhbWUge1xyXG5cdC8qIGdhbWUgZWxlbWVudHMgKi9cclxuXHRwcml2YXRlIGdhbWVNZW51OiBHYW1lTWVudTtcclxuXHRwcml2YXRlIGdhbWVDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgZ2FtZUJvYXJkOiBHYW1lQm9hcmQ7XHJcblx0cHJpdmF0ZSBzY29yZUJvYXJkOiBTY29yZUJvYXJkO1xyXG5cdHByaXZhdGUgdHVybkluZGljYXRvcjogVHVybkluZGljYXRvcjtcclxuXHRwcml2YXRlIHJlc3RhcnRHYW1lQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHQvKiBnYW1lIG1vZGFscyAqL1xyXG5cdHByaXZhdGUgZ2FtZVJlc3VsdE1vZGFsOiBSZXN1bHRNb2RhbDtcclxuXHRwcml2YXRlIHJlc3RhcnRHYW1lTW9kYWw6IFJlc3RhcnRNb2RhbDtcclxuXHQvKiBwbGF5ZXJzICovXHJcblx0cHJpdmF0ZSB4UGxheWVyOiBQbGF5ZXI7XHJcblx0cHJpdmF0ZSBvUGxheWVyOiBQbGF5ZXI7XHJcblx0cHJpdmF0ZSBwbGF5ZXJRdWV1ZTogW1BsYXllciwgUGxheWVyXTtcclxuXHQvKiBnYW1lIHN0YXRlcyAqL1xyXG5cdHByaXZhdGUgdGllczogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIGdhbWVDb3VudDogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIHR1cm5Db3VudDogbnVtYmVyID0gMDtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvKiBnYW1lIG1lbnUgKi9cclxuXHRcdHRoaXMuZ2FtZU1lbnUgPSBuZXcgR2FtZU1lbnUoJyNnYW1lLW1lbnUnLCB0aGlzLmluaXQpO1xyXG5cdFx0dGhpcy5nYW1lTWVudS5pbml0KCk7XHJcblxyXG5cdFx0LyogY29udGFpbmVyICovXHJcblx0XHR0aGlzLmdhbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGljLXRhYy10b2UtZ2FtZScpO1xyXG5cclxuXHRcdC8qIGdhbWUgYm9hcmQgKi9cclxuXHRcdHRoaXMuZ2FtZUJvYXJkID0gbmV3IEdhbWVCb2FyZCgnI2dhbWUtYm9hcmQnLCB0aGlzLm9uRmllbGRDbGljaywgdGhpcy5nZXRDdXJyZW50UGxheWVyTWFyayk7XHJcblxyXG5cdFx0Lyogc2NvcmUgYm9hcmQgYW5kIGN1cnJlbnQncyBwbGF5ZXIgdHVybiAqL1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkID0gbmV3IFNjb3JlQm9hcmQoJyNzY29yZS1ib2FyZCcpO1xyXG5cdFx0dGhpcy50dXJuSW5kaWNhdG9yID0gbmV3IFR1cm5JbmRpY2F0b3IoKTtcclxuXHJcblx0XHQvKiByZXN0YXJ0IGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZUJ1dHRvbiA9IHRoaXMuZ2FtZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcmVzdGFydC1nYW1lLWJ1dHRvbicpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25SZXN0YXJ0QnV0dG9uQ2xpY2spO1xyXG5cclxuXHRcdC8qIG1vZGFscyAqL1xyXG5cdFx0dGhpcy5nYW1lUmVzdWx0TW9kYWwgPSBuZXcgUmVzdWx0TW9kYWwodGhpcy5vbkdhbWVRdWl0LCB0aGlzLm9uR2FtZUNvbnRpbnVlKTtcclxuXHRcdHRoaXMucmVzdGFydEdhbWVNb2RhbCA9IG5ldyBSZXN0YXJ0TW9kYWwodGhpcy5yZXN0YXJ0R2FtZSwgdGhpcy5zZXRSZXNldEJ1dHRvbkZvY3VzKTtcclxuXHR9XHJcblxyXG5cdC8qIGhhbmRsZXJzICovXHJcblx0b25GaWVsZENsaWNrID0gKGV2OiBFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0LyogcmV0cmlldmUgcm93IGFuZCBjb2x1bW4gZnJvbSBjbGlja2VkIGJ1dHRvbiBhbmQgbWFrZSBtb3ZlICovXHJcblx0XHRjb25zdCBmaWVsZEJ1dHRvbiA9IGV2LnRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGNvbnN0IHJvdzogbnVtYmVyID0gcGFyc2VJbnQoZmllbGRCdXR0b24uZGF0YXNldC5yb3cpO1xyXG5cdFx0Y29uc3QgY29sdW1uOiBudW1iZXIgPSBwYXJzZUludChmaWVsZEJ1dHRvbi5kYXRhc2V0LmNvbHVtbik7XHJcblx0XHR0aGlzLm1ha2VNb3ZlKHJvdywgY29sdW1uKTtcclxuXHR9O1xyXG5cclxuXHRvbkdhbWVDb250aW51ZSA9ICgpID0+IHtcclxuXHRcdHRoaXMuZ2FtZUNvdW50Kys7XHJcblx0XHR0aGlzLnR1cm5Db3VudCA9IDA7XHJcblx0XHR0aGlzLmdhbWVCb2FyZC5jbGVhcigpO1xyXG5cdFx0dGhpcy5zZXRSZXNldEJ1dHRvbkZvY3VzKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcclxuXHRcdHRoaXMubWFrZU1vdmVDUFUoKTtcclxuXHR9O1xyXG5cclxuXHRvbkdhbWVRdWl0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcclxuXHRcdHRoaXMuZ2FtZU1lbnUuc2hvdygpO1xyXG5cdFx0dGhpcy5nYW1lTWVudS5zZXRGb2N1cygpO1xyXG5cdH07XHJcblxyXG5cdG9uUmVzdGFydEJ1dHRvbkNsaWNrID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZU1vZGFsLnNob3coKTtcclxuXHR9O1xyXG5cclxuXHRzZXRSZXNldEJ1dHRvbkZvY3VzID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5yZXN0YXJ0R2FtZUJ1dHRvbi5mb2N1cygpO1xyXG5cdH07XHJcblx0LyogaGFuZGxlcnMgZW5kICovXHJcblxyXG5cdC8qIGdhbWUgbWFuYWdlbWVudCAqL1xyXG5cdGluaXQgPSAobW9kZTogc3RyaW5nLCBwMU1hcms6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3QgcDJNYXJrOiBzdHJpbmcgPSBwMU1hcmsgPT09ICd4JyA/ICdvJyA6ICd4JztcclxuXHRcdGxldCBwMUxhYmVsOiBzdHJpbmcsIHBsYXllcjE6IFBsYXllcjtcclxuXHRcdGxldCBwMkxhYmVsOiBzdHJpbmcsIHBsYXllcjI6IFBsYXllcjtcclxuXHJcblx0XHQvKiBjcmVhdGVzIGxhYmVscyBhbmQgcGxheWVycyBkZXBlbmRpbmcgb24gZ2FtZSBtb2RlICovXHJcblx0XHRpZiAobW9kZSA9PT0gJ3NpbmdsZXBsYXllcicpIHtcclxuXHRcdFx0cDFMYWJlbCA9ICd5b3UnO1xyXG5cdFx0XHRwMkxhYmVsID0gJ2NwdSc7XHJcblx0XHRcdHBsYXllcjIgPSBuZXcgQ1BVUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwMUxhYmVsID0gJ3AxJztcclxuXHRcdFx0cDJMYWJlbCA9ICdwMic7XHJcblx0XHRcdHBsYXllcjIgPSBuZXcgUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XHJcblx0XHR9XHJcblx0XHRwbGF5ZXIxID0gbmV3IFBsYXllcihwMUxhYmVsLCBwMU1hcmspO1xyXG5cclxuXHRcdC8qIGFzc2lnbnMgY3JlYXRlZCBwbGF5ZXJzIHRvIHJpZ2h0IHNwb3RzICovXHJcblx0XHRpZiAocDFNYXJrID09PSAneCcpIHtcclxuXHRcdFx0dGhpcy54UGxheWVyID0gcGxheWVyMTtcclxuXHRcdFx0dGhpcy5vUGxheWVyID0gcGxheWVyMjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMueFBsYXllciA9IHBsYXllcjI7XHJcblx0XHRcdHRoaXMub1BsYXllciA9IHBsYXllcjE7XHJcblx0XHR9XHJcblxyXG5cdFx0LyogY3JlYXRlcyB0dXBsZSBvZiBwbGF5ZXJzLCB0byBjaG9vc2UgY3VycmVudCBwbGF5ZXIgZGVwZW5kaW5nIG9uIHR1cm4gY291bnRlciAqL1xyXG5cdFx0dGhpcy5wbGF5ZXJRdWV1ZSA9IFt0aGlzLnhQbGF5ZXIsIHRoaXMub1BsYXllcl07XHJcblx0XHR0aGlzLnJlc2V0Q291bnRlcnMoKTtcclxuXHJcblx0XHQvKiBzaG93cyBnYW1lIGNvbnRhaW5lciAqL1xyXG5cdFx0dGhpcy5nYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cclxuXHRcdHRoaXMuc3RhcnRHYW1lKCk7XHJcblx0fTtcclxuXHJcblx0c3RhcnRHYW1lID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0LyogaW5pdGlhbGl6ZSBzY29yZSBib2FyZCB3aXRoIGNyZWF0ZWQgcGxheWVycyAqL1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkLmluaXQodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XHJcblxyXG5cdFx0LyogaW5pdGlhbGl6ZSBnYW1lIGJvYXJkICovXHJcblx0XHR0aGlzLmdhbWVCb2FyZC5pbml0KCk7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XHJcblxyXG5cdFx0LyogaWYgc3RhcnRpbmcgcGxheWVyIGlzIENQVSB0aGVuIG1ha2UgYXV0byBtb3ZlICovXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblx0fTtcclxuXHJcblx0cmVzdGFydEdhbWUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiByZXNldCBjb3VudGVycyAqL1xyXG5cdFx0dGhpcy5yZXNldENvdW50ZXJzKCk7XHJcblxyXG5cdFx0LyogcmVzZXQgYm9hcmQgKi9cclxuXHRcdHRoaXMuZ2FtZUJvYXJkLmNsZWFyKCk7XHJcblxyXG5cdFx0LyogcmVzZXQgcGxheWVycyAqL1xyXG5cdFx0dGhpcy54UGxheWVyLnJlc2V0U2NvcmUoKTtcclxuXHRcdHRoaXMub1BsYXllci5yZXNldFNjb3JlKCk7XHJcblxyXG5cdFx0LyogdXBkYXRlIHNjb3JlIGJvYXJkICovXHJcblx0XHR0aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcclxuXHRcdHRoaXMudXBkYXRlVHVybkluZGljYXRvcigpO1xyXG5cclxuXHRcdC8qIHRvIG1ha2UgbW92ZSBpZiBmaXJzdCBwbGF5ZXIgaXMgQ1BVICovXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblxyXG5cdFx0Lyogc2V0IGZvY3VzIHRvIHJlc3RhcnQgYnV0dG9uICovXHJcblx0XHR0aGlzLnNldFJlc2V0QnV0dG9uRm9jdXMoKTtcclxuXHR9O1xyXG5cdC8qIGdhbWUgbWFuYWdlbWVudCBlbmQgKi9cclxuXHJcblx0LyogbWFraW5nIG1vdmUgcmVsYXRlZCAqL1xyXG5cdG1ha2VNb3ZlID0gKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0Lyogb24gZmllbGQgY2xpY2ssIGlmIGZpZWxkIGlzIGNoZWNrZWQgdGhlbiByZXR1cm4gZG9pbmcgbm90aGluZyAqL1xyXG5cdFx0aWYgKHRoaXMuZ2FtZUJvYXJkLmlzRmllbGRDaGVja2VkKHJvdywgY29sdW1uKSkgcmV0dXJuO1xyXG5cclxuXHRcdC8qIGNoZWNrcyBzZWxlY3RlZCBmaWVsZCAqL1xyXG5cdFx0dGhpcy5nYW1lQm9hcmQuY2hlY2tGaWVsZCh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS5nZXRNYXJrKCksIHJvdywgY29sdW1uKTtcclxuXHRcdHRoaXMuYWZ0ZXJNb3ZlKCk7XHJcblx0fTtcclxuXHJcblx0YWZ0ZXJNb3ZlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3Qgd2lubmluZ0ZpZWxkcyA9IHRoaXMuZ2FtZUJvYXJkLmdldFdpbm5pbmdGaWVsZHMoKTtcclxuXHRcdGlmICh3aW5uaW5nRmllbGRzICE9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMuZ2FtZVJlc3VsdE1vZGFsLnNob3codGhpcy5nZXRDdXJyZW50UGxheWVyKCkpO1xyXG5cdFx0XHR0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS51cGRhdGVTY29yZSgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZ2FtZUJvYXJkLmlzRnVsbCgpKSB7XHJcblx0XHRcdHRoaXMuZ2FtZVJlc3VsdE1vZGFsLnNob3coKTtcclxuXHRcdFx0dGhpcy50aWVzKys7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmluY3JlYXNlVHVybkNvdW50KCk7XHJcblx0XHR0aGlzLnVwZGF0ZVR1cm5JbmRpY2F0b3IoKTtcclxuXHJcblx0XHR0aGlzLm1ha2VNb3ZlQ1BVKCk7XHJcblx0fTtcclxuXHJcblx0bWFrZU1vdmVDUFUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHQvKiBhZnRlciBmaWVsZCBpcyBjaGVja2VkLCBjaGVja3MgaWYgY3VycmVudCBwbGF5ZXIgaXMgQ1BVIGFuZCBpZiBpcywgdGhlbiBtYWtlcyBhIG1vdmUgKi9cclxuXHRcdGlmICh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSBpbnN0YW5jZW9mIENQVVBsYXllcikge1xyXG5cdFx0XHR0aGlzLm1ha2VNb3ZlKC4uLih0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSBhcyBDUFVQbGF5ZXIpLm1ha2VNb3ZlKHRoaXMuZ2FtZUJvYXJkKSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvKiBtYWtpbmcgbW92ZSByZWxhdGVkIGVuZCAqL1xyXG5cclxuXHQvKiBwbGF5ZXIgc3RhdGVzICovXHJcblx0Z2V0Q3VycmVudFBsYXllck1hcmsgPSAoKTogc3RyaW5nID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS5nZXRNYXJrKCk7XHJcblx0fTtcclxuXHJcblx0Z2V0Q3VycmVudFBsYXllciA9ICgpOiBQbGF5ZXIgPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMucGxheWVyUXVldWVbKHRoaXMuZ2FtZUNvdW50ICsgdGhpcy50dXJuQ291bnQpICUgMl07XHJcblx0fTtcclxuXHQvKiBwbGF5ZXIgc3RhdGVzIGVuZCAqL1xyXG5cclxuXHQvKiBjb3VudGVycyBtYW5hZ2VtZW50ICovXHJcblx0cmVzZXRDb3VudGVycyA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMudGllcyA9IDA7XHJcblx0XHR0aGlzLnR1cm5Db3VudCA9IDA7XHJcblx0XHR0aGlzLmdhbWVDb3VudCA9IDA7XHJcblx0fTtcclxuXHJcblx0aW5jcmVhc2VUdXJuQ291bnQgPSAoKTogbnVtYmVyID0+IHtcclxuXHRcdHJldHVybiArK3RoaXMudHVybkNvdW50O1xyXG5cdH07XHJcblx0LyogY291bnRlcnMgbWFuYWdlbWVudCBlbmQgKi9cclxuXHJcblx0LyogdmlldyB1cGRhdGVzICovXHJcblx0dXBkYXRlVHVybkluZGljYXRvciA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMudHVybkluZGljYXRvci51cGRhdGUodGhpcy5nZXRDdXJyZW50UGxheWVyTWFyaygpKTtcclxuXHR9O1xyXG5cclxuXHR1cGRhdGVTY29yZUJvYXJkID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkLnVwZGF0ZVNjb3JlKHRoaXMueFBsYXllciwgdGhpcy5vUGxheWVyLCB0aGlzLnRpZXMpO1xyXG5cdH07XHJcblx0LyogdmlldyB1cGRhdGVzIGVuZCAqL1xyXG59XHJcbi8qIEdhbWUgY2xhc3MgZW5kICovXHJcblxyXG4vKiBQbGF5ZXIgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUGxheWVyIHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBtYXJrOiBzdHJpbmcsIHByaXZhdGUgc2NvcmU6IG51bWJlciA9IDApIHt9XHJcblxyXG5cdHRvU3RyaW5nID0gKCk6IHN0cmluZyA9PiBgJHt0aGlzLm1hcmt9ICgke3RoaXMubmFtZX0pYDtcclxuXHJcblx0Z2V0TmFtZSA9ICgpOiBzdHJpbmcgPT4gdGhpcy5uYW1lO1xyXG5cclxuXHRnZXRNYXJrID0gKCk6IHN0cmluZyA9PiB0aGlzLm1hcms7XHJcblxyXG5cdGdldFNjb3JlID0gKCk6IG51bWJlciA9PiB0aGlzLnNjb3JlO1xyXG5cclxuXHR1cGRhdGVTY29yZSA9ICgpOiBudW1iZXIgPT4gKyt0aGlzLnNjb3JlO1xyXG5cclxuXHRyZXNldFNjb3JlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zY29yZSA9IDA7XHJcblx0fTtcclxufVxyXG5cclxuY2xhc3MgQ1BVUGxheWVyIGV4dGVuZHMgUGxheWVyIHtcclxuXHRtYWtlTW92ZSA9IChib2FyZDogR2FtZUJvYXJkKTogW251bWJlciwgbnVtYmVyXSA9PiB7XHJcblx0XHRjb25zdCB3aW5uaW5nUGxheTogW251bWJlciwgbnVtYmVyXSA9IHRoaXMuZ2V0V2lubmluZ1BsYXkoYm9hcmQpO1xyXG5cdFx0aWYgKHdpbm5pbmdQbGF5ICE9PSBudWxsKSByZXR1cm4gd2lubmluZ1BsYXk7XHJcblxyXG5cdFx0Y29uc3QgYmxvY2tpbmdQbGF5OiBbbnVtYmVyLCBudW1iZXJdID0gdGhpcy5nZXRCbG9ja2luZ1BsYXkoYm9hcmQpO1xyXG5cdFx0aWYgKGJsb2NraW5nUGxheSAhPT0gbnVsbCkgcmV0dXJuIGJsb2NraW5nUGxheTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlUmFuZG9tTW92ZShib2FyZCk7XHJcblx0fTtcclxuXHJcblx0Z2V0V2lubmluZ1BsYXkgPSAoYm9hcmQ6IEdhbWVCb2FyZCk6IFtudW1iZXIsIG51bWJlcl0gfCBudWxsID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmdldFBsYXkoYm9hcmQsIHRoaXMuZ2V0TWFyaygpKTtcclxuXHR9O1xyXG5cclxuXHRnZXRCbG9ja2luZ1BsYXkgPSAoYm9hcmQ6IEdhbWVCb2FyZCk6IFtudW1iZXIsIG51bWJlcl0gfCBudWxsID0+IHtcclxuXHRcdGNvbnN0IGNvbXBhcmVUb01hcmsgPSB0aGlzLmdldE1hcmsoKSA9PT0gJ28nID8gJ3gnIDogJ28nO1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0UGxheShib2FyZCwgY29tcGFyZVRvTWFyayk7XHJcblx0fTtcclxuXHJcblx0Z2V0UGxheSA9IChib2FyZDogR2FtZUJvYXJkLCBjb21wYXJlVG9NYXJrOiBzdHJpbmcpOiBbbnVtYmVyLCBudW1iZXJdIHwgbnVsbCA9PiB7XHJcblx0XHRjb25zdCBib2FyZFNpemU6IG51bWJlciA9IGJvYXJkLkJPQVJEX1NJWkU7XHJcblx0XHQvKiBjaGVjayByb3dzICovXHJcblx0XHRmb3IgKGxldCByb3dOdW1iZXIgPSAwOyByb3dOdW1iZXIgPCBib2FyZFNpemU7IHJvd051bWJlcisrKSB7XHJcblx0XHRcdGNvbnN0IGZpZWxkc1JvdzogVHJpcGxlRmllbGQgPSBib2FyZC5nZXRSb3cocm93TnVtYmVyKTtcclxuXHRcdFx0bGV0IHNhbWVNYXJrQ291bnQ6IG51bWJlciA9IDA7XHJcblx0XHRcdGxldCBlbXB0eUZpZWxkQ291bnQ6IG51bWJlciA9IDA7XHJcblx0XHRcdGxldCBlbXB0eUZpZWxkOiBGaWVsZDtcclxuXHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHNSb3cpIHtcclxuXHRcdFx0XHRpZiAoZmllbGQuZ2V0TWFyaygpID09PSBjb21wYXJlVG9NYXJrKSBzYW1lTWFya0NvdW50Kys7XHJcblx0XHRcdFx0aWYgKGZpZWxkLmdldE1hcmsoKSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0ZW1wdHlGaWVsZENvdW50Kys7XHJcblx0XHRcdFx0XHRlbXB0eUZpZWxkID0gZmllbGQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc2FtZU1hcmtDb3VudCA9PT0gMiAmJiBlbXB0eUZpZWxkQ291bnQgPT09IDEpIHtcclxuXHRcdFx0XHRyZXR1cm4gW2VtcHR5RmllbGQuZ2V0Um93KCksIGVtcHR5RmllbGQuZ2V0Q29sdW1uKCldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyogY2hlY2sgY29sdW1ucyAqL1xyXG5cdFx0Zm9yIChsZXQgY29sTnVtYmVyID0gMDsgY29sTnVtYmVyIDwgYm9hcmRTaXplOyBjb2xOdW1iZXIrKykge1xyXG5cdFx0XHRjb25zdCBmaWVsZHNSb3c6IFRyaXBsZUZpZWxkID0gYm9hcmQuZ2V0Q29sdW1uKGNvbE51bWJlcik7XHJcblx0XHRcdGxldCBzYW1lTWFya0NvdW50OiBudW1iZXIgPSAwO1xyXG5cdFx0XHRsZXQgZW1wdHlGaWVsZENvdW50OiBudW1iZXIgPSAwO1xyXG5cdFx0XHRsZXQgZW1wdHlGaWVsZDogRmllbGQ7XHJcblx0XHRcdGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzUm93KSB7XHJcblx0XHRcdFx0aWYgKGZpZWxkLmdldE1hcmsoKSA9PT0gY29tcGFyZVRvTWFyaykgc2FtZU1hcmtDb3VudCsrO1xyXG5cdFx0XHRcdGlmIChmaWVsZC5nZXRNYXJrKCkgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdGVtcHR5RmllbGRDb3VudCsrO1xyXG5cdFx0XHRcdFx0ZW1wdHlGaWVsZCA9IGZpZWxkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHNhbWVNYXJrQ291bnQgPT09IDIgJiYgZW1wdHlGaWVsZENvdW50ID09PSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuIFtlbXB0eUZpZWxkLmdldFJvdygpLCBlbXB0eUZpZWxkLmdldENvbHVtbigpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qIGNoZWNrIGRpYWdvbmFscyAqL1xyXG5cdFx0Ly8gbGVmdCB0b3AgdG8gYm90dG9tIHJpZ2h0XHJcblx0XHRjb25zdCBsZWZ0VG9wRGlhZ29uYWw6IFRyaXBsZUZpZWxkID0gYm9hcmQuZ2V0TGVmdFRvcERpYWdvbmFsKCk7XHJcblx0XHRsZXQgc2FtZU1hcmtDb3VudDogbnVtYmVyID0gMDtcclxuXHRcdGxldCBlbXB0eUZpZWxkQ291bnQ6IG51bWJlciA9IDA7XHJcblx0XHRsZXQgZW1wdHlGaWVsZDogRmllbGQ7XHJcblx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIGxlZnRUb3BEaWFnb25hbCkge1xyXG5cdFx0XHRpZiAoZmllbGQuZ2V0TWFyaygpID09PSBjb21wYXJlVG9NYXJrKSBzYW1lTWFya0NvdW50Kys7XHJcblx0XHRcdGlmIChmaWVsZC5nZXRNYXJrKCkgPT09IG51bGwpIHtcclxuXHRcdFx0XHRlbXB0eUZpZWxkQ291bnQrKztcclxuXHRcdFx0XHRlbXB0eUZpZWxkID0gZmllbGQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2FtZU1hcmtDb3VudCA9PT0gMiAmJiBlbXB0eUZpZWxkQ291bnQgPT09IDEpIHtcclxuXHRcdFx0cmV0dXJuIFtlbXB0eUZpZWxkLmdldFJvdygpLCBlbXB0eUZpZWxkLmdldENvbHVtbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByaWdodCB0b3AgdG8gYm90dG9tIGxlZnRcclxuXHRcdGNvbnN0IHJpZ2h0VG9wRGlhZ29uYWw6IFRyaXBsZUZpZWxkID0gYm9hcmQuZ2V0UmlnaHRUb3BEaWFnb25hbCgpO1xyXG5cdFx0c2FtZU1hcmtDb3VudCA9IDA7XHJcblx0XHRlbXB0eUZpZWxkQ291bnQgPSAwO1xyXG5cdFx0ZW1wdHlGaWVsZCA9IG51bGw7XHJcblx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHJpZ2h0VG9wRGlhZ29uYWwpIHtcclxuXHRcdFx0aWYgKGZpZWxkLmdldE1hcmsoKSA9PT0gY29tcGFyZVRvTWFyaykgc2FtZU1hcmtDb3VudCsrO1xyXG5cdFx0XHRpZiAoZmllbGQuZ2V0TWFyaygpID09PSBudWxsKSB7XHJcblx0XHRcdFx0ZW1wdHlGaWVsZENvdW50Kys7XHJcblx0XHRcdFx0ZW1wdHlGaWVsZCA9IGZpZWxkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNhbWVNYXJrQ291bnQgPT09IDIgJiYgZW1wdHlGaWVsZENvdW50ID09PSAxKSB7XHJcblx0XHRcdHJldHVybiBbZW1wdHlGaWVsZC5nZXRSb3coKSwgZW1wdHlGaWVsZC5nZXRDb2x1bW4oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0bWFrZVJhbmRvbU1vdmUgPSAoYm9hcmQ6IEdhbWVCb2FyZCk6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xyXG5cdFx0Y29uc3QgYm9hcmRTaXplID0gYm9hcmQuQk9BUkRfU0laRTtcclxuXHRcdGxldCByb3csIGNvbHVtbjtcclxuXHRcdGRvIHtcclxuXHRcdFx0cm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYm9hcmRTaXplKTtcclxuXHRcdFx0Y29sdW1uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYm9hcmRTaXplKTtcclxuXHRcdH0gd2hpbGUgKGJvYXJkLmlzRmllbGRDaGVja2VkKHJvdywgY29sdW1uKSk7XHJcblx0XHRyZXR1cm4gW3JvdywgY29sdW1uXTtcclxuXHR9O1xyXG59XHJcbi8qIFBsYXllciBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIEdhbWVCb2FyZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBHYW1lQm9hcmQge1xyXG5cdEJPQVJEX1NJWkU6IG51bWJlciA9IDM7XHJcblx0cHJpdmF0ZSBib2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgYm9hcmQ6IEZpZWxkW11bXTtcclxuXHJcblx0Y29uc3RydWN0b3IoZ2FtZUJvYXJkSWQ6IHN0cmluZywgcHJpdmF0ZSBvbkZpZWxkQ2xpY2s6IChldjogRXZlbnQpID0+IHZvaWQsIHByaXZhdGUgZ2V0Q3VycmVudE1hcms6ICgpID0+IHN0cmluZykge1xyXG5cdFx0dGhpcy5ib2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbWVCb2FyZElkKTtcclxuXHR9XHJcblxyXG5cdC8qIG1hbmFnZW1lbnQgKi9cclxuXHRpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5ib2FyZCA9IFtbXSwgW10sIFtdXTtcclxuXHRcdC8qIGdldHMgYWxsIGJvYXJkIGZpZWxkcyAqL1xyXG5cdFx0Y29uc3QgYm9hcmRGaWVsZEVsZW1lbnRzOiBOb2RlTGlzdE9mPEhUTUxCdXR0b25FbGVtZW50PiA9IHRoaXMuYm9hcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYW1lLWJvYXJkX19maWVsZCcpO1xyXG5cclxuXHRcdC8qIGNyZWF0aW5nIGZpZWxkcyAqL1xyXG5cdFx0Zm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5ib2FyZC5sZW5ndGg7IHJvdysrKSB7XHJcblx0XHRcdGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd10ucHVzaChcclxuXHRcdFx0XHRcdG5ldyBGaWVsZChcclxuXHRcdFx0XHRcdFx0cm93LFxyXG5cdFx0XHRcdFx0XHRjb2x1bW4sXHJcblx0XHRcdFx0XHRcdGJvYXJkRmllbGRFbGVtZW50c1tjb2x1bW4gKyByb3cgKiB0aGlzLkJPQVJEX1NJWkVdLFxyXG5cdFx0XHRcdFx0XHQvLyBoYW5kbGVzIGZvciBmaWVsZChidXR0b25zKSBldmVudHNcclxuXHRcdFx0XHRcdFx0dGhpcy5vbkZpZWxkQ2xpY2ssXHJcblx0XHRcdFx0XHRcdHRoaXMuZ2V0Q3VycmVudE1hcmtcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y2xlYXIgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmJvYXJkLmxlbmd0aDsgcm93KyspIHtcclxuXHRcdFx0Zm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5CT0FSRF9TSVpFOyBjb2x1bW4rKykge1xyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dLmNsZWFyKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdC8qIG1hbmFnZW1lbnQgZW5kICovXHJcblxyXG5cdC8qIGNoZWNraW5nIHN0YXRlICovXHJcblx0LyogY2hlY2tzL21hcmtzIGZpZWxkIG9uIHBhc3NlZCBwb3NpdGlvbiAqL1xyXG5cdGNoZWNrRmllbGQgPSAobWFyazogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpID0+IHtcclxuXHRcdGlmIChyb3cgPCB0aGlzLmJvYXJkLmxlbmd0aCAmJiBjb2x1bW4gPCB0aGlzLmJvYXJkWzBdLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5jaGVjayhtYXJrKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRpc0ZpZWxkQ2hlY2tlZCA9IChyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5pc0NoZWNrZWQoKTtcclxuXHR9O1xyXG5cclxuXHRpc0Z1bGwgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5ib2FyZC5mbGF0KCkuZXZlcnkoZmllbGQgPT4gZmllbGQuaXNDaGVja2VkKCkpO1xyXG5cdH07XHJcblx0LyogY2hlY2tpbmcgc3RhdGUgZW5kICovXHJcblxyXG5cdC8qIHdpbm5pbmcgZmllbGRzIHNlYXJjaCAqL1xyXG5cdGdldFdpbm5pbmdGaWVsZHMgPSAoKTogVHJpcGxlRmllbGQgfCBudWxsID0+IHtcclxuXHRcdHJldHVybiB0aGlzLmNoZWNrUm93cygpIHx8IHRoaXMuY2hlY2tDb2x1bW5zKCkgfHwgdGhpcy5jaGVja0RpYWdvbmFsKCk7XHJcblx0fTtcclxuXHJcblx0Y2hlY2tSb3dzID0gKCk6IFRyaXBsZUZpZWxkIHwgbnVsbCA9PiB7XHJcblx0XHRmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLkJPQVJEX1NJWkU7IHJvdysrKSB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMF0uZ2V0TWFyaygpICE9PSBudWxsICYmXHJcblx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzBdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFtyb3ddWzFdLmdldE1hcmsoKSAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbcm93XVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbcm93XVsyXS5nZXRNYXJrKClcclxuXHRcdFx0KVxyXG5cdFx0XHRcdHJldHVybiBbXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkW3Jvd11bMF0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFtyb3ddWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbcm93XVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrQ29sdW1ucyA9ICgpOiBUcmlwbGVGaWVsZCB8IG51bGwgPT4ge1xyXG5cdFx0Zm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5CT0FSRF9TSVpFOyBjb2x1bW4rKykge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5ib2FyZFswXVtjb2x1bW5dLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxyXG5cdFx0XHRcdHRoaXMuYm9hcmRbMF1bY29sdW1uXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMV1bY29sdW1uXS5nZXRNYXJrKCkgJiZcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdW2NvbHVtbl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzJdW2NvbHVtbl0uZ2V0TWFyaygpXHJcblx0XHRcdClcclxuXHRcdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdFx0dGhpcy5ib2FyZFswXVtjb2x1bW5dLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHRcdHRoaXMuYm9hcmRbMV1bY29sdW1uXS5zZXRBc0dhbWVXaW5uaW5nKCksXHJcblx0XHRcdFx0XHR0aGlzLmJvYXJkWzJdW2NvbHVtbl0uc2V0QXNHYW1lV2lubmluZygpLFxyXG5cdFx0XHRcdF07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRjaGVja0RpYWdvbmFsID0gKCk6IFRyaXBsZUZpZWxkIHwgbnVsbCA9PiB7XHJcblx0XHQvKiB0b3AgbGVmdCwgbWlkZGxlLCBhbmQgYm90dG9tIHJpZ2h0ICovXHJcblx0XHRpZiAoXHJcblx0XHRcdHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpICE9PSBudWxsICYmXHJcblx0XHRcdHRoaXMuYm9hcmRbMF1bMF0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsyXVsyXS5nZXRNYXJrKClcclxuXHRcdClcclxuXHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzBdWzBdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzJdWzJdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XTtcclxuXHJcblx0XHQvKiB0b3AgcmlnaHQsIG1pZGRsZSwgYW5kIGJvdHRvbSBsZWZ0ICovXHJcblx0XHRpZiAoXHJcblx0XHRcdHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpICE9PSBudWxsICYmXHJcblx0XHRcdHRoaXMuYm9hcmRbMF1bMl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAmJlxyXG5cdFx0XHR0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFsyXVswXS5nZXRNYXJrKClcclxuXHRcdClcclxuXHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzBdWzJdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzFdWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XHR0aGlzLmJvYXJkWzJdWzBdLnNldEFzR2FtZVdpbm5pbmcoKSxcclxuXHRcdFx0XTtcclxuXHJcblx0XHQvKiBubyBmaWVsZHMgbWF0Y2hlZCAqL1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHQvKiB3aW5uaW5nIGZpZWxkcyBzZWFyY2ggZW5kICovXHJcblxyXG5cdC8qIGFjY2Vzc29ycyAqL1xyXG5cdGdldFJvdyA9IChyb3dOdW1iZXI6IG51bWJlcik6IFRyaXBsZUZpZWxkID0+IHtcclxuXHRcdHJldHVybiBbdGhpcy5ib2FyZFtyb3dOdW1iZXJdWzBdLCB0aGlzLmJvYXJkW3Jvd051bWJlcl1bMV0sIHRoaXMuYm9hcmRbcm93TnVtYmVyXVsyXV07XHJcblx0fTtcclxuXHJcblx0Z2V0Q29sdW1uID0gKGNvbHVtbk51bWJlcjogbnVtYmVyKTogVHJpcGxlRmllbGQgPT4ge1xyXG5cdFx0cmV0dXJuIFt0aGlzLmJvYXJkWzBdW2NvbHVtbk51bWJlcl0sIHRoaXMuYm9hcmRbMV1bY29sdW1uTnVtYmVyXSwgdGhpcy5ib2FyZFsyXVtjb2x1bW5OdW1iZXJdXTtcclxuXHR9O1xyXG5cclxuXHRnZXRMZWZ0VG9wRGlhZ29uYWwgPSAoKTogVHJpcGxlRmllbGQgPT4ge1xyXG5cdFx0cmV0dXJuIFt0aGlzLmJvYXJkWzBdWzBdLCB0aGlzLmJvYXJkWzFdWzFdLCB0aGlzLmJvYXJkWzJdWzJdXTtcclxuXHR9O1xyXG5cclxuXHRnZXRSaWdodFRvcERpYWdvbmFsID0gKCk6IFRyaXBsZUZpZWxkID0+IHtcclxuXHRcdHJldHVybiBbdGhpcy5ib2FyZFswXVsyXSwgdGhpcy5ib2FyZFsxXVsxXSwgdGhpcy5ib2FyZFsyXVswXV07XHJcblx0fTtcclxufVxyXG4vKiBHYW1lQm9hcmQgY2xhc3MgZW5kICovXHJcblxyXG4vKiBGaWVsZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBGaWVsZCB7XHJcblx0cHJpdmF0ZSBtYXJrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcm93OiBudW1iZXIsXHJcblx0XHRwcml2YXRlIGNvbHVtbjogbnVtYmVyLFxyXG5cdFx0cHJpdmF0ZSBmaWVsZEVsZW1lbnQ6IEhUTUxCdXR0b25FbGVtZW50LFxyXG5cdFx0cHJpdmF0ZSBnYW1lT25DbGlja0hhbmRsZXI6IChldjogRXZlbnQpID0+IHZvaWQsXHJcblx0XHRwcml2YXRlIGdldEN1cnJlbnRNYXJrOiAoKSA9PiBzdHJpbmdcclxuXHQpIHtcclxuXHRcdGlmICh0aGlzLmZpZWxkRWxlbWVudCkge1xyXG5cdFx0XHQvKiBjbGljayBoYW5kbGluZyAqL1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ2FtZU9uQ2xpY2tIYW5kbGVyKTtcclxuXHJcblx0XHRcdC8qIGhvdmVyL2ZvY3VzIGluIGhhbmRsaW5nICovXHJcblx0XHRcdHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuaGFuZGxlSG92ZXIpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5oYW5kbGVIb3Zlcik7XHJcblxyXG5cdFx0XHQvKiBob3Zlci9mb2N1cyBvdXQgaGFuZGxpbmcgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZUJsdXIpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuaGFuZGxlQmx1cik7XHJcblxyXG5cdFx0XHQvKiBzZXR0aW5nIGF0dHJpYnV0ZXMgKi9cclxuXHRcdFx0dGhpcy5maWVsZEVsZW1lbnQuZGF0YXNldC5yb3cgPSB0aGlzLnJvdy50b1N0cmluZygpO1xyXG5cdFx0XHR0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LmNvbHVtbiA9IHRoaXMuY29sdW1uLnRvU3RyaW5nKCk7XHJcblx0XHRcdHRoaXMuY2xlYXIoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qIGhhbmRsZXJzICovXHJcblx0LyogaG92ZXIvZm9jdXMgaW4gZmllbGQgaGFuZGxlICovXHJcblx0aGFuZGxlSG92ZXIgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCBjdXJyZW50UGxheWVyTWFyayA9IHRoaXMuZ2V0Q3VycmVudE1hcmsoKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicsIGN1cnJlbnRQbGF5ZXJNYXJrKTtcclxuXHR9O1xyXG5cclxuXHQvKiBob3Zlci9mb2N1cyBvdXQgZmllbGQgaGFuZGxlICovXHJcblx0aGFuZGxlQmx1ciA9ICgpID0+IHtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicpO1xyXG5cdH07XHJcblx0LyogaGFuZGxlcnMgZW5kICovXHJcblxyXG5cdC8qIG1hbmFnZW1lbnQgKi9cclxuXHRjbGVhciA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubWFyayA9IG51bGw7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUm93ICR7dGhpcy5yb3cgKyAxfSwgY29sdW1uICR7dGhpcy5jb2x1bW4gKyAxfSwgZW1wdHkgZmllbGRgKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1nYW1lLXdpbm5pbmcnKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXBsYXllcicpO1xyXG5cdFx0dGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1hcmsnKTtcclxuXHR9O1xyXG5cclxuXHRjaGVjayA9IChtYXJrOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubWFyayA9IG1hcms7XHJcblx0XHR0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUm93ICR7dGhpcy5yb3cgKyAxfSwgY29sdW1uICR7dGhpcy5jb2x1bW4gKyAxfSwgJHt0aGlzLm1hcmt9IG1hcmtgKTtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1tYXJrJywgbWFyayk7XHJcblx0fTtcclxuXHQvKiBtYW5hZ2VtZW50IGVuZCAqL1xyXG5cclxuXHQvKiBoZWxwZXJzICovXHJcblx0aXNDaGVja2VkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFyayAhPT0gbnVsbDtcclxuXHR9O1xyXG5cclxuXHRzZXRBc0dhbWVXaW5uaW5nID0gKCk6IEZpZWxkID0+IHtcclxuXHRcdHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1nYW1lLXdpbm5pbmcnLCAnJyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdC8qIGhlbHBlcnMgZW5kICovXHJcblxyXG5cdC8qIGdldHRlcnMgKi9cclxuXHRnZXRNYXJrID0gKCk6IHN0cmluZyB8IG51bGwgPT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFyaztcclxuXHR9O1xyXG5cclxuXHRnZXRSb3cgPSAoKTogbnVtYmVyID0+IHRoaXMucm93O1xyXG5cclxuXHRnZXRDb2x1bW4gPSAoKTogbnVtYmVyID0+IHRoaXMuY29sdW1uO1xyXG59XHJcbi8qIEZpZWxkIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogR2FtZU1lbnUgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgR2FtZU1lbnUge1xyXG5cdHByaXZhdGUgZ2FtZU1lbnU6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgbWVudUZvcm06IEhUTUxGb3JtRWxlbWVudDtcclxuXHRwcml2YXRlIGZvcm1PcHRpb25zOiBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+O1xyXG5cdHByaXZhdGUgZXJyb3JNc2c6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgZm9ybVN1Ym1pdEJ1dHRvbnM6IE5vZGVMaXN0T2Y8SFRNTEJ1dHRvbkVsZW1lbnQ+O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihnYW1lTWVudUlkOiBzdHJpbmcsIHByaXZhdGUgZ2FtZUluaXQ6IChtb2RlOiBzdHJpbmcsIHAxTWFyazogc3RyaW5nKSA9PiB2b2lkKSB7XHJcblx0XHR0aGlzLmdhbWVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYW1lTWVudUlkKTtcclxuXHRcdHRoaXMubWVudUZvcm0gPSB0aGlzLmdhbWVNZW51LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcclxuXHRcdHRoaXMuZm9ybU9wdGlvbnMgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpO1xyXG5cdFx0dGhpcy5lcnJvck1zZyA9IHRoaXMubWVudUZvcm0ucXVlcnlTZWxlY3RvcignW3JvbGU9XCJhbGVydFwiXScpO1xyXG5cdFx0dGhpcy5mb3JtU3VibWl0QnV0dG9ucyA9IHRoaXMubWVudUZvcm0ucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHR9XHJcblxyXG5cdGluaXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmZvcm1TdWJtaXRCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTWVudVN1Ym1pdEJ1dHRvbikpO1xyXG5cdH07XHJcblxyXG5cdC8qIGhhbmRsZXJzICovXHJcblx0aGFuZGxlTWVudVN1Ym1pdEJ1dHRvbiA9IChldjogRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQvKiBzaG93cyBlcnJvciBpZiBhbnkgZmllbGQgd2Fzbid0IHNlbGVjdGVkICovXHJcblx0XHRpZiAoIXRoaXMuaXNBbnlPcHRpb25TZWxlY3RlZCgpKSB7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cdFx0XHR0aGlzLmVycm9yTXNnLmlubmVyVGV4dCA9ICdQbGVhc2Ugc2VsZWN0IG1hcmsgZm9yIHBsYXllciAxJztcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5lcnJvck1zZy5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcblx0XHRcdHRoaXMuZXJyb3JNc2cuaW5uZXJUZXh0ID0gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyogcmV0cmlldmUgZ2FtZSBtb2RlIGZyb20gc3VibWl0IGJ1dHRvbiBjbGlja2VkIGFuZCBzZWxlY3RlZCBtYXJrIGZyb20gb3B0aW9ucyAqL1xyXG5cdFx0Y29uc3Qgc3VibWl0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCA9IGV2LnRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRcdGNvbnN0IGdhbWVNb2RlOiBzdHJpbmcgPSBzdWJtaXRCdG4uZGF0YXNldC5tb2RlO1xyXG5cdFx0Y29uc3QgcDFNYXJrOiBzdHJpbmcgPSB0aGlzLmdldENoZWNrZWRPcHRpb25NYXJrKCk7XHJcblxyXG5cdFx0LyogaGlkZXMgZ2FtZSBtZW51ICovXHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHJcblx0XHQvKiBhbmQgcnVucyBnYW1lIGluaXRpYWxpemF0aW9uICovXHJcblx0XHR0aGlzLmdhbWVJbml0KGdhbWVNb2RlLCBwMU1hcmspOyAvLyBtZXRob2QgZnJvbSB0aGUgcGFyZW50IEdhbWUgY2xhc3NcclxuXHR9O1xyXG5cdC8qIGhhbmRsZXJzIGVuZCAqL1xyXG5cdGlzQW55T3B0aW9uU2VsZWN0ZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmZvcm1PcHRpb25zKS5zb21lKG9wdGlvbiA9PiBvcHRpb24uY2hlY2tlZCk7XHJcblx0fTtcclxuXHJcblx0Z2V0Q2hlY2tlZE9wdGlvbk1hcmsgPSAoKTogc3RyaW5nID0+IHtcclxuXHRcdGZvciAoY29uc3Qgb3B0aW9uIG9mIHRoaXMuZm9ybU9wdGlvbnMpIHtcclxuXHRcdFx0aWYgKG9wdGlvbi5jaGVja2VkKSByZXR1cm4gb3B0aW9uLmRhdGFzZXQubWFyaztcclxuXHRcdH1cclxuXHRcdHJldHVybiAnJztcclxuXHR9O1xyXG5cdC8qIGhlbHBlcnMgKi9cclxuXHJcblx0LyogdmlldyB1cGRhdGUgKi9cclxuXHRzaG93ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuXHR9O1xyXG5cclxuXHRoaWRlID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lTWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHR9O1xyXG5cdC8qIHZpZXcgdXBkYXRlIGVuZCAqL1xyXG5cclxuXHQvKiBvdGhlciAqL1xyXG5cdHNldEZvY3VzID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5mb3JtT3B0aW9uc1swXT8uZm9jdXMoKTtcclxuXHR9O1xyXG59XHJcbi8qIEdhbWVNZW51IGNsYXNzIGVuZCAqL1xyXG5cclxuLyogVHVybkluZGljYXRvciBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBUdXJuSW5kaWNhdG9yIHtcclxuXHRwcml2YXRlIGN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBjdXJyZW50UGxheWVyTWFya0ljb246IEhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3VycmVudC1wbGF5ZXItbWFyaycpO1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0ljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3VycmVudC1wbGF5ZXItbWFyay1pY29uJyk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGUgPSAobWFyazogc3RyaW5nKSA9PiB7XHJcblx0XHR0aGlzLmN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudC5pbm5lclRleHQgPSBtYXJrO1xyXG5cdFx0dGhpcy5jdXJyZW50UGxheWVyTWFya0ljb24uc3JjID0gYC4vZGlzdC9hc3NldHMvaWNvbi0ke21hcmt9LnN2Z2A7XHJcblx0fTtcclxufVxyXG4vKiBUdXJuSW5kaWNhdG9yIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogU2NvcmVCb2FyZCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBTY29yZUJvYXJkIHtcclxuXHRwcml2YXRlIHNjb3JlQm9hcmRDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDFMYWJlbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBwMVNjb3JlOiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHAyTGFiZWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgcDJTY29yZTogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSB0aWVzU2NvcmU6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzY29yZUJvYXJkSWQ6IHN0cmluZykge1xyXG5cdFx0dGhpcy5zY29yZUJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzY29yZUJvYXJkSWQpO1xyXG5cdFx0dGhpcy5wMUxhYmVsID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMS1nYW1lLW5hbWUnKTtcclxuXHRcdHRoaXMucDFTY29yZSA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDEtZ2FtZS1zY29yZScpO1xyXG5cdFx0dGhpcy5wMkxhYmVsID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMi1nYW1lLW5hbWUnKTtcclxuXHRcdHRoaXMucDJTY29yZSA9IHRoaXMuc2NvcmVCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcDItZ2FtZS1zY29yZScpO1xyXG5cdFx0dGhpcy50aWVzU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI2dhbWUtdGllcycpO1xyXG5cdH1cclxuXHJcblx0aW5pdCA9IChwMTogUGxheWVyLCBwMjogUGxheWVyLCB0aWVzOiBudW1iZXIgPSAwKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnAxTGFiZWwuaW5uZXJUZXh0ID0gcDEudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMucDJMYWJlbC5pbm5lclRleHQgPSBwMi50b1N0cmluZygpO1xyXG5cdFx0dGhpcy51cGRhdGVTY29yZShwMSwgcDIsIHRpZXMpO1xyXG5cdH07XHJcblxyXG5cdHVwZGF0ZVNjb3JlID0gKHAxOiBQbGF5ZXIsIHAyOiBQbGF5ZXIsIHRpZXM6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5wMVNjb3JlLmlubmVyVGV4dCA9IHAxLmdldFNjb3JlKCkudG9TdHJpbmcoKTtcclxuXHRcdHRoaXMucDJTY29yZS5pbm5lclRleHQgPSBwMi5nZXRTY29yZSgpLnRvU3RyaW5nKCk7XHJcblx0XHR0aGlzLnRpZXNTY29yZS5pbm5lclRleHQgPSB0aWVzLnRvU3RyaW5nKCk7XHJcblx0fTtcclxufVxyXG4vKiBTY29yZUJvYXJkIGNsYXNzIGVuZCAqL1xyXG5cclxuLyogUmVzdWx0TW9kYWwgY2xhc3Mgc3RhcnQgKi9cclxuY2xhc3MgUmVzdWx0TW9kYWwge1xyXG5cdHByaXZhdGUgbW9kYWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgbW9kYWxNZXNzYWdlOiBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHRwcml2YXRlIG1vZGFsSGVhZGluZzogSFRNTEhlYWRpbmdFbGVtZW50O1xyXG5cdHByaXZhdGUgcXVpdEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBjb250aW51ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZ2FtZVF1aXRIYW5kbGluZzogKCkgPT4gdm9pZCwgcHJpdmF0ZSBnYW1lQ29udGludWVIYW5kbGluZzogKCkgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXJlc3VsdC1tb2RhbCcpO1xyXG5cdFx0dGhpcy5tb2RhbE1lc3NhZ2UgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fbWVzc2FnZScpO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faGVhZGluZycpO1xyXG5cclxuXHRcdC8qIHF1aXQgYnV0dG9uICovXHJcblx0XHR0aGlzLnF1aXRCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cInF1aXRcIl0nKTtcclxuXHRcdHRoaXMucXVpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUXVpdCk7XHJcblxyXG5cdFx0LyogY29udGludWUgYnV0dG9uICovXHJcblx0XHR0aGlzLmNvbnRpbnVlQnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJjb250aW51ZVwiXScpO1xyXG5cdFx0dGhpcy5jb250aW51ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ29udGludWUpO1xyXG5cdH1cclxuXHJcblx0LyogaGFuZGxlcnMgKi9cclxuXHRoYW5kbGVDb250aW51ZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuZ2FtZUNvbnRpbnVlSGFuZGxpbmcoKTtcclxuXHRcdHRoaXMuaGlkZSgpO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZVF1aXQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHRcdHRoaXMuZ2FtZVF1aXRIYW5kbGluZygpO1xyXG5cdH07XHJcblx0LyogaGFuZGxlcnMgZW5kICovXHJcblxyXG5cdC8qIHZpZXcgdXBkYXRlcyAqL1xyXG5cdHNob3cgPSAod2lubmVyOiBQbGF5ZXIgfCBudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdHRoaXMudXBkYXRlUmVzdWx0KHdpbm5lcik7XHJcblx0fTtcclxuXHJcblx0aGlkZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fTtcclxuXHJcblx0dXBkYXRlUmVzdWx0ID0gKHdpbm5lcjogUGxheWVyIHwgbnVsbCk6IHZvaWQgPT4ge1xyXG5cdFx0aWYgKHdpbm5lciA9PT0gbnVsbCkgdGhpcy5kaXNwbGF5VGllUmVzdWx0KCk7XHJcblx0XHRlbHNlIHRoaXMuZGlzcGxheVdpbm5lclJlc3VsdCh3aW5uZXIpO1xyXG5cclxuXHRcdHRoaXMucXVpdEJ1dHRvbi5mb2N1cygpO1xyXG5cdH07XHJcblxyXG5cdGRpc3BsYXlUaWVSZXN1bHQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS13aW5uZXInLCAndGllJyk7XHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5pbm5lckhUTUwgPSAnJztcclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmlubmVyVGV4dCA9ICdSb3VuZCB0aWVkJztcclxuXHR9O1xyXG5cclxuXHRkaXNwbGF5V2lubmVyUmVzdWx0ID0gKHdpbm5lcjogUGxheWVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS13aW5uZXInLCB3aW5uZXIuZ2V0TWFyaygpKTtcclxuXHJcblx0XHRjb25zdCBtZXNzYWdlID0gdGhpcy5nZXRSb3VuZE1lc3NhZ2Uod2lubmVyLmdldE5hbWUoKSk7XHJcblx0XHR0aGlzLm1vZGFsTWVzc2FnZS5pbm5lclRleHQgPSBtZXNzYWdlO1xyXG5cdFx0dGhpcy5zZXRSZXN1bHRIZWFkaW5nKHdpbm5lcik7XHJcblx0fTtcclxuXHJcblx0c2V0UmVzdWx0SGVhZGluZyA9ICh3aW5uZXI6IFBsYXllcik6IHZvaWQgPT4ge1xyXG5cdFx0LyogY2xlYXIgaGVhZGluZyBiZWZvcmUgc2V0dGluZyBtZXNzYWdlICovXHJcblx0XHR0aGlzLm1vZGFsSGVhZGluZy5pbm5lckhUTUwgPSAnJztcclxuXHRcdGNvbnN0IG1hcmsgPSB3aW5uZXIuZ2V0TWFyaygpO1xyXG5cclxuXHRcdC8qIHdpbm5pbmcgbWFyayBpY29uICovXHJcblx0XHRjb25zdCBpbWdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0XHRpbWdFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgYC4vZGlzdC9hc3NldHMvaWNvbi0ke21hcmt9LnN2Z2ApO1xyXG5cdFx0aW1nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FsdCcsICcnKTtcclxuXHJcblx0XHQvKiBoaWRkZW4gbWFyayBmb3Igc2NyZWVuIHJlYWRlcnMgKi9cclxuXHRcdGNvbnN0IGhpZGRlbk1hcmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRoaWRkZW5NYXJrLmNsYXNzTGlzdC5hZGQoJ3Zpc3VhbGx5LWhpZGRlbicpO1xyXG5cdFx0aGlkZGVuTWFyay5pbm5lclRleHQgPSBtYXJrO1xyXG5cclxuXHRcdC8qIG1lc3NhZ2UgYWZ0ZXIgaW1hZ2UgKi9cclxuXHRcdGNvbnN0IG1lc3NhZ2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ3Rha2VzIHRoZSByb3VuZCcpO1xyXG5cclxuXHRcdC8qIHNwYW4gY29udGFpbmVyIGZvciBoaWRkZW4gbWFyayBhbmQgbWVzc2FnZSB0ZXh0ICovXHJcblx0XHRjb25zdCBoZWFkaW5nU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdGhlYWRpbmdTcGFuLmFwcGVuZENoaWxkKGhpZGRlbk1hcmspO1xyXG5cdFx0aGVhZGluZ1NwYW4uYXBwZW5kQ2hpbGQobWVzc2FnZVRleHQpO1xyXG5cclxuXHRcdHRoaXMubW9kYWxIZWFkaW5nLmFwcGVuZENoaWxkKGltZ0VsZW1lbnQpO1xyXG5cdFx0dGhpcy5tb2RhbEhlYWRpbmcuYXBwZW5kQ2hpbGQoaGVhZGluZ1NwYW4pO1xyXG5cdH07XHJcblx0LyogdmlldyB1cGRhdGVzIGVuZCAqL1xyXG5cclxuXHQvKiBoZWxwZXJzICovXHJcblx0Z2V0Um91bmRNZXNzYWdlID0gKHBsYXllck5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcblx0XHRsZXQgbWVzc2FnZTtcclxuXHRcdHN3aXRjaCAocGxheWVyTmFtZSkge1xyXG5cdFx0XHRjYXNlICdwMSc6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICdQbGF5ZXIgMSB3aW5zISc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3AyJzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ1BsYXllciAyIHdpbnMhJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAneW91JzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ1lvdSB3b24hJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnY3B1JzpcclxuXHRcdFx0XHRtZXNzYWdlID0gJ09oIG5vLCB5b3UgbG9zdC4uLic7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0bWVzc2FnZSA9ICcnO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0fTtcclxufVxyXG4vKiBSZXN1bHRNb2RhbCBjbGFzcyBlbmQgKi9cclxuXHJcbi8qIFJlc3RhcnRNb2RhbCBjbGFzcyBzdGFydCAqL1xyXG5jbGFzcyBSZXN0YXJ0TW9kYWwge1xyXG5cdHByaXZhdGUgbW9kYWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhdGUgY2FuY2VsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHRwcml2YXRlIHJlc3RhcnRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGdhbWVSZXN0YXJ0SGFuZGxpbmc6ICgpID0+IHZvaWQsIHByaXZhdGUgY2FuY2VsU3VwcG9ydDogKCkgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXJlc2V0LW1vZGFsJyk7XHJcblxyXG5cdFx0LyogY2FuY2VsIGJ1dHRvbiAqL1xyXG5cdFx0dGhpcy5jYW5jZWxCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cImNhbmNlbFwiXScpO1xyXG5cdFx0dGhpcy5jYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNhbmNlbCk7XHJcblxyXG5cdFx0LyogcmVzdGFydCBidXR0b24gKi9cclxuXHRcdHRoaXMucmVzdGFydEJ1dHRvbiA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYWN0aW9uPVwicmVzdGFydFwiXScpO1xyXG5cdFx0dGhpcy5yZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVSZXN0YXJ0KTtcclxuXHR9XHJcblxyXG5cdC8qIGhhbmRsZXJzICovXHJcblx0aGFuZGxlQ2FuY2VsID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0XHR0aGlzLmNhbmNlbFN1cHBvcnQoKTtcclxuXHR9O1xyXG5cclxuXHRoYW5kbGVSZXN0YXJ0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5nYW1lUmVzdGFydEhhbmRsaW5nKCk7XHJcblx0XHR0aGlzLmhpZGUoKTtcclxuXHR9O1xyXG5cdC8qIGhhbmRsZXJzIGVuZCAqL1xyXG5cclxuXHQvKiB2aWV3IHVwZGF0ZXMgKi9cclxuXHRzaG93ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdHRoaXMuY2FuY2VsQnV0dG9uLmZvY3VzKCk7XHJcblx0fTtcclxuXHJcblx0aGlkZSA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fTtcclxuXHQvKiB2aWV3IHVwZGF0ZXMgZW5kICovXHJcbn1cclxuLyogUmVzdGFydE1vZGFsIGNsYXNzIHN0YXJ0ICovXHJcbi8qIGNsYXNzZXMgZW5kICovXHJcblxyXG4vKiBnYW1lIG9iamVjdHMgKi9cclxuY29uc3QgdGljVGFjVG9lR2FtZTogR2FtZSA9IG5ldyBHYW1lKCk7XHJcbi8qIGdhbWUgb2JqZWN0cyBlbmQgKi9cclxuIiwiLyogdHlwZXMgZW5kICovXG4vKiBjbGFzc2VzICovXG4vKiBHYW1lIGNsYXNzIHN0YXJ0ICovXG5jbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyogZ2FtZSBzdGF0ZXMgKi9cbiAgICAgICAgdGhpcy50aWVzID0gMDtcbiAgICAgICAgdGhpcy5nYW1lQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnR1cm5Db3VudCA9IDA7XG4gICAgICAgIC8qIGhhbmRsZXJzICovXG4gICAgICAgIHRoaXMub25GaWVsZENsaWNrID0gKGV2KSA9PiB7XG4gICAgICAgICAgICAvKiByZXRyaWV2ZSByb3cgYW5kIGNvbHVtbiBmcm9tIGNsaWNrZWQgYnV0dG9uIGFuZCBtYWtlIG1vdmUgKi9cbiAgICAgICAgICAgIGNvbnN0IGZpZWxkQnV0dG9uID0gZXYudGFyZ2V0O1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZmllbGRCdXR0b24uZGF0YXNldC5yb3cpO1xuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gcGFyc2VJbnQoZmllbGRCdXR0b24uZGF0YXNldC5jb2x1bW4pO1xuICAgICAgICAgICAgdGhpcy5tYWtlTW92ZShyb3csIGNvbHVtbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25HYW1lQ29udGludWUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdhbWVDb3VudCsrO1xuICAgICAgICAgICAgdGhpcy50dXJuQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzZXRCdXR0b25Gb2N1cygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZUJvYXJkKCk7XG4gICAgICAgICAgICB0aGlzLm1ha2VNb3ZlQ1BVKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25HYW1lUXVpdCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZUJvYXJkLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmdhbWVNZW51LnNob3coKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuc2V0Rm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblJlc3RhcnRCdXR0b25DbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydEdhbWVNb2RhbC5zaG93KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0UmVzZXRCdXR0b25Gb2N1cyA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydEdhbWVCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogaGFuZGxlcnMgZW5kICovXG4gICAgICAgIC8qIGdhbWUgbWFuYWdlbWVudCAqL1xuICAgICAgICB0aGlzLmluaXQgPSAobW9kZSwgcDFNYXJrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwMk1hcmsgPSBwMU1hcmsgPT09ICd4JyA/ICdvJyA6ICd4JztcbiAgICAgICAgICAgIGxldCBwMUxhYmVsLCBwbGF5ZXIxO1xuICAgICAgICAgICAgbGV0IHAyTGFiZWwsIHBsYXllcjI7XG4gICAgICAgICAgICAvKiBjcmVhdGVzIGxhYmVscyBhbmQgcGxheWVycyBkZXBlbmRpbmcgb24gZ2FtZSBtb2RlICovXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3NpbmdsZXBsYXllcicpIHtcbiAgICAgICAgICAgICAgICBwMUxhYmVsID0gJ3lvdSc7XG4gICAgICAgICAgICAgICAgcDJMYWJlbCA9ICdjcHUnO1xuICAgICAgICAgICAgICAgIHBsYXllcjIgPSBuZXcgQ1BVUGxheWVyKHAyTGFiZWwsIHAyTWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwMUxhYmVsID0gJ3AxJztcbiAgICAgICAgICAgICAgICBwMkxhYmVsID0gJ3AyJztcbiAgICAgICAgICAgICAgICBwbGF5ZXIyID0gbmV3IFBsYXllcihwMkxhYmVsLCBwMk1hcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxheWVyMSA9IG5ldyBQbGF5ZXIocDFMYWJlbCwgcDFNYXJrKTtcbiAgICAgICAgICAgIC8qIGFzc2lnbnMgY3JlYXRlZCBwbGF5ZXJzIHRvIHJpZ2h0IHNwb3RzICovXG4gICAgICAgICAgICBpZiAocDFNYXJrID09PSAneCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhQbGF5ZXIgPSBwbGF5ZXIxO1xuICAgICAgICAgICAgICAgIHRoaXMub1BsYXllciA9IHBsYXllcjI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhQbGF5ZXIgPSBwbGF5ZXIyO1xuICAgICAgICAgICAgICAgIHRoaXMub1BsYXllciA9IHBsYXllcjE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjcmVhdGVzIHR1cGxlIG9mIHBsYXllcnMsIHRvIGNob29zZSBjdXJyZW50IHBsYXllciBkZXBlbmRpbmcgb24gdHVybiBjb3VudGVyICovXG4gICAgICAgICAgICB0aGlzLnBsYXllclF1ZXVlID0gW3RoaXMueFBsYXllciwgdGhpcy5vUGxheWVyXTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRDb3VudGVycygpO1xuICAgICAgICAgICAgLyogc2hvd3MgZ2FtZSBjb250YWluZXIgKi9cbiAgICAgICAgICAgIHRoaXMuZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRHYW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgLyogaW5pdGlhbGl6ZSBzY29yZSBib2FyZCB3aXRoIGNyZWF0ZWQgcGxheWVycyAqL1xuICAgICAgICAgICAgdGhpcy5zY29yZUJvYXJkLmluaXQodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XG4gICAgICAgICAgICAvKiBpbml0aWFsaXplIGdhbWUgYm9hcmQgKi9cbiAgICAgICAgICAgIHRoaXMuZ2FtZUJvYXJkLmluaXQoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVybkluZGljYXRvcigpO1xuICAgICAgICAgICAgLyogaWYgc3RhcnRpbmcgcGxheWVyIGlzIENQVSB0aGVuIG1ha2UgYXV0byBtb3ZlICovXG4gICAgICAgICAgICB0aGlzLm1ha2VNb3ZlQ1BVKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzdGFydEdhbWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAvKiByZXNldCBjb3VudGVycyAqL1xuICAgICAgICAgICAgdGhpcy5yZXNldENvdW50ZXJzKCk7XG4gICAgICAgICAgICAvKiByZXNldCBib2FyZCAqL1xuICAgICAgICAgICAgdGhpcy5nYW1lQm9hcmQuY2xlYXIoKTtcbiAgICAgICAgICAgIC8qIHJlc2V0IHBsYXllcnMgKi9cbiAgICAgICAgICAgIHRoaXMueFBsYXllci5yZXNldFNjb3JlKCk7XG4gICAgICAgICAgICB0aGlzLm9QbGF5ZXIucmVzZXRTY29yZSgpO1xuICAgICAgICAgICAgLyogdXBkYXRlIHNjb3JlIGJvYXJkICovXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVybkluZGljYXRvcigpO1xuICAgICAgICAgICAgLyogdG8gbWFrZSBtb3ZlIGlmIGZpcnN0IHBsYXllciBpcyBDUFUgKi9cbiAgICAgICAgICAgIHRoaXMubWFrZU1vdmVDUFUoKTtcbiAgICAgICAgICAgIC8qIHNldCBmb2N1cyB0byByZXN0YXJ0IGJ1dHRvbiAqL1xuICAgICAgICAgICAgdGhpcy5zZXRSZXNldEJ1dHRvbkZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qIGdhbWUgbWFuYWdlbWVudCBlbmQgKi9cbiAgICAgICAgLyogbWFraW5nIG1vdmUgcmVsYXRlZCAqL1xuICAgICAgICB0aGlzLm1ha2VNb3ZlID0gKHJvdywgY29sdW1uKSA9PiB7XG4gICAgICAgICAgICAvKiBvbiBmaWVsZCBjbGljaywgaWYgZmllbGQgaXMgY2hlY2tlZCB0aGVuIHJldHVybiBkb2luZyBub3RoaW5nICovXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lQm9hcmQuaXNGaWVsZENoZWNrZWQocm93LCBjb2x1bW4pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qIGNoZWNrcyBzZWxlY3RlZCBmaWVsZCAqL1xuICAgICAgICAgICAgdGhpcy5nYW1lQm9hcmQuY2hlY2tGaWVsZCh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKS5nZXRNYXJrKCksIHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJNb3ZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWZ0ZXJNb3ZlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2lubmluZ0ZpZWxkcyA9IHRoaXMuZ2FtZUJvYXJkLmdldFdpbm5pbmdGaWVsZHMoKTtcbiAgICAgICAgICAgIGlmICh3aW5uaW5nRmllbGRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lUmVzdWx0TW9kYWwuc2hvdyh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDdXJyZW50UGxheWVyKCkudXBkYXRlU2NvcmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lQm9hcmQuaXNGdWxsKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVSZXN1bHRNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWVzKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVR1cm5Db3VudCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB0aGlzLm1ha2VNb3ZlQ1BVKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFrZU1vdmVDUFUgPSAoKSA9PiB7XG4gICAgICAgICAgICAvKiBhZnRlciBmaWVsZCBpcyBjaGVja2VkLCBjaGVja3MgaWYgY3VycmVudCBwbGF5ZXIgaXMgQ1BVIGFuZCBpZiBpcywgdGhlbiBtYWtlcyBhIG1vdmUgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSBpbnN0YW5jZW9mIENQVVBsYXllcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWFrZU1vdmUoLi4udGhpcy5nZXRDdXJyZW50UGxheWVyKCkubWFrZU1vdmUodGhpcy5nYW1lQm9hcmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyogbWFraW5nIG1vdmUgcmVsYXRlZCBlbmQgKi9cbiAgICAgICAgLyogcGxheWVyIHN0YXRlcyAqL1xuICAgICAgICB0aGlzLmdldEN1cnJlbnRQbGF5ZXJNYXJrID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFBsYXllcigpLmdldE1hcmsoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDdXJyZW50UGxheWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyUXVldWVbKHRoaXMuZ2FtZUNvdW50ICsgdGhpcy50dXJuQ291bnQpICUgMl07XG4gICAgICAgIH07XG4gICAgICAgIC8qIHBsYXllciBzdGF0ZXMgZW5kICovXG4gICAgICAgIC8qIGNvdW50ZXJzIG1hbmFnZW1lbnQgKi9cbiAgICAgICAgdGhpcy5yZXNldENvdW50ZXJzID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aWVzID0gMDtcbiAgICAgICAgICAgIHRoaXMudHVybkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZ2FtZUNvdW50ID0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbmNyZWFzZVR1cm5Db3VudCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiArK3RoaXMudHVybkNvdW50O1xuICAgICAgICB9O1xuICAgICAgICAvKiBjb3VudGVycyBtYW5hZ2VtZW50IGVuZCAqL1xuICAgICAgICAvKiB2aWV3IHVwZGF0ZXMgKi9cbiAgICAgICAgdGhpcy51cGRhdGVUdXJuSW5kaWNhdG9yID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50dXJuSW5kaWNhdG9yLnVwZGF0ZSh0aGlzLmdldEN1cnJlbnRQbGF5ZXJNYXJrKCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlQm9hcmQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjb3JlQm9hcmQudXBkYXRlU2NvcmUodGhpcy54UGxheWVyLCB0aGlzLm9QbGF5ZXIsIHRoaXMudGllcyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qIGdhbWUgbWVudSAqL1xuICAgICAgICB0aGlzLmdhbWVNZW51ID0gbmV3IEdhbWVNZW51KCcjZ2FtZS1tZW51JywgdGhpcy5pbml0KTtcbiAgICAgICAgdGhpcy5nYW1lTWVudS5pbml0KCk7XG4gICAgICAgIC8qIGNvbnRhaW5lciAqL1xuICAgICAgICB0aGlzLmdhbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGljLXRhYy10b2UtZ2FtZScpO1xuICAgICAgICAvKiBnYW1lIGJvYXJkICovXG4gICAgICAgIHRoaXMuZ2FtZUJvYXJkID0gbmV3IEdhbWVCb2FyZCgnI2dhbWUtYm9hcmQnLCB0aGlzLm9uRmllbGRDbGljaywgdGhpcy5nZXRDdXJyZW50UGxheWVyTWFyayk7XG4gICAgICAgIC8qIHNjb3JlIGJvYXJkIGFuZCBjdXJyZW50J3MgcGxheWVyIHR1cm4gKi9cbiAgICAgICAgdGhpcy5zY29yZUJvYXJkID0gbmV3IFNjb3JlQm9hcmQoJyNzY29yZS1ib2FyZCcpO1xuICAgICAgICB0aGlzLnR1cm5JbmRpY2F0b3IgPSBuZXcgVHVybkluZGljYXRvcigpO1xuICAgICAgICAvKiByZXN0YXJ0IGJ1dHRvbiAqL1xuICAgICAgICB0aGlzLnJlc3RhcnRHYW1lQnV0dG9uID0gdGhpcy5nYW1lQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNyZXN0YXJ0LWdhbWUtYnV0dG9uJyk7XG4gICAgICAgIHRoaXMucmVzdGFydEdhbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uUmVzdGFydEJ1dHRvbkNsaWNrKTtcbiAgICAgICAgLyogbW9kYWxzICovXG4gICAgICAgIHRoaXMuZ2FtZVJlc3VsdE1vZGFsID0gbmV3IFJlc3VsdE1vZGFsKHRoaXMub25HYW1lUXVpdCwgdGhpcy5vbkdhbWVDb250aW51ZSk7XG4gICAgICAgIHRoaXMucmVzdGFydEdhbWVNb2RhbCA9IG5ldyBSZXN0YXJ0TW9kYWwodGhpcy5yZXN0YXJ0R2FtZSwgdGhpcy5zZXRSZXNldEJ1dHRvbkZvY3VzKTtcbiAgICB9XG59XG4vKiBHYW1lIGNsYXNzIGVuZCAqL1xuLyogUGxheWVyIGNsYXNzIHN0YXJ0ICovXG5jbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIG1hcmssIHNjb3JlID0gMCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm1hcmsgPSBtYXJrO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgICAgIHRoaXMudG9TdHJpbmcgPSAoKSA9PiBgJHt0aGlzLm1hcmt9ICgke3RoaXMubmFtZX0pYDtcbiAgICAgICAgdGhpcy5nZXROYW1lID0gKCkgPT4gdGhpcy5uYW1lO1xuICAgICAgICB0aGlzLmdldE1hcmsgPSAoKSA9PiB0aGlzLm1hcms7XG4gICAgICAgIHRoaXMuZ2V0U2NvcmUgPSAoKSA9PiB0aGlzLnNjb3JlO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlID0gKCkgPT4gKyt0aGlzLnNjb3JlO1xuICAgICAgICB0aGlzLnJlc2V0U2NvcmUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBDUFVQbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1ha2VNb3ZlID0gKGJvYXJkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aW5uaW5nUGxheSA9IHRoaXMuZ2V0V2lubmluZ1BsYXkoYm9hcmQpO1xuICAgICAgICAgICAgaWYgKHdpbm5pbmdQbGF5ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5uaW5nUGxheTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NraW5nUGxheSA9IHRoaXMuZ2V0QmxvY2tpbmdQbGF5KGJvYXJkKTtcbiAgICAgICAgICAgIGlmIChibG9ja2luZ1BsYXkgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NraW5nUGxheTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VSYW5kb21Nb3ZlKGJvYXJkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRXaW5uaW5nUGxheSA9IChib2FyZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGxheShib2FyZCwgdGhpcy5nZXRNYXJrKCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldEJsb2NraW5nUGxheSA9IChib2FyZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcGFyZVRvTWFyayA9IHRoaXMuZ2V0TWFyaygpID09PSAnbycgPyAneCcgOiAnbyc7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQbGF5KGJvYXJkLCBjb21wYXJlVG9NYXJrKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRQbGF5ID0gKGJvYXJkLCBjb21wYXJlVG9NYXJrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2FyZFNpemUgPSBib2FyZC5CT0FSRF9TSVpFO1xuICAgICAgICAgICAgLyogY2hlY2sgcm93cyAqL1xuICAgICAgICAgICAgZm9yIChsZXQgcm93TnVtYmVyID0gMDsgcm93TnVtYmVyIDwgYm9hcmRTaXplOyByb3dOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkc1JvdyA9IGJvYXJkLmdldFJvdyhyb3dOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGxldCBzYW1lTWFya0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgZW1wdHlGaWVsZENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgZW1wdHlGaWVsZDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkc1Jvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuZ2V0TWFyaygpID09PSBjb21wYXJlVG9NYXJrKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2FtZU1hcmtDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuZ2V0TWFyaygpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eUZpZWxkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5RmllbGQgPSBmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2FtZU1hcmtDb3VudCA9PT0gMiAmJiBlbXB0eUZpZWxkQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlbXB0eUZpZWxkLmdldFJvdygpLCBlbXB0eUZpZWxkLmdldENvbHVtbigpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjaGVjayBjb2x1bW5zICovXG4gICAgICAgICAgICBmb3IgKGxldCBjb2xOdW1iZXIgPSAwOyBjb2xOdW1iZXIgPCBib2FyZFNpemU7IGNvbE51bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRzUm93ID0gYm9hcmQuZ2V0Q29sdW1uKGNvbE51bWJlcik7XG4gICAgICAgICAgICAgICAgbGV0IHNhbWVNYXJrQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBlbXB0eUZpZWxkQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBlbXB0eUZpZWxkO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5nZXRNYXJrKCkgPT09IGNvbXBhcmVUb01hcmspXG4gICAgICAgICAgICAgICAgICAgICAgICBzYW1lTWFya0NvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5nZXRNYXJrKCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5RmllbGRDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlGaWVsZCA9IGZpZWxkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzYW1lTWFya0NvdW50ID09PSAyICYmIGVtcHR5RmllbGRDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2VtcHR5RmllbGQuZ2V0Um93KCksIGVtcHR5RmllbGQuZ2V0Q29sdW1uKCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGNoZWNrIGRpYWdvbmFscyAqL1xuICAgICAgICAgICAgLy8gbGVmdCB0b3AgdG8gYm90dG9tIHJpZ2h0XG4gICAgICAgICAgICBjb25zdCBsZWZ0VG9wRGlhZ29uYWwgPSBib2FyZC5nZXRMZWZ0VG9wRGlhZ29uYWwoKTtcbiAgICAgICAgICAgIGxldCBzYW1lTWFya0NvdW50ID0gMDtcbiAgICAgICAgICAgIGxldCBlbXB0eUZpZWxkQ291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGVtcHR5RmllbGQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGxlZnRUb3BEaWFnb25hbCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5nZXRNYXJrKCkgPT09IGNvbXBhcmVUb01hcmspXG4gICAgICAgICAgICAgICAgICAgIHNhbWVNYXJrQ291bnQrKztcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQuZ2V0TWFyaygpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5RmllbGRDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBlbXB0eUZpZWxkID0gZmllbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNhbWVNYXJrQ291bnQgPT09IDIgJiYgZW1wdHlGaWVsZENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtlbXB0eUZpZWxkLmdldFJvdygpLCBlbXB0eUZpZWxkLmdldENvbHVtbigpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJpZ2h0IHRvcCB0byBib3R0b20gbGVmdFxuICAgICAgICAgICAgY29uc3QgcmlnaHRUb3BEaWFnb25hbCA9IGJvYXJkLmdldFJpZ2h0VG9wRGlhZ29uYWwoKTtcbiAgICAgICAgICAgIHNhbWVNYXJrQ291bnQgPSAwO1xuICAgICAgICAgICAgZW1wdHlGaWVsZENvdW50ID0gMDtcbiAgICAgICAgICAgIGVtcHR5RmllbGQgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiByaWdodFRvcERpYWdvbmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLmdldE1hcmsoKSA9PT0gY29tcGFyZVRvTWFyaylcbiAgICAgICAgICAgICAgICAgICAgc2FtZU1hcmtDb3VudCsrO1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5nZXRNYXJrKCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlGaWVsZENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5RmllbGQgPSBmaWVsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2FtZU1hcmtDb3VudCA9PT0gMiAmJiBlbXB0eUZpZWxkQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2VtcHR5RmllbGQuZ2V0Um93KCksIGVtcHR5RmllbGQuZ2V0Q29sdW1uKCldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFrZVJhbmRvbU1vdmUgPSAoYm9hcmQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvYXJkU2l6ZSA9IGJvYXJkLkJPQVJEX1NJWkU7XG4gICAgICAgICAgICBsZXQgcm93LCBjb2x1bW47XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgcm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYm9hcmRTaXplKTtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZFNpemUpO1xuICAgICAgICAgICAgfSB3aGlsZSAoYm9hcmQuaXNGaWVsZENoZWNrZWQocm93LCBjb2x1bW4pKTtcbiAgICAgICAgICAgIHJldHVybiBbcm93LCBjb2x1bW5dO1xuICAgICAgICB9O1xuICAgIH1cbn1cbi8qIFBsYXllciBjbGFzcyBlbmQgKi9cbi8qIEdhbWVCb2FyZCBjbGFzcyBzdGFydCAqL1xuY2xhc3MgR2FtZUJvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lQm9hcmRJZCwgb25GaWVsZENsaWNrLCBnZXRDdXJyZW50TWFyaykge1xuICAgICAgICB0aGlzLm9uRmllbGRDbGljayA9IG9uRmllbGRDbGljaztcbiAgICAgICAgdGhpcy5nZXRDdXJyZW50TWFyayA9IGdldEN1cnJlbnRNYXJrO1xuICAgICAgICB0aGlzLkJPQVJEX1NJWkUgPSAzO1xuICAgICAgICAvKiBtYW5hZ2VtZW50ICovXG4gICAgICAgIHRoaXMuaW5pdCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQgPSBbW10sIFtdLCBbXV07XG4gICAgICAgICAgICAvKiBnZXRzIGFsbCBib2FyZCBmaWVsZHMgKi9cbiAgICAgICAgICAgIGNvbnN0IGJvYXJkRmllbGRFbGVtZW50cyA9IHRoaXMuYm9hcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYW1lLWJvYXJkX19maWVsZCcpO1xuICAgICAgICAgICAgLyogY3JlYXRpbmcgZmllbGRzICovXG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmJvYXJkLmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCB0aGlzLkJPQVJEX1NJWkU7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcm93XS5wdXNoKG5ldyBGaWVsZChyb3csIGNvbHVtbiwgYm9hcmRGaWVsZEVsZW1lbnRzW2NvbHVtbiArIHJvdyAqIHRoaXMuQk9BUkRfU0laRV0sIFxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGVzIGZvciBmaWVsZChidXR0b25zKSBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZpZWxkQ2xpY2ssIHRoaXMuZ2V0Q3VycmVudE1hcmspKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2xlYXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmJvYXJkLmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCB0aGlzLkJPQVJEX1NJWkU7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiBtYW5hZ2VtZW50IGVuZCAqL1xuICAgICAgICAvKiBjaGVja2luZyBzdGF0ZSAqL1xuICAgICAgICAvKiBjaGVja3MvbWFya3MgZmllbGQgb24gcGFzc2VkIHBvc2l0aW9uICovXG4gICAgICAgIHRoaXMuY2hlY2tGaWVsZCA9IChtYXJrLCByb3csIGNvbHVtbikgPT4ge1xuICAgICAgICAgICAgaWYgKHJvdyA8IHRoaXMuYm9hcmQubGVuZ3RoICYmIGNvbHVtbiA8IHRoaXMuYm9hcmRbMF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0uY2hlY2sobWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNGaWVsZENoZWNrZWQgPSAocm93LCBjb2x1bW4pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJvYXJkW3Jvd11bY29sdW1uXS5pc0NoZWNrZWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc0Z1bGwgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2FyZC5mbGF0KCkuZXZlcnkoZmllbGQgPT4gZmllbGQuaXNDaGVja2VkKCkpO1xuICAgICAgICB9O1xuICAgICAgICAvKiBjaGVja2luZyBzdGF0ZSBlbmQgKi9cbiAgICAgICAgLyogd2lubmluZyBmaWVsZHMgc2VhcmNoICovXG4gICAgICAgIHRoaXMuZ2V0V2lubmluZ0ZpZWxkcyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrUm93cygpIHx8IHRoaXMuY2hlY2tDb2x1bW5zKCkgfHwgdGhpcy5jaGVja0RpYWdvbmFsKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hlY2tSb3dzID0gKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5CT0FSRF9TSVpFOyByb3crKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW3Jvd11bMF0uZ2V0TWFyaygpICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcm93XVswXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbcm93XVsxXS5nZXRNYXJrKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtyb3ddWzFdLmdldE1hcmsoKSA9PT0gdGhpcy5ib2FyZFtyb3ddWzJdLmdldE1hcmsoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcm93XVswXS5zZXRBc0dhbWVXaW5uaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3Jvd11bMV0uc2V0QXNHYW1lV2lubmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtyb3ddWzJdLnNldEFzR2FtZVdpbm5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoZWNrQ29sdW1ucyA9ICgpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRoaXMuQk9BUkRfU0laRTsgY29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2FyZFswXVtjb2x1bW5dLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkWzBdW2NvbHVtbl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdW2NvbHVtbl0uZ2V0TWFyaygpICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMV1bY29sdW1uXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bY29sdW1uXS5nZXRNYXJrKCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkWzBdW2NvbHVtbl0uc2V0QXNHYW1lV2lubmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFsxXVtjb2x1bW5dLnNldEFzR2FtZVdpbm5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMl1bY29sdW1uXS5zZXRBc0dhbWVXaW5uaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jaGVja0RpYWdvbmFsID0gKCkgPT4ge1xuICAgICAgICAgICAgLyogdG9wIGxlZnQsIG1pZGRsZSwgYW5kIGJvdHRvbSByaWdodCAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFswXVswXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFsxXVsxXS5nZXRNYXJrKCkgPT09IHRoaXMuYm9hcmRbMl1bMl0uZ2V0TWFyaygpKVxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMF1bMF0uc2V0QXNHYW1lV2lubmluZygpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkWzFdWzFdLnNldEFzR2FtZVdpbm5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFsyXVsyXS5zZXRBc0dhbWVXaW5uaW5nKCksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8qIHRvcCByaWdodCwgbWlkZGxlLCBhbmQgYm90dG9tIGxlZnQgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMF1bMl0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzFdWzFdLmdldE1hcmsoKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMV1bMV0uZ2V0TWFyaygpID09PSB0aGlzLmJvYXJkWzJdWzBdLmdldE1hcmsoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkWzBdWzJdLnNldEFzR2FtZVdpbm5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFsxXVsxXS5zZXRBc0dhbWVXaW5uaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbMl1bMF0uc2V0QXNHYW1lV2lubmluZygpLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvKiBubyBmaWVsZHMgbWF0Y2hlZCAqL1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8qIHdpbm5pbmcgZmllbGRzIHNlYXJjaCBlbmQgKi9cbiAgICAgICAgLyogYWNjZXNzb3JzICovXG4gICAgICAgIHRoaXMuZ2V0Um93ID0gKHJvd051bWJlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLmJvYXJkW3Jvd051bWJlcl1bMF0sIHRoaXMuYm9hcmRbcm93TnVtYmVyXVsxXSwgdGhpcy5ib2FyZFtyb3dOdW1iZXJdWzJdXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDb2x1bW4gPSAoY29sdW1uTnVtYmVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuYm9hcmRbMF1bY29sdW1uTnVtYmVyXSwgdGhpcy5ib2FyZFsxXVtjb2x1bW5OdW1iZXJdLCB0aGlzLmJvYXJkWzJdW2NvbHVtbk51bWJlcl1dO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldExlZnRUb3BEaWFnb25hbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5ib2FyZFswXVswXSwgdGhpcy5ib2FyZFsxXVsxXSwgdGhpcy5ib2FyZFsyXVsyXV07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0UmlnaHRUb3BEaWFnb25hbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5ib2FyZFswXVsyXSwgdGhpcy5ib2FyZFsxXVsxXSwgdGhpcy5ib2FyZFsyXVswXV07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYm9hcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYW1lQm9hcmRJZCk7XG4gICAgfVxufVxuLyogR2FtZUJvYXJkIGNsYXNzIGVuZCAqL1xuLyogRmllbGQgY2xhc3Mgc3RhcnQgKi9cbmNsYXNzIEZpZWxkIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3csIGNvbHVtbiwgZmllbGRFbGVtZW50LCBnYW1lT25DbGlja0hhbmRsZXIsIGdldEN1cnJlbnRNYXJrKSB7XG4gICAgICAgIHRoaXMucm93ID0gcm93O1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5maWVsZEVsZW1lbnQgPSBmaWVsZEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZ2FtZU9uQ2xpY2tIYW5kbGVyID0gZ2FtZU9uQ2xpY2tIYW5kbGVyO1xuICAgICAgICB0aGlzLmdldEN1cnJlbnRNYXJrID0gZ2V0Q3VycmVudE1hcms7XG4gICAgICAgIHRoaXMubWFyayA9IG51bGw7XG4gICAgICAgIC8qIGhhbmRsZXJzICovXG4gICAgICAgIC8qIGhvdmVyL2ZvY3VzIGluIGZpZWxkIGhhbmRsZSAqL1xuICAgICAgICB0aGlzLmhhbmRsZUhvdmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBsYXllck1hcmsgPSB0aGlzLmdldEN1cnJlbnRNYXJrKCk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1wbGF5ZXInLCBjdXJyZW50UGxheWVyTWFyayk7XG4gICAgICAgIH07XG4gICAgICAgIC8qIGhvdmVyL2ZvY3VzIG91dCBmaWVsZCBoYW5kbGUgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVCbHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5maWVsZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtcGxheWVyJyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qIGhhbmRsZXJzIGVuZCAqL1xuICAgICAgICAvKiBtYW5hZ2VtZW50ICovXG4gICAgICAgIHRoaXMuY2xlYXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1hcmsgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFJvdyAke3RoaXMucm93ICsgMX0sIGNvbHVtbiAke3RoaXMuY29sdW1uICsgMX0sIGVtcHR5IGZpZWxkYCk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZ2FtZS13aW5uaW5nJyk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1wbGF5ZXInKTtcbiAgICAgICAgICAgIHRoaXMuZmllbGRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1tYXJrJyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hlY2sgPSAobWFyaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYXJrID0gbWFyaztcbiAgICAgICAgICAgIHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSb3cgJHt0aGlzLnJvdyArIDF9LCBjb2x1bW4gJHt0aGlzLmNvbHVtbiArIDF9LCAke3RoaXMubWFya30gbWFya2ApO1xuICAgICAgICAgICAgdGhpcy5maWVsZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW1hcmsnLCBtYXJrKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogbWFuYWdlbWVudCBlbmQgKi9cbiAgICAgICAgLyogaGVscGVycyAqL1xuICAgICAgICB0aGlzLmlzQ2hlY2tlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcmsgIT09IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0QXNHYW1lV2lubmluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmllbGRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1nYW1lLXdpbm5pbmcnLCAnJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgLyogaGVscGVycyBlbmQgKi9cbiAgICAgICAgLyogZ2V0dGVycyAqL1xuICAgICAgICB0aGlzLmdldE1hcmsgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXJrO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJvdyA9ICgpID0+IHRoaXMucm93O1xuICAgICAgICB0aGlzLmdldENvbHVtbiA9ICgpID0+IHRoaXMuY29sdW1uO1xuICAgICAgICBpZiAodGhpcy5maWVsZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8qIGNsaWNrIGhhbmRsaW5nICovXG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ2FtZU9uQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgIC8qIGhvdmVyL2ZvY3VzIGluIGhhbmRsaW5nICovXG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLmhhbmRsZUhvdmVyKTtcbiAgICAgICAgICAgIHRoaXMuZmllbGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLmhhbmRsZUhvdmVyKTtcbiAgICAgICAgICAgIC8qIGhvdmVyL2ZvY3VzIG91dCBoYW5kbGluZyAqL1xuICAgICAgICAgICAgdGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZUJsdXIpO1xuICAgICAgICAgICAgdGhpcy5maWVsZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLmhhbmRsZUJsdXIpO1xuICAgICAgICAgICAgLyogc2V0dGluZyBhdHRyaWJ1dGVzICovXG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LnJvdyA9IHRoaXMucm93LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkRWxlbWVudC5kYXRhc2V0LmNvbHVtbiA9IHRoaXMuY29sdW1uLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiBGaWVsZCBjbGFzcyBlbmQgKi9cbi8qIEdhbWVNZW51IGNsYXNzIHN0YXJ0ICovXG5jbGFzcyBHYW1lTWVudSB7XG4gICAgY29uc3RydWN0b3IoZ2FtZU1lbnVJZCwgZ2FtZUluaXQpIHtcbiAgICAgICAgdGhpcy5nYW1lSW5pdCA9IGdhbWVJbml0O1xuICAgICAgICB0aGlzLmluaXQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcm1TdWJtaXRCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTWVudVN1Ym1pdEJ1dHRvbikpO1xuICAgICAgICB9O1xuICAgICAgICAvKiBoYW5kbGVycyAqL1xuICAgICAgICB0aGlzLmhhbmRsZU1lbnVTdWJtaXRCdXR0b24gPSAoZXYpID0+IHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvKiBzaG93cyBlcnJvciBpZiBhbnkgZmllbGQgd2Fzbid0IHNlbGVjdGVkICovXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNBbnlPcHRpb25TZWxlY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZy5pbm5lclRleHQgPSAnUGxlYXNlIHNlbGVjdCBtYXJrIGZvciBwbGF5ZXIgMSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZy5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZy5pbm5lclRleHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIHJldHJpZXZlIGdhbWUgbW9kZSBmcm9tIHN1Ym1pdCBidXR0b24gY2xpY2tlZCBhbmQgc2VsZWN0ZWQgbWFyayBmcm9tIG9wdGlvbnMgKi9cbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGV2LnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IGdhbWVNb2RlID0gc3VibWl0QnRuLmRhdGFzZXQubW9kZTtcbiAgICAgICAgICAgIGNvbnN0IHAxTWFyayA9IHRoaXMuZ2V0Q2hlY2tlZE9wdGlvbk1hcmsoKTtcbiAgICAgICAgICAgIC8qIGhpZGVzIGdhbWUgbWVudSAqL1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAvKiBhbmQgcnVucyBnYW1lIGluaXRpYWxpemF0aW9uICovXG4gICAgICAgICAgICB0aGlzLmdhbWVJbml0KGdhbWVNb2RlLCBwMU1hcmspOyAvLyBtZXRob2QgZnJvbSB0aGUgcGFyZW50IEdhbWUgY2xhc3NcbiAgICAgICAgfTtcbiAgICAgICAgLyogaGFuZGxlcnMgZW5kICovXG4gICAgICAgIHRoaXMuaXNBbnlPcHRpb25TZWxlY3RlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZm9ybU9wdGlvbnMpLnNvbWUob3B0aW9uID0+IG9wdGlvbi5jaGVja2VkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDaGVja2VkT3B0aW9uTWFyayA9ICgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIHRoaXMuZm9ybU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmNoZWNrZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24uZGF0YXNldC5tYXJrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9O1xuICAgICAgICAvKiBoZWxwZXJzICovXG4gICAgICAgIC8qIHZpZXcgdXBkYXRlICovXG4gICAgICAgIHRoaXMuc2hvdyA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGlkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qIHZpZXcgdXBkYXRlIGVuZCAqL1xuICAgICAgICAvKiBvdGhlciAqL1xuICAgICAgICB0aGlzLnNldEZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5mb3JtT3B0aW9uc1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2FtZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbWVNZW51SWQpO1xuICAgICAgICB0aGlzLm1lbnVGb3JtID0gdGhpcy5nYW1lTWVudS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgICAgIHRoaXMuZm9ybU9wdGlvbnMgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpO1xuICAgICAgICB0aGlzLmVycm9yTXNnID0gdGhpcy5tZW51Rm9ybS5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cImFsZXJ0XCJdJyk7XG4gICAgICAgIHRoaXMuZm9ybVN1Ym1pdEJ1dHRvbnMgPSB0aGlzLm1lbnVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgfVxufVxuLyogR2FtZU1lbnUgY2xhc3MgZW5kICovXG4vKiBUdXJuSW5kaWNhdG9yIGNsYXNzIHN0YXJ0ICovXG5jbGFzcyBUdXJuSW5kaWNhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy51cGRhdGUgPSAobWFyaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyTWFya0VsZW1lbnQuaW5uZXJUZXh0ID0gbWFyaztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBsYXllck1hcmtJY29uLnNyYyA9IGAuL2Rpc3QvYXNzZXRzL2ljb24tJHttYXJrfS5zdmdgO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXJNYXJrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXJyZW50LXBsYXllci1tYXJrJyk7XG4gICAgICAgIHRoaXMuY3VycmVudFBsYXllck1hcmtJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnJlbnQtcGxheWVyLW1hcmstaWNvbicpO1xuICAgIH1cbn1cbi8qIFR1cm5JbmRpY2F0b3IgY2xhc3MgZW5kICovXG4vKiBTY29yZUJvYXJkIGNsYXNzIHN0YXJ0ICovXG5jbGFzcyBTY29yZUJvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihzY29yZUJvYXJkSWQpIHtcbiAgICAgICAgdGhpcy5pbml0ID0gKHAxLCBwMiwgdGllcyA9IDApID0+IHtcbiAgICAgICAgICAgIHRoaXMucDFMYWJlbC5pbm5lclRleHQgPSBwMS50b1N0cmluZygpO1xuICAgICAgICAgICAgdGhpcy5wMkxhYmVsLmlubmVyVGV4dCA9IHAyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKHAxLCBwMiwgdGllcyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUgPSAocDEsIHAyLCB0aWVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnAxU2NvcmUuaW5uZXJUZXh0ID0gcDEuZ2V0U2NvcmUoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdGhpcy5wMlNjb3JlLmlubmVyVGV4dCA9IHAyLmdldFNjb3JlKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMudGllc1Njb3JlLmlubmVyVGV4dCA9IHRpZXMudG9TdHJpbmcoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzY29yZUJvYXJkSWQpO1xuICAgICAgICB0aGlzLnAxTGFiZWwgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AxLWdhbWUtbmFtZScpO1xuICAgICAgICB0aGlzLnAxU2NvcmUgPSB0aGlzLnNjb3JlQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcignI3AxLWdhbWUtc2NvcmUnKTtcbiAgICAgICAgdGhpcy5wMkxhYmVsID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMi1nYW1lLW5hbWUnKTtcbiAgICAgICAgdGhpcy5wMlNjb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwMi1nYW1lLXNjb3JlJyk7XG4gICAgICAgIHRoaXMudGllc1Njb3JlID0gdGhpcy5zY29yZUJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXRpZXMnKTtcbiAgICB9XG59XG4vKiBTY29yZUJvYXJkIGNsYXNzIGVuZCAqL1xuLyogUmVzdWx0TW9kYWwgY2xhc3Mgc3RhcnQgKi9cbmNsYXNzIFJlc3VsdE1vZGFsIHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lUXVpdEhhbmRsaW5nLCBnYW1lQ29udGludWVIYW5kbGluZykge1xuICAgICAgICB0aGlzLmdhbWVRdWl0SGFuZGxpbmcgPSBnYW1lUXVpdEhhbmRsaW5nO1xuICAgICAgICB0aGlzLmdhbWVDb250aW51ZUhhbmRsaW5nID0gZ2FtZUNvbnRpbnVlSGFuZGxpbmc7XG4gICAgICAgIC8qIGhhbmRsZXJzICovXG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGludWUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdhbWVDb250aW51ZUhhbmRsaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWl0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmdhbWVRdWl0SGFuZGxpbmcoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogaGFuZGxlcnMgZW5kICovXG4gICAgICAgIC8qIHZpZXcgdXBkYXRlcyAqL1xuICAgICAgICB0aGlzLnNob3cgPSAod2lubmVyID0gbnVsbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzdWx0KHdpbm5lcik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGlkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlUmVzdWx0ID0gKHdpbm5lcikgPT4ge1xuICAgICAgICAgICAgaWYgKHdpbm5lciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUaWVSZXN1bHQoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlXaW5uZXJSZXN1bHQod2lubmVyKTtcbiAgICAgICAgICAgIHRoaXMucXVpdEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRpc3BsYXlUaWVSZXN1bHQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS13aW5uZXInLCAndGllJyk7XG4gICAgICAgICAgICB0aGlzLm1vZGFsSGVhZGluZy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHRoaXMubW9kYWxIZWFkaW5nLmlubmVyVGV4dCA9ICdSb3VuZCB0aWVkJztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kaXNwbGF5V2lubmVyUmVzdWx0ID0gKHdpbm5lcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lubmVyJywgd2lubmVyLmdldE1hcmsoKSk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5nZXRSb3VuZE1lc3NhZ2Uod2lubmVyLmdldE5hbWUoKSk7XG4gICAgICAgICAgICB0aGlzLm1vZGFsTWVzc2FnZS5pbm5lclRleHQgPSBtZXNzYWdlO1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHRIZWFkaW5nKHdpbm5lcik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0UmVzdWx0SGVhZGluZyA9ICh3aW5uZXIpID0+IHtcbiAgICAgICAgICAgIC8qIGNsZWFyIGhlYWRpbmcgYmVmb3JlIHNldHRpbmcgbWVzc2FnZSAqL1xuICAgICAgICAgICAgdGhpcy5tb2RhbEhlYWRpbmcuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBjb25zdCBtYXJrID0gd2lubmVyLmdldE1hcmsoKTtcbiAgICAgICAgICAgIC8qIHdpbm5pbmcgbWFyayBpY29uICovXG4gICAgICAgICAgICBjb25zdCBpbWdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWdFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgYC4vZGlzdC9hc3NldHMvaWNvbi0ke21hcmt9LnN2Z2ApO1xuICAgICAgICAgICAgaW1nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FsdCcsICcnKTtcbiAgICAgICAgICAgIC8qIGhpZGRlbiBtYXJrIGZvciBzY3JlZW4gcmVhZGVycyAqL1xuICAgICAgICAgICAgY29uc3QgaGlkZGVuTWFyayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGhpZGRlbk1hcmsuY2xhc3NMaXN0LmFkZCgndmlzdWFsbHktaGlkZGVuJyk7XG4gICAgICAgICAgICBoaWRkZW5NYXJrLmlubmVyVGV4dCA9IG1hcms7XG4gICAgICAgICAgICAvKiBtZXNzYWdlIGFmdGVyIGltYWdlICovXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCd0YWtlcyB0aGUgcm91bmQnKTtcbiAgICAgICAgICAgIC8qIHNwYW4gY29udGFpbmVyIGZvciBoaWRkZW4gbWFyayBhbmQgbWVzc2FnZSB0ZXh0ICovXG4gICAgICAgICAgICBjb25zdCBoZWFkaW5nU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGhlYWRpbmdTcGFuLmFwcGVuZENoaWxkKGhpZGRlbk1hcmspO1xuICAgICAgICAgICAgaGVhZGluZ1NwYW4uYXBwZW5kQ2hpbGQobWVzc2FnZVRleHQpO1xuICAgICAgICAgICAgdGhpcy5tb2RhbEhlYWRpbmcuYXBwZW5kQ2hpbGQoaW1nRWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLm1vZGFsSGVhZGluZy5hcHBlbmRDaGlsZChoZWFkaW5nU3Bhbik7XG4gICAgICAgIH07XG4gICAgICAgIC8qIHZpZXcgdXBkYXRlcyBlbmQgKi9cbiAgICAgICAgLyogaGVscGVycyAqL1xuICAgICAgICB0aGlzLmdldFJvdW5kTWVzc2FnZSA9IChwbGF5ZXJOYW1lKSA9PiB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZTtcbiAgICAgICAgICAgIHN3aXRjaCAocGxheWVyTmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3AxJzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdQbGF5ZXIgMSB3aW5zISc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3AyJzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdQbGF5ZXIgMiB3aW5zISc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3lvdSc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnWW91IHdvbiEnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjcHUnOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ09oIG5vLCB5b3UgbG9zdC4uLic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtcmVzdWx0LW1vZGFsJyk7XG4gICAgICAgIHRoaXMubW9kYWxNZXNzYWdlID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX21lc3NhZ2UnKTtcbiAgICAgICAgdGhpcy5tb2RhbEhlYWRpbmcgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faGVhZGluZycpO1xuICAgICAgICAvKiBxdWl0IGJ1dHRvbiAqL1xuICAgICAgICB0aGlzLnF1aXRCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cInF1aXRcIl0nKTtcbiAgICAgICAgdGhpcy5xdWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVRdWl0KTtcbiAgICAgICAgLyogY29udGludWUgYnV0dG9uICovXG4gICAgICAgIHRoaXMuY29udGludWVCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cImNvbnRpbnVlXCJdJyk7XG4gICAgICAgIHRoaXMuY29udGludWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvbnRpbnVlKTtcbiAgICB9XG59XG4vKiBSZXN1bHRNb2RhbCBjbGFzcyBlbmQgKi9cbi8qIFJlc3RhcnRNb2RhbCBjbGFzcyBzdGFydCAqL1xuY2xhc3MgUmVzdGFydE1vZGFsIHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lUmVzdGFydEhhbmRsaW5nLCBjYW5jZWxTdXBwb3J0KSB7XG4gICAgICAgIHRoaXMuZ2FtZVJlc3RhcnRIYW5kbGluZyA9IGdhbWVSZXN0YXJ0SGFuZGxpbmc7XG4gICAgICAgIHRoaXMuY2FuY2VsU3VwcG9ydCA9IGNhbmNlbFN1cHBvcnQ7XG4gICAgICAgIC8qIGhhbmRsZXJzICovXG4gICAgICAgIHRoaXMuaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFN1cHBvcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVSZXN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nYW1lUmVzdGFydEhhbmRsaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogaGFuZGxlcnMgZW5kICovXG4gICAgICAgIC8qIHZpZXcgdXBkYXRlcyAqL1xuICAgICAgICB0aGlzLnNob3cgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oaWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLXJlc2V0LW1vZGFsJyk7XG4gICAgICAgIC8qIGNhbmNlbCBidXR0b24gKi9cbiAgICAgICAgdGhpcy5jYW5jZWxCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWFjdGlvbj1cImNhbmNlbFwiXScpO1xuICAgICAgICB0aGlzLmNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2FuY2VsKTtcbiAgICAgICAgLyogcmVzdGFydCBidXR0b24gKi9cbiAgICAgICAgdGhpcy5yZXN0YXJ0QnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hY3Rpb249XCJyZXN0YXJ0XCJdJyk7XG4gICAgICAgIHRoaXMucmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUmVzdGFydCk7XG4gICAgfVxufVxuLyogUmVzdGFydE1vZGFsIGNsYXNzIHN0YXJ0ICovXG4vKiBjbGFzc2VzIGVuZCAqL1xuLyogZ2FtZSBvYmplY3RzICovXG5jb25zdCB0aWNUYWNUb2VHYW1lID0gbmV3IEdhbWUoKTtcbi8qIGdhbWUgb2JqZWN0cyBlbmQgKi9cbiJdfQ==
